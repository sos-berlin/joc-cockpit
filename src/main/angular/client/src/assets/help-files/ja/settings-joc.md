# 設定 - JOC

以下の設定はJOCコックピットに適用されます。変更は直ちに有効になります。

メニューバーのホイールアイコンから *設定* ページにアクセスできます。

## 操作ログの設定

### 設定： *force_comments_for_audit_log*, Default： *false*

オーダー追加、オーダーキャンセルなどのオブジェクトに適用された変更に対して、[操作ログ](/audit-log) に理由を追加しなければならないことを指定します。

これは GUI と [REST Web Service API](/rest-api)からの操作に適用されます。
この設定に値 *true* を指定すると、オブジェクトを変更するすべての API リクエストに、操作ログ用の引数を提供するよう強制されます。

[プロファイル - 設定値](/profile-preferences) には、同じ効果を持つ設定「操作ログコメント有効化」が含まれていることに注意してください。ただし、この設定の使用は任意であり、プロファイルのアカウントに制限されます。force_comments設定は、個々のユーザーアカウントのプロファイル設定に関係なく、 すべてのユーザーアカウントに対してこの動作を強制します。

### 設定： *comments_for_audit_log*

オブジェクトを変更するGUI操作を実行するときにユーザが選択可能なコメントのリストを指定します。リスト・エントリを使用することに加えて、ユーザはこのような操作の実行時に個別のコメントを自由に設定できます。

リストには、オブジェクトを修正するためのよく知られた理由が設定されています。ユーザはリストのエントリを自由に変更したり、可能なコメント用に独自のエントリを追加することができます。

### 設定： *default_profile_account*, Default： *root*
[Identity Services](/identity-services) を使用して JOC コックピットにユーザーアカウントを追加すると、各ユーザーアカウントに個別の設定で[プロファイル - 設定値](/profile-preferences) が作成されます。

- この設定では、ユーザーアカウントが作成されるときにプロファイルのテンプレートとして使用されるアカウントを指定します。 
- デフォルトでは *root* アカウントが使用され、新しいアカウントのプロファイルはデフォルトのプロファイルアカウントの言語、テーマなどの設定から入力されます。

## ログイン設定

### 設定； *enable_remember*, Default： *true*

この設定は、ログイン・ウィンドウから利用可能で、アカウントとパスワードのようなユーザの認証情報をサイト・クッキーに保存する*Remember me*チェックボックスを有効にします。その結果、ユーザーアカウントとパスワードは次回ログイン時に自動入力されます。

- ブラウザデータに認証情報を保存することをセキュリティリスクと考えるユーザーもいるかもしれません。
- ユーザー認証情報を保存しないようにするには、この設定を無効にすることができます。

## インベントリ設定

### 設定： *copy_paste_suffix*, *copy_paste_prefix*, デフォルト： *copy*

JOCコックピットGUIでコピー＆ペースト操作を実行するときにオブジェクト名に使用する接頭辞/接尾辞を指定します。

- JS7のインベントリオブジェクト名はオブジェクトタイプごとに一意です：例えば、ワークフローは一意な名前を使用しますが、ジョブリソースはワークフローと同じ名前を使用することができます。
- そのため、コピー＆ペーストを行う際には新しいオブジェクト名を作成する必要があります。これは、ユーザーが選択できる接頭辞や接尾辞を追加することで実現できます。

### 設定： *restore_suffix*, *restore_prefix*, デフォルト： *restored*。

インベントリオブジェクトが削除されると、インベントリのゴミ箱に追加されます。

- 削除されたオブジェクトがインベントリのゴミ箱からリストアされると、元のオブジェクト名が新しいオブジェクトで使用される可能性があります。 
- この設定では、ゴミ箱からオブジェクトを復元する際に使用するプレフィックスとサフィックスの値を指定できます。

### 設定： *import_suffix*、*import_prefix*、デフォルト： *imported*。

JS7 インベントリのエクスポートとインポート操作では、アーカイブ・ファイルからオブジェクトをインポートできます。

- オブジェクトがインポートされると、その名前が既存のオブジェクト名と衝突する可能性があります。
- この設定では、オブジェクトをインポートする際に使用するプレフィックスとサフィックスの値を指定することができます。

## ビューの設定

### 設定： *show\_view\_\**

これらの設定は、JOCコックピットGUIから実行計画、モニター、ワークフローなどのメインメニュー項目で利用可能な個々のビューを無効にするために使用できます。

- この設定は、デフォルトのロールや権限とは無関係に設定できます。
- その結果、ユーザーアカウントは、GUIからビューが提供されていないにもかかわらず、モニタービューからデータを表示する権限を持っている可能性があります。同時に、[REST Web Service API](/rest-api) を使用している場合、このアカウントは Monitor ビューのデータを利用できます。

### 設定0： *display_folders_in_views*, Default： *true*

*ワークフロー*、*実行計画*、*リソース - カレンダー*、*リソース - ロック*、*リソース - 通知ボード*などの画面で、スケジューリングオブジェクト名とパスを表示するように指定します。この設定に*false*を使用すると、オブジェクトの表示からパスが省略されます。JS7では、どのオブジェクト名も一意です。

## コントローラー設定

### 設定： *controller_connection\_joc_password*, *controller_connection\_history_password*

JS7はパスワードを使用しない一貫した操作を提供します。これにはJOCコックピットからコントローラへの接続も含まれ、相互HTTPSサーバー認証とクライアント認証で保護することができます。コントローラー接続に相互認証を設定したくない場合は、JOCコックピットとコントローラーを識別するためにパスワードを使用する必要があります。

これはJOCコックピットからコントローラーへの2つの接続に適用され、*controller_connection\_joc_password*と*controller_connection\_history_password*の別々の設定によって反映されます：

- JOCコックピットGUIは、オーダー状態の遷移などのイベントを受信します。
- Historyサービスは、コントローラーに接続し、ジョブの実行状況やジョブのログ出力などの履歴情報を受信します。

パスワードは、設定ページではプレーンテキストで、コントローラーのprivate.confファイルではハッシュ値で指定します。

**ハッシュ表示**リンクは設定ページにあり、パスワードのハッシュ値を表示できます。

パスワードが設定ページで変更された場合、パスワードが一致するように、コントローラーのprivate.confファイルのハッシュ値も変更する必要があります。

まずアクティブなコントローラーのprivate.confファイルのパスワードを変更し、次に設定ページのパスワードを変更することを推奨します。その後、コントローラーを再起動します。JOCコックピットはアクティブなコントローラーインスタンスに再接続します。Cコントローラークラスターを使用している場合は、スタンバイコントローラーのprivate.confファイルにも同じ変更を適用する必要があります。

## Unicode設定

### 設定： *encoding*

JOCコックピットをWindows環境で動作させる場合に適用されます。WindowsはUnicodeをサポートしておらず、コードページを利用します。Windowsのコードページが自動検出できない場合は、ユーザーがコードページを指定できます。よく使われる値は *UTF-8* です。

## ライセンス設定

### ライセンス設定： *disable_warning_on_license_expiration*, Default： *false*

JS7は、ライセンスの有効期限が近づいた場合に警告を表示する機能を提供します。この設定に *true* を指定することで、ライセンス期限切れの警告を表示する機能を無効にできます。

## ログ設定

### 設定： *log_ext_directory*

JOCコクピットからアクセス可能な、オーダーログファイルとタスクログファイルのコピーを書き込むディレクトリを指定します。

### 設定： *log_ext_order_history*

オーダーが成功した場合、失敗した場合、またはその両方の場合に、オーダー履歴の情報を保持する JSON ファイルを作成するように指定します。設定可能な値は以下のとおりです：

- **all**：成功したオーダーと失敗したオーダーすべての履歴ファイルを作成します。
- **failed**：失敗したオーダーの履歴ファイルを作成します。
- **successful**成功したオーダーに対して履歴ファイルを作成します。

### 設定： *log_ext_order*

オーダーが成功した場合、失敗した場合、またはその両方の場合にオーダーログファイルが作成されることを指定します。設定可能な値は以下のとおりです：

- **all**：成功したオーダーと失敗したオーダーのログファイルを作成します。
- **failed**失敗したオーダーのログファイルを作成します。
- **successful**成功したオーダーのログファイルを作成します。

### 設定： *log_ext_task*

タスクが成功した場合、失敗した場合、またはその両方の場合にタスクログファイルを作成します。指定可能な値は以下のとおりです：

- **all**: 成功したタスクと失敗したタスクのログファイルを作成します。
- **failed**失敗したタスクのログファイルを作成します。
- **successful**成功したタスクのログファイルを作成します。

### 設定： *log_maximum_display_size*, Default： *10* MB

JOCコックピットは、非圧縮ログ出力のサイズがこの値を超えない場合、ログビューウィンドウで表示するためにログ出力を提供します。それ以外の場合、ログはダウンロード専用に提供されます。サイズはMB単位で指定します。

### 設定： *log_applicable_size*, Default： *500* MB

タスクログ出力サイズがこの値を超えると、Historyサービスはログ出力を切り捨て、最初と最後の100 KBをタスクログに使用します。元のログファイルは削除されます。サイズはMB単位で指定します。この閾値を超えるログ出力が発生した場合は警告が表示されますが、タスク実行履歴と切り捨てられたログ出力は、JOCコックピットAPIおよびGUIから確認可能です。

### 設定： *log_maximum_size*, Default： *1000* MB

タスクログ出力サイズがこの値を超えると、Historyサービスはログ出力を停止し、それ以降のログ出力は無視されます。最初の100 KBをタスクログに使用します。元のログファイルは削除されます。サイズはMB単位で指定します。

## リンク設定

### 設定： *joc_reverse_proxy_url*

JOCコックピットが本来のURLからアクセスできず、リバースプロキシからのみアクセスできる場合、この値はメール通知などで使用されるURLを指定します、

## ジョブ設定

### 設定： *allow_empty_arguments*, Default： *false*

デフォルトでは、ジョブに指定される引数は何らかの値を保持する必要があります。この設定はデフォルトの動作を上書きし、null値を指定できます。

## オーダー設定

### 設定： *allow_undeclared_variables*, Default： *false*

デフォルトでは、オーダー変数はワークフローで宣言されなければなりません。この設定はデフォルトの動作を変更し、オーダーが任意の変数を指定できるようにします。オーダーで指定されていない変数を参照した場合、ジョブや関連する指示は失敗することに注意してください。

## タグ設定

### 設定： *num_of_tags_displayed_as_order_id*, Default： *0*

各オーダーに表示されるタグの数を指定します。0を指定するとタグを表示しません。オーダーごとに表示されるタグの数が多いと、パフォーマンスが低下する可能性があります。

### 設定： *num_of_workflow_tags_displayed*, Default： *0*

ワークフロー毎に表示するタグの数を指定します。0を指定するとタグを表示しません。

## 承認設定

### 設定： *approval_requestor_role*

承認プロセスの対象となるアカウントに割り当てられるRequestorロールの名前を指定します。

## レポート設定

### 設定： *report_java_options*, Default： *-Xmx54M*

レポートの作成時に使用されるJavaオプションを指定します。既定値では、レポートの作成に必要な最小Javaヒープ容量が考慮されます。1日あたりのジョブ実行数が多いユーザは、メモリ・ニーズに合わせてこの値を増やさなければならない場合があります。

## 参照

### コンテキストヘルプ

- [操作ログ](/audit-log)
- [Identity Services](/identity-services)
- [プロファイル - 設定値](/profile-preferences)
- [REST Web Service API](/rest-api)
- [設定](/settings)

###Product Knowledge Base

- [JS7 - Audit Log](https://kb.sos-berlin.com/display/JS7/JS7+-+Audit+Log)
- [JS7 - Audit Trail](https://kb.sos-berlin.com/display/JS7/JS7+-+Audit+Trail)
- [JS7 - Settings](https://kb.sos-berlin.com/display/JS7/JS7+-+Settings)

