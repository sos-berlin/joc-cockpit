# オーダー概要

オーダーの概要]ビューでは、ワークフローのオーダーを監視および管理できます。

- [Order State](/order-states) ごとに処理中のオーダーを確認できます。
- 実行中のオーダーをキャンセルするなど、オーダーの移行も可能です。
- このビューには、[Daily Plan](/daily-plan) によって追加されたオーダーと、オンデマンドで追加されたオー ダーが表示されます。

## オーダー状態選択パネル

左側のパネルには、状態ごとに利用可能なオーダー数が表示されます。関連する州または番号をクリックすると、[オーダー]パネルに関連するオーダーが表示されます。

## タグパネル

中央のパネルは、タグでオーダーをフィルタリングできるタブで構成されています。

- **ワークフロータグ**は[Configuration - Inventory - Workflows](/configuration-inventory-workflows) 。
- **オーダータグ**は[Configuration - Inventory - Schedules](/configuration-inventory-schedules) 。

タグは + と - のアイコンから選択し、クイック検索アイコンで検索することができます。タグの表示は[Settings - JOC Cockpit](/settings-joc) ページから有効にする必要があります。

## オーダーパネル

このパネルは指定された状態のオーダーリストを表示します：

- **オーダーID**はオーダーに割り当てられた一意の識別子です。
  - オーダーID**はオーダーに割り当てられた一意の識別子です。
- **ワークフロー名**はワークフローに割り当てられた一意の名前です。
  - ワークフロー名**をクリックすると[Workflows](/workflows) ビューに移動します。
  - 鉛筆アイコンをクリックすると、[Configuration - Inventory - Workflows](/configuration-inventory-workflows) ビューに移動します。
- **Label**はワークフロー指示のラベルからオーダーの位置を示します。ラベルがない場合は、技術的な位置を示します。
- **状態** は[Order State](/order-states) を示します。
  - 状態インジケータにマウスカーソルを合わせると、詳細が表示されます。例えば、*waiting* オーダーは、*waiting for process*、*waiting for Notice Board*などの理由を示します。
- **スケジュール]は、オーダーの開始日を示します。

## 履歴パネル

オーダーIDをクリックすると、ウィンドウ下部に履歴パネルが表示されます。パネルには[オーダー履歴]と[監査ログ]のサブタブがあります。

### オーダー履歴

- **オーダーID**はオーダーに割り当てられた一意の識別子です。矢印アイコンをクリックすると、オーダー変数が表示されます。
- **ラベル**は、ワークフローにおけるオーダーの最新の位置を示します。ユーザーはワークフロー指示書に **ラベル** を割り当てることができます。
- **履歴ステータス(History Status)**は、オーダーにおける最新の結果を示します。
  - オーダーが完了した場合、*履歴ステータス**は*成功*または*失敗*となります。
  - オーダーが完了していない場合、*履歴ステータス**は*進行中**となります。
- **予定時刻**は、オーダーが予定された最初の日時を示します。
- **開始時間**は、オーダーが開始された有効な日時を示します。
- **終了時刻]は、オーダーが完了した日時を示します。

#### ログ出力へのアクセス

- **オーダーID**：履歴]パネルで[オーダーID]をクリックすると、そのオーダーのログ出力が[Order Log View](/order-log) から表示されます。 ログには、ワークフローで実行されたジョブによって作成された出力も含まれます。
- **アイコンをクリックすると、オーダーのログをファイルにダウンロードします。

デフォルトでは、オーダーログの表示は 10MB に制限されています。ユーザーは[Settings - JOC Cockpit](/settings-joc) ページから制限を調整できます。

### 監査ログ

監査ログ(*Audit Log*)は、オーダーに対して行われた変更操作を示します。

- **Created**は操作が実行された日付を示します。
- **アカウント** は、操作を実行したユーザーアカウントを示します。
- **Request**は、呼び出された REST API エンドポイントを示します。
- **Category**は、オーダーをキャンセルする場合はCONTROLLER、[Daily Plan](/daily-plan) からオーダーを作成する場合はDAILYPLANなど、操作の分類を指定します。
- **Reason(理由)**は、オーダーが変更された理由を説明します。JOC コックピットは、オブジェクトを変更するときに理由を指定するように設定できます。
  - この設定は[Profile - Preferences](/profile-preferences) から利用できます。
  - [Settings - JOC Cockpit](/settings-joc) ページから設定できます。
- Time Spent** **理由**の指定と同様に、オーダーを変更する際に操作に費やした時間を追加できます。
- **チケットリンク** オーダーを変更する際に、*理由*の指定と同様にチケットシステムへの参照を追加することができます。

## オペレーション

### オーダーに関する操作

オーダーごとにアクションメニューが表示されます。

pending*、*scheduled*、*in progress*、*running*、*suspended*、*prompting*、*waiting*、*failed* の状態のオーダーに対して、以下の操作が提供されます：

- **優先順位の変更 
  - オーダーが並列処理を制限するワークフローの *リソースロック* 命令に適合する場合、その *優先順位* は待機中の*オーダーのキュー内の位置を決定します。
  - *優先度*は負、0、正の整数、または提供されるショートカットから指定します。優先度*は高い方が優先されます。ショートカットには以下の値があります：
    - **Low**： -20000
    - **通常**以下： -10000
    - **通常**：0
    - **標準以上10000
    - **高い**：20000
- **キャンセル**：オーダーを終了します。実行中のオーダーは現在のジョブまたはワークフロー命令を完了し、ワークフローの履歴ステータスは失敗となります。
- **ジョブを実行しているオーダーを強制的に終了します。オーダーは失敗した履歴ステータスでワークフローから離脱します。
- **ジョブを実行しているオーダーを強制終了します。オーダーは履歴が失敗した状態でワークフローから離脱します。
- **オーダーを一時停止します。実行中のオーダーは、現在のジョブまたはワークフローが完了すると中断されます。
- **実行中のオーダーを強制終了し、オーダーを一時停止します。
- **Suspend/reset**は、現在のワークフロー命令を即座にリセットし、オーダーを*サスペンド*状態にします。このオプションは、実行中のオーダーのタスクの強制終了と組み合わせることができます。
- **再開**は、*中断*または*失敗*した再開可能なオーダーを継続します。

完了*状態のオーダーと、*失敗*状態の中断されたオーダーには、以下の操作が可能です：

- **ワークフローを離れる** オーダーを終了します。 
  - *完了*のオーダーは、ワークフローから*成功*の履歴を残します。
  - *失敗/中断した*オーダーは、ワークフローから*失敗*の履歴を残します。

オーダーの状態に応じて、その他の操作を行うことができます。

### 一括操作

一括操作は、関連するチェックボックスからオーダーを選択する際に使用できます。個別のオーダーと同じ操作が可能です。

オーダーを選択すると、ウィンドウ上部に一括操作用のボタンが表示されます。

## フィルター

ユーザーは、フィルターを適用してオーダーを制限することができます。フィルターボタンはウィンドウ上部にあります。

### 日付範囲フィルターボタン

日付範囲からオーダーを選択することができます：

- **All**は、表示される過去と未来の日付にスケジュールされたオーダーを指定します。
- **今日**のオーダーは、[Profile - Preferences](/profile-preferences) のタイムゾーンから計算される現在の日に関連します。
- **次の1時間**」には、次の1時間以内に開始するオーダーが含まれます。
- **次の12時間**には、次の12時間以内に開始するオーダーが含まれます。
- **翌24時間以内** には、翌24時間以内に開始するオーダーが含まれます。
- **翌日**には、翌日末までのオーダーが含まれます。
- **翌7日以内**には、翌7日以内に開始すべきオーダーが含まれます。

### 状態フィルターボタン

オーダー状態選択パネルと同様に、オーダー状態ごとにフィルターボタンが用意されています。

### 日付入力フィルター

進行中*、*実行中*、*失敗*、*完了* 状態のオーダーに対して、オーダーが関連状態を保持する日付と時刻を指定する入力フィールドが利用できます。

絶対日付または相対日付を指定できます。

### 結果フィルター

フィルタは、一致する*オーダーID*と*ワークフロー名*に表示を限定します。フィルタは表示されているオーダーに適用され、大文字と小文字は区別されません。

## 参照

### コンテキストヘルプ

-[Configuration - Inventory - Schedules](/configuration-inventory-schedules)
-[Configuration - Inventory - Workflows](/configuration-inventory-workflows)
-[Daily Plan](/daily-plan)
-[Order Log View](/order-log)
-[Order State](/order-states)
-[Profile - Preferences](/profile-preferences)
-[Settings - JOC Cockpit](/settings-joc)
-[Workflows - Add Orders](/workflows-orders-add)

###Product Knowledge Base

-[JS7 - Orders](https://kb.sos-berlin.com/display/JS7/JS7+-+Orders)

