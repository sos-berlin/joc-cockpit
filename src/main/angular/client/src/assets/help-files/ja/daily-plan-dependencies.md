# 実行計画 - 依存関係

ワークフローの依存関係は、すべての営業日および特定の日付に対して強制適用できます。例えば：

- ワークフロー1は月曜日から金曜日まで実行されます。
- ワークフロー2は月曜日から日曜日まで実行され、前のワークフロー1の実行結果に依存します。
- 週末にはワークフロー1は開始されません。ワークフロー2を週末にも開始可能にするため、この依存関係は *通知ボード* を使用して実行計画にマッピングされます。具体的には、ワークフロー1に関するオーダーが発行されていない場合、この依存関係は無視されます。

### カレンダー

カレンダーウィジェットでは、依存関係が表示される日付の実行計画を選択できます。
- **赤色**：終了済みの日付で、新規オーダーの追加が不可な状態を示します。
- **緑色**：過去および今後の日付で、新規オーダーの追加が可能な状態を示します。

実行計画日に関する操作は以下の通りです：
- **実行計画オープン**：計画日に新しいオーダーが追加された場合、自動的にこの処理が実行されます。ユーザーは一度閉じた計画を再度開くことも可能です。
- **実行計画クローズ**：オープン状態の実行計画はクローズされ、これ以上のオーダー追加ができなくなります。この処理は過去の計画日付に対して1日の遅延をもって自動的に実行されます。関連する設定は、[設定 - Daily Plan](/settings-daily-plan)画面から変更できます。ユーザーは計画を早期にクローズすることで、それ以降のオーダー追加を防止することも可能です。

### 依存関係表示

以下のオブジェクトが表示されます：
- **送信ワークフロー**：左側には、*PostNotice命令* を含むワークフローが表示されます。
- **通知ボード**：中央セクションには、通知を作成する通知ボードの名前が表示されます。
- **受信ワークフロー**：右側には、*ExpectNotice命令* または *ComsumeNotice命令* を含むワークフローが表示されます。

以下の関係性が定義されています：
- **送信ワークフロー**：1つ以上の通知を作成し、これらは同じまたは異なる受信ワークフローによって処理されることが期待されます。
- **受信ワークフロー**：同じまたは異なる送信ワークフローから送信される1つ以上の通知を受信し、処理します。

依存関係は以下の線で示されます：
- **青色**：*送信ワークフロー* のオーダーが開始される将来の時点について通知が発行され、そのタイミングで通知が作成されることを示します。
- **緑色**：依存関係が未解決の状態であり、通知は発行済みですがすべての *受信ワークフロー* による処理がまだ完了していないことを示します。
  - **緑色の受信ワークフロー**：*受信ワークフロー* のオーダーは開始されましたが、通知を確認するワークフロー命令には進んでいない状態です。
  - **青色の受信ワークフロー**：*受信ワークフロー* のオーダーは、当日のより遅い時間帯に開始予定であることを示します。
- **灰色の行**：依存関係が解決され、通知が発行され、*受信ワークフロー* によって処理されたことを示します。

### 詳細検索

左上の検索ボタンから、ワークフローとその依存関係の表示を以下のように表示できます：

- **未来**：オーダースケジュールされているが未開始で、まだ通知が発行されていないワークフローを表示します。通知が発行されると、この表示からは削除されます。
- **現在**：通知が発行され、処理可能な状態にあるワークフローを表示します。ワークフローによって通知が消費された場合、その通知は削除され、表示されなくなります。

両方のボタンが有効になっている場合、通知が発令済みかつ発行済みのもの、および解決済みで通知が消費され表示されなくなった依存関係が含まれます。

両方のボタンが無効になっている場合、発令済み・発行済みの通知を含むすべてのワークフローと依存関係、および消費済みの通知が表示されます。

## 参照
- [ジョブ定義 - インベントリー - 通知ボード](/configuration-inventory-noticeboard)
- [実行計画](/daily-plan)
- [設定 - Daily Plan](/settings-daily-plan)
- [JS7 - Daily Plan](https://kb.sos-berlin.com/display/JS7/JS7+-+Daily+Plan)

