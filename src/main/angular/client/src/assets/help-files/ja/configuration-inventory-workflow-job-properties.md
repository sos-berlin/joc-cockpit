# ジョブ定義 - インベントリー - ワークフロー - ジョブプロパティ

*ワークフロー* 画面では、ワークフロー命令を処理する有向非巡回グラフ(DAG)を作成できます。
ジョブをクリックすると、ジョブの詳細を指定するためのタブがいくつか表示されます。最初のタブは *ジョブプロパティ*です。

## 必須ジョブプロパティ

ジョブの必須プロパティは以下の通りです：

- **名称** は、一意な名前でジョブを識別します。ワークフロー内で複数のジョブが同じ名称を使用する場合、実際に保存されるのは1つだけ保存され、他のジョブでは異なる **ラベル** を使用してジョブを参照します。
- **ラベル** は、ワークフロー命令のための一意な識別子です。一意性は、ジョブや他のインストラクションにまたがって強制されます。同じ **名称** がワークフロー内で何度も使用される場合、異なる **ラベル** を使用する必要があります。
- **エージェント** は、ジョブを実行するエージェントを割り当てます。
  - *スタンドアロンエージェント* は、*エージェント名* から選択されます。
  - *クラスタエージェント* は、*エージェントクラスター* と *サブエージェントクラスター* を選択して指定します。
- **スクリプト** は、関連する Unix または Windows プラットフォームのジョブで実行されるシェルコマンド、スクリプトの呼び出し、実行可能ファイルを保持します。

## オプションジョブプロパティ

- **タイトル** ジョブの説明や目的などを記述します。ユーザーはマークダウン構文を使ってリンクを追加することができます。*タイトル* は、[ワークフロー](/workflows) 画面などで検索するときに使用できます。
- **ジョブリソース** は、ワークフロー変数や環境変数から利用可能なキー/値ペアの変数を保持するインベントリーオブジェクトです。 *ジョブリソース* はジョブレベルで割り当てることができ、ワークフローレベルで割り当てることもできます。詳細は[設定 - インベントリー - ジョブリソース](/configuration-inventory-job-resources) を参照してください。
- **リターンコード** は、ジョブが成功したか失敗したかを指定します。デフォルトでは 0 が成功、それ以外が失敗を表します。*0,2,4,8* のようにコンマで区切ることができます。例えば、*0..8* または *0,2,4,8,16..64*のようにカンマで区切ります。負のリターンコードは未定義です。
  - **成功** は、成功したリターンコードを指定します。
  - **失敗** は、失敗を示す失敗したリターンコードを指定します。
  - **無視** は、リターンコードをジョブの成否の指標としません。
- **警告** は、成功時のリターンコードのサブセットです。成功したリターンコードが警告として指定された場合、通知が作成されますが、ワークフロー内のオーダーの流れは警告の影響を受けません。

### ジョブクラス

- **ジョブクラス** は、実行されるジョブのタイプを指定します。詳細は[JS7 - Job Classes](https://kb.sos-berlin.com/display/JS7/JS7+-+Job+Classes) を参照してください。
  - **Shell** は、オペレーティングシステムのシェル、例えば Windows シェルや /bin/sh から利用可能な Unix シェルで実行されます。シェルジョブには、シェルコマンド、スクリプトの呼び出し、実行可能ファイルが含まれます。シェルジョブでは、Node.js、Perl、Python、PowerShell などのスクリプト言語を使用することができます。コマンドラインから実行できるインタプリタがオペレーティングシステムにインストールされている必要があります。
  - **JVM ジョブ** は、JS7 エージェントが[JS7 - Job API](https://kb.sos-berlin.com/display/JS7/JS7+-+Job+API) を提供する Java 仮想マシンで動作する多くの言語で実装されています：
    - *ジョブテンプレート*
      - **JITL** は、[JS7 - Integration Job Templates](https://kb.sos-berlin.com/display/JS7/JS7+-+Integration+Job+Templates) から使用する Java ジョブです。例えば、データベースにアクセスしたり、SSH などでリモートホストにアクセスしたりします。
    - *ユーザ定義ジョブ*
      - **Java** は、JS7エージェントが提供するJVMで実行されます。
      - **JavaScript** は、JS7エージェントと共にOracle® GraalVM Java Virtual Machineを使用する必要があります。

### 環境変数

シェルジョブでは、パラメータは環境変数から利用可能です。

- **名称** は、オペレーティングシステムの制限内で自由に選択できます。よく使われる命名規則には、大文字の綴りが含まれます。Unixでは **名称** は大文字と小文字を区別しますが、Windowsでは大文字と小文字を区別しません。
- **値** は、文字列または数値から直接入力することができます。さらに、ワークフローで宣言されたワークフロー変数を指定することができます。ワークフロー変数のスペルは大文字と小文字を区別します。

## ジョブプロパティは *オプション*　スライダーから利用可能です。

*ジョブ定義 - インベントリー* 画面ではウィンドウ上部に *オプション* スライダーが表示されます。このスライダーを使用すると、追加オプションが利用可能になります。

- **ドキュメント** は、ジョブの説明に使用できる[リソース - ドキュメント](/resources-documentations) へのリンクを保持します。ドキュメントへの参照は[ワークフロー](/workflows) 画面から確認できます。

## 参照

### コンテキストヘルプ

- [ジョブ定義 - インベントリー - ジョブリソース](/configuration-inventory-job-resources)
- [ジョブ定義 - インベントリー - ワークフロー](/configuration-inventory-workflows)
  - [ジョブ定義 - インベントリー - ワークフロー - ジョブオプション](/configuration-inventory-workflows-job-options)
  - [ジョブ定義 - インベントリー - ワークフロー - ノードプロパティs](/configuration-inventory-workflows-job-node-properties)
  - [ジョブ定義 - インベントリー - ワークフロー - 通知](/configuration-inventory-workflows-job-notifications)
  - [ジョブ定義 - インベントリー - Wワークフロー - ジョブタグ](/configuration-inventory-workflows-job-tags)
- [リソース - ドキュメント](/resources-documentations)

###Product Knowledge Base

- [JS7 - Integration Job Templates](https://kb.sos-berlin.com/display/JS7/JS7+-+Integration+Job+Templates)
- [JS7 - Job API](https://kb.sos-berlin.com/display/JS7/JS7+-+Job+API)
- [JS7 - Job Classes](https://kb.sos-berlin.com/display/JS7/JS7+-+Job+Classes)
- [JS7 - Job Instruction](https://kb.sos-berlin.com/display/JS7/JS7+-+Job+Instruction)

