# 設定 - 在庫 - カレンダー

カレンダーパネル*では、[Daily Plan](/daily-plan) からオーダーを作成するために[Configuration - Inventory - Schedules](/configuration-inventory-schedules) で使用されるルールベースのカレンダーを指定することができます。 詳細は[JS7 - Calendars](https://kb.sos-berlin.com/display/JS7/JS7+-+Calendars) を参照してください。

- カレンダーはワークフローが実行される日を指定します。
  - **カレンダーはワークフローが実行される日を指定します。
  - **ワークフローが実行されない日を指定します。
- スケジュール 
  - 稼働日カレンダーと非稼働日カレンダーの任意の数への参照を保持します。
  - ワークフロー実行のオーダーを開始する時点を決定します。 

カレンダーは以下のパネルで管理します：

- ウィンドウの左側にある[Configuration - Inventory - Navigation Panel](/configuration-inventory-navigation) では、カレンダーを保持するフォルダごとにナビゲーショ ンが可能です。また、カレンダーに対する操作も可能です。
- ウィンドウ右側の*カレンダーパネル*には、カレンダー設定の詳細が表示されます。

## カレンダーパネル

カレンダーでは以下の入力が可能です：

- **Name**はカレンダー固有の識別子で、[Object Naming Rules](/object-naming-rules) を参照してください。
- **Title**には、カレンダーの目的についての説明を任意で記述します。
- **Type**は、営業日カレンダーまたは非営業日カレンダーのいずれかです。
- **Valid from**, **Valid to** は、オプションでカレンダーの有効期間を指定します。有効期間前と有効期間を過ぎると、カレンダーは結果の日を返しません。有効期間を指定しない場合、カレンダーは無制限に有効です。

### 頻度

頻度には 2 つの種類があり、組み合わせることができます：

- **インクルード・フリークエンシー（Included Frequencies）**は、正の日数を指定します。
- **除外頻度** は、結果のリストから削除される日を指定します。

Excluded Frequencies**の意味するところは、指定された日付の使用を拒否し、一致する日に *Included Frequencies*を上書きするということです。

営業日カレンダーの例を考えてみましょう：

- 月～金の*含まれる頻度*を仮定します。
- 1月1日や5月1日などの祝祭日には、*除外頻度*を設定します。
- On Non-working Day** プロパティを値で指定したスケジュールで使用する場合。
  - **非稼働日**の前 
    - 1月1日が月曜日の場合、オーダーは*Included Frequencies*の一部ではなく、*Excluded Frequencies*の一部でもない、前の日曜日に作成されます。 
    - 1月1日が土曜日の場合、*Included Frequencies*からオーダーが作成される前日が金曜日であるため、オーダーは作成されません。
  - **非営業日**の後
    - 1月1日が土曜日である場合、オーダーは次の日曜日に作成されます。この日曜日は、*Included Frequencies*の一部ではなく、*Excluded Frequencies*の一部でもありません。 
    - 1月1日が日曜日の場合、次の非営業日は月曜日であり、*Included Frequencies*からオーダーが作成されるため、オーダーは作成されません。

非営業日カレンダーを使用する場合は、対応するルールが適用されます： *Included Frequencies*は非営業日を指定し、*Excluded Frequencies*は営業日を指定します。

カレンダーは、マージされる*頻度*をいくつでも保持できます。頻度の追加]ボタンは、[含まれる頻度]と[除外される頻度]のそれぞれに対して提供されます。

#### 頻度タイプ

頻度*を追加するときは、いくつかのタイプを選択できます：

  - **平日** は曜日を指定します。
  - **特定の平日(Specific Weekdays)**は、月の最初または最後の月曜日など、相対的な平日を指定します。
  - **特定の日**は、年の曜日を指定します。
  - **月日**は、月の最初の日や最後の日など、月の相対的な日を指定します。
  - **Every**は、2日ごと、1週間ごと、3ヶ月ごとなどの定期的な期間を指定します。この場合、日数のカウントを開始する *有効な開始日* を指定する必要があります。
  - **祝祭日**は既知の祝祭日を指定します。祝祭日**は既知の祝祭日を指定します。
  - **非稼働日カレンダー**は、現在のカレンダーの非稼働日カレンダーから関連する日を除外します。

*頻度タイプ**は、同じまたは異なる*頻度タイプ**を繰り返し適用することで組み合わせることができます。

#### 例

第 2 営業日ごとに返されるカレンダーの例を想定します：

- 月～金は営業日、土～日は非営業日とします。
- 1月1日、5月1日を祝祭日とします。

2営業日ごとのカウントは、週末と祝祭日を除く必要があります：

- を使用して営業日カレンダーを作成します。
  - *を使用して営業日カレンダーを作成します：頻度タイプ**に**平日**を追加し、*毎日*を選択します。その結果、年間すべての曜日が保持されます。
  - *除外された頻度*：Frequency Type**に**Every**を追加し、間隔に*2*、単位に*Days*を選択します。有効開始日*を指定します。この結果、日数が半分になります。
  - *除外された頻度*：祝祭日** *頻度タイプ**を追加し、*国*と*年*を選択します。これにより、結果の日数がさらに制限されます。

プレビューを表示]ボタンから結果を確認すると、週末と祝日を除く2営業日ごとの結果が表示されます。

別の方法として、スケジュールの*制限*から**Every** *頻度タイプ*を指定することもできます。

## カレンダーの操作

利用可能な操作については[Configuration - Inventory - Navigation Panel](/configuration-inventory-navigation) を参照してください。

## 参考文献

### コンテキストヘルプ

-[Configuration - Inventory - Navigation Panel](/configuration-inventory-navigation)
-[Configuration - Inventory - Schedules - Run-time](/configuration-inventory-schedules-run-time)
-[Daily Plan](/daily-plan)
-[Object Naming Rules](/object-naming-rules)

###Product Knowledge Base

-[JS7 - Calendars](https://kb.sos-berlin.com/display/JS7/JS7+-+Calendars)
-[JS7 - Schedules](https://kb.sos-berlin.com/display/JS7/JS7+-+Schedules)

