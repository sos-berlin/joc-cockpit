# ジョブ定義 - インベントリー - ジョブテンプレート

*ジョブテンプレート* はワークフローで使用されるジョブの一元管理されたテンプレートを指定することができます。これらのテンプレートは同じジョブが複数のジョブで使用される場合に適用されます。

- ジョブテンプレートはジョブが作成されたときに適用されます。 
- ジョブテンプレートが変更されるとジョブも更新されます。
- ジョブテンプレートは、Shellジョブやエージェントの Java 仮想マシンで実行される JVM ジョブなど、どのジョブクラスに対しても作成することができます。

ジョブテンプレートは以下で管理できます：

- ウィンドウの左側にある[ジョブ定義 - オンベントリー - ナビゲーションパネル](/configuration-inventory-navigation) は、ジョブテンプレートのフォルダーごとにナビゲートします。さらに、このパネルはジョブテンプレートに対する操作を提供します。
- ウィンドウ右側の *ジョブテンプレートパネル* はスケジュール設定の詳細を表示します。

## ジョブテンプレートパネル

ジョブテンプレートでは以下の入力が可能です：

- **名称** はジョブテンプレートの一意な識別子です。[オブジェクト命名規則](/object-naming-rules) を参照してください。
- その他の入力はジョブの入力に対応します：
  - [ジョブプロパティ](/configuration-inventory-workflow-job-properties)
  - [ジョブオプション](/configuration-inventory-workflow-job-options)
  - [ノードプロパティ](/configuration-inventory-workflow-job-node-properties)
  - [ジョブ通知](/configuration-inventory-workflow-job-notifications)
  - [ジョブタグ](/configuration-inventory-workflow-job-tags)
- **引数** は、JVMジョブで使用されます。 
  - **必須** は、ジョブで使用されるときに引数が必須か削除可能かを指定します。
  - **ソース** は、HTMLタグを含むことができる引数の説明を追加します。

## ジョブテンプレートに対する操作

一般的な操作については[ジョブ定義 - インベントリー - ナビゲーションパネル](/configuration-inventory-navigation) を参照してください。

ジョブテンプレートでは以下の操作でジョブを更新することができます：

- ジョブテンプレートがリリースされると、**ジョブテンプレートを適用** ボタンが利用可能になります。
  - ジョブテンプレートを使用しているワークフローとジョブがポップアップウィンドウに表示されます。
  - ユーザーは更新するワークフローとジョブを選択することができます。
  - **検索** により、*下書き* ステータスのワークフロー、または *配置済* ステータスのワークフローにアップデートを制限することができます。
  - **通知更新** は、ジョブテンプレートからジョブ通知設定を更新することを指定します。
  - **許可時間更新** は、ジョブテンプレートからジョブ許可時間を更新することを指定します。
  - **必須引数更新** は、指定されたジョブテンプレートの引数のうち、必須である引数を更新します。
  - **オプション引数更新** は、選択されたジョブにおいて、オプションである引数を更新することを指定します。
- **テンプレートから更新** は *ナビゲーションパネル* から利用可能で、任意のフォルダーにあるジョブテンプレートから、選択した *インベントリーフォルダー* にあるワークフローのジョブを更新します。
- **テンプレートから適用** は *ナビゲーションパネル* から利用可能で、選択された *インベントリーフォルダー* や子フォルダーに含まれるジョブテンプレートがある任意のフォルダーにあるワークフローのジョブを更新します。

ジョブテンプレートからジョブを更新した後、ワークフローは *下書き* ステータスに設定されます。

## ジョブとの併用

ジョブテンプレートは既存のジョブから作成することができます。あるワークフローの *ジョブ定義 -&gt; インベントリー* 画面で、ジョブをクリックし、そのアクションメニューから *ジョブテンプレートにする* 操作を行うことができます。

ジョブにジョブテンプレートを割り当てるには以下のようにします：

- ウィンドウ右上のウィザードボタンをクリックします。
- これによりポップアップウィンドウが表示され、*ユーザージョブテンプレート* タブを選択することができます。
  - 希望のジョブテンプレートに移動するか、ジョブテンプレートの名前の一部を入力します。
  - ジョブテンプレートを選択し、オプションでジョブテンプレートが提供する引数を追加します。
  
ジョブテンプレートにジョブが割り当てられると、ウィンドウの右上に表示されます：

- ユーザーは *ジョブテンプレート参照* を見つけます、
- その後に *ステータス同期* のアイコンが表示されます： 
  - 緑色はジョブとジョブテンプレートが同期していることを示します。 
  - オレンジ色はジョブテンプレートが変更され、ジョブが同期されていないことを示します。
- オレンジ色の *ステータス同期* をクリックすると、ジョブテンプレートからジョブが更新されます。

ジョブテンプレート参照をジョブから削除するには、ジョブテンプレート名の右上にあるゴミ箱アイコンをクリックします。この操作によってジョブテンプレートへのリンクは解除され、ジョブプロパティはそのまま残ります。 

ジョブテンプレートを参照しているジョブでは、ジョブの主要な部分を変更することはできません。代わりに、変更はジョブテンプレートに適用されなければなりません。これは自由に選択できる以下の入力には適用されません：

- **名称**
- **ラベル**
- **エージェント**
- **許可時間**
- **ジョブ通知**

**JVMジョブ用の引数** または **Shellジョブの環境変数** に動的に値を割り当てるには、ユーザーは以下のように操作します：

- ジョブテンプレートは **引数** または **環境変数** に値を割り当てるためにワークフロー変数を使用します。
- ジョブテンプレートを参照するジョブを含むワークフローは、デフォルト値や入力されるオーダーからワークフロー変数を宣言します。

## 参照

### コンテキストヘルプ

- [ジョブ定義 - インベントリー - ナビゲーションパネル](/configuration-inventory-navigation)
- [ノードプロパティ](/configuration-inventory-workflow-job-node-properties)
- [ジョブ通知](/configuration-inventory-workflow-job-notifications)
- [ジョブオプション](/configuration-inventory-workflow-job-options)
- [ジョブプロパティ](/configuration-inventory-workflow-job-properties)
- [ジョブタグ](/configuration-inventory-workflow-job-tags)
- [オブジェクト命名規則](/object-naming-rules)

###Product Knowledge Base

- [JS7 - Job Templates](https://kb.sos-berlin.com/display/JS7/JS7+-+Job+Templates)
  - [JS7 - JITL Job Templates](https://kb.sos-berlin.com/display/JS7/JS7+-+JITL+Integration+Job+Templates)
  - [JS7 - User Defined Job Templates](https://kb.sos-berlin.com/display/JS7/JS7+-+User+Defined+Job+Templates)

