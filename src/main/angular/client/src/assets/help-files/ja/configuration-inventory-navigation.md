# ジョブ定義 - インベントリー - ナビゲーション

*ジョブ定義 - インベントリー* 画面は、ワークフロー、スケジュールなどのインベントリーオブジェクトを管理するために使用されます。 

- *ナビゲーションパネル* は、タグやフォルダーによるナビゲーションを提供します。また、インベントリーオブジェクトの操作も可能です。
- *オブジェクトパネル* は、[ジョブ定義 - インベントリー - ワークフロー](/configuration-inventory-workflows) のように対象オブジェクトを表示します。

## ナビゲーションパネル

左側のパネルは、フォルダーやワークフローやジョブのタグからのナビゲーションを可能にするタブで構成されています。

- **フォルダー** ナビゲーションは選択されたフォルダのインベントリーオブジェクトを表示します。
- タグフィルタリングはワークフローを選択するために以下のタブから提供されます：
  - **ワークフロータグ** は、ワークフローレベルの[ジョブ定義 - インベントリー - ワークフロー](/configuration-inventory-workflows) ビューから割り当てられます。
  - **ジョブタグ** は、ジョブレベルで同じビューから割り当てられます。

### フォルダー

デフォルトでは、*インベントリーフォルダー* は、スケジューリングオブジェクトのタイプごとに表示されます。ユーザーは任意の階層の深さで独自のフォルダーを作成することができます。同じ *ユーザーフォルダー* 名は、異なるフォルダ階層レベルで何度でも使用できます。

フォルダー階層は、以下のフォルダータイプがあります：

- **インベントリーフォルダー**は、以下のオブジェクトタイプを保持します：
  - **コントローラー** オブジェクトは、コントローラーとエージェントに配置されます：
    - [ワークフロー](/configuration-inventory-workflows) は、コントローラとエージェントに配置されます。詳細は[JS7 - Workflows](https://kb.sos-berlin.com/display/JS7/JS7+-+Workflows) を参照してください。
    - [ファイルオーダーソース](/configuration-inventory-file-order-sources) は、指定したディレクトリにファイルが到着すると、自動的にワークフローが開始されます。詳細は[JS7 - File Watching](https://kb.sos-berlin.com/display/JS7/JS7+-+File+Watching) を参照してください。
    - [ジョブリソース](/configuration-inventory-job-resources) は、複数のジョブで再利用される変数の設定を管理するために使用されます。詳細は[JS7 - Job Resources](https://kb.sos-berlin.com/display/JS7/JS7+-+Job+Resources) を参照してください。
    - [通知ボード](/configuration-inventory-notice-boards) は、ワークフロー間の依存関係を指定します。詳細は[JS7 - Notice Boards](https://kb.sos-berlin.com/display/JS7/JS7+-+Notice+Boards) を参照してください。
    - [ロック](/configuration-inventory-resource-locks) は、ジョブやその他の命令の並列実行を排他制御します。詳細は[JS7 - Resource Locks](https://kb.sos-berlin.com/display/JS7/JS7+-+Resource+Locks) を参照してください。
  - **実行計画** は、JOCコックピットの自動運用に使用されます：
    - [スクリプトインクルード](/configuration-inventory-script-includes)は、 Shellジョブで再利用できるコードスニペットです。詳細は[JS7 - Script Includes](https://kb.sos-berlin.com/display/JS7/JS7+-+Script+Includes) を参照してください。
    - [スケジュール](/configuration-inventory-schedules) は、ワークフロー実行のためのオーダーが開始される日時を決定します。Shellジョブには、1つ以上のワークフローと、指定されたワークフロー内のジョブで使用されるオーダー変数が割り当てられます。また、1 つ以上の *カレンダー* を使用します。詳細は[JS7 - Schedules](https://kb.sos-berlin.com/display/JS7/JS7+-+Schedules) を参照してください。
    - [カレンダー](/configuration-inventory-calendars) は、スケジュールされたイベントを実行する日を指定します。繰り返し実行する *スケジュール* がワークフロー実行のためのオーダーを作成するために使用する、[実行計画](/daily-plan)に使用されます。 詳細は[JS7 - Calendars](https://kb.sos-berlin.com/display/JS7/JS7+-+Calendars) を参照してください。
    - [ジョブテンプレート](/configuration-inventory-job-templates) は、ユーザー作成テンプレート、または JS7 に含まれる Java クラスによって提供され、どの OS プラットフォームでも使用することができます。詳細は[JS7 - Job Templates](https://kb.sos-berlin.com/display/JS7/JS7+-+Job+Templates) をご参照ください。
    - [レポート](/configuration-inventory-reports) は、ワークフローとジョブの実行結果を期間ごとに集計します。詳細は[JS7 - Reports](https://kb.sos-berlin.com/display/JS7/JS7+-+Reports) を参照してください。
- **ユーザーフォルダー**　は、ユーザーによって任意の階層深さで作成できます。各 **ユーザーフォルダー** は、一連の **インベントリーフォルダ** を保持します。

#### オブジェクト検索

*ナビゲーションパネル*の 最上位フォルダの右側に、インベントリーオブジェクトを検索するための検索アイコンがあります。

- クイック検索は大文字と小文字を区別せず、右端を切り捨てます。
- クイック検索は、ワークフローやスケジュールなどのカテゴリーごとに、一致する名前のオブジェクトを返します。
- メタ文字は0文字以上のプレースホルダとして使用できます：
  - **\*test** は、オブジェクト ***test**Initial*, *my**Test*** を検索します。
  -  **te\*st** は、オブジェクト ***test**Initial*, ***te**rminate**St**illstand* を検索します。

#### オブジェクトのゴミ箱

インベントリオブジェクトが削除されると、それらはゴミ箱に入れられます。ゴミ箱はオブジェクトを復元したり、完全に削除することができます。

ゴミ箱は *ナビゲーションパネル*　の最上位フォルダにあるゴミ箱アイコンから開くことができます。

- ゴミ箱アイコンをクリックすると、ゴミ箱内のオブジェクトの表示が切り替わります。戻るアイコンは、ゴミ箱ビューからインベントリビューに戻るためのものです。
- ゴミ箱のフォルダー構造はインベントリーオブジェクトと同じです。
- ゴミ箱には、オブジェクトを復元したり、オブジェクトを完全に削除するための、オブジェクトごと、フォルダごとのアクションメニューがあります。

### タグ

タグは、インベントリーオブジェクト間をナビゲートするための手段です。*ワークフロータグ* や *ジョブタグ* タブをアクティブにすると、利用可能なタグのリストが表示されます。

タグは + アイコンから追加することができます。昇順と降順の表示が可能です。他のビューでタグを表示するには、[設定 - JOC](/settings-joc) 画面から有効にする必要があります。

- 関連するタグをクリックすると、タグが割り当てられたワークフローが表示されます。
- タグのアクションメニューから以下の操作が可能です：
  - **名前変更** は、タグの名前を変更します。
  - **削除** は、タグとワークフローやジョブへの割り当てを削除します。

## 操作

*ナビゲーションパネル*で表示されるアクションメニューから、フォルダーレベルとオブジェクトレベルで操作が可能です。

### フォルダーレベルの操作

操作は、*インベントリーフォルダー* と *ユーザーフォルダー* で利用できます。

最上位のフォルダー /（スラッシュ）では、以下の操作が可能です：

- **再配置** は、ジャーナルが失われた場合にコントローラーのメモリーを削除し、コントローラーを初期化する場合に使用します。この操作は、コントローラーに配置済のすべてのオブジェクトを再配置します。 
- **依存関係更新** は、オブジェクトの依存関係の内部表現を再作成します。これは自動的に行われ、インベントリーオブジェクトの作成時や削除時、 オブジェクト名の変更時に実行されます。依存関係が同期していないと想定される理由が見つかった場合、この操作を実行することができます。この作業には、5000 オブジェクトのインベントリーで約 3 分かかります。しかし、依存関係が更新される間、ユーザーはJOCコックピットで作業を続けることができます。

#### インベントリーフォルダの操作

インベントリフォルダでは以下の操作が可能です：

- コントローラーオブジェクトの操作
  - *ワークフロー* の操作
    - **新規** は、ワークフローを作成します。
    - **名前変更** は、ワークフローの名前を変更できます。オブジェクトの依存関係が考慮され、*スケジュール* や *ファイルオーダーソース* などのインベントリーオブジェクトを参照している場合、更新された名前が保持されます。ワークフローと参照オブジェクトは、*下書き* ステータスになります。詳細は[フォルダー名前変更](/configuration-inventory-operations-rename-folder) を参照してください。
    -[タグ管理](/configuration-inventory-operations-manage-tags)は、フォルダー内のワークフローへのタグの追加と削除ができます。
    - **エキスポート** は、フォルダー階層とワークフローの JSON 表現を保持する .zip または .tar.gz 形式のアーカイブ ファイルを作成できます。詳細は[フォルダーエキスポート](/configuration-inventory-operations-export-folder) を参照してください。
    - **リポジトリ** は、Gitサーバーとの統合を提供します。ワークフローを Gitリポジトリにコミットし、プルおよびプッシュすることができます。詳細は[Git - クローンレポジトリ](/configuration-inventory-operations-git-clone) を参照してください。
    - **変更** は、ワークフローの変更管理を行います。ユーザーが作成中のワークフローを *変更* に追加することで、変更されたオブジェクトの共通デプロイやエキスポートが可能になります。詳細は[変更管理](/changes) を参照してください。
    - **配置** は、コントローラーとエージェントがワークフローを利用できるようにします。ワークフローは *配置済* ステータスになります。詳細は[フォルダーの配置](/configuration-inventory-operations-deploy-folder) を参照してください。
    - **取消** は、以前の *配置* 操作を取り消します。ワークフローは *下書き* ステータスになります。これは、ワークフローのオーダーが[実行計画](/daily-plan) から削除されることを意味します。 オブジェクトの依存関係が考慮され、*スケジュール* や *ファイルオーダーソース* などの参照オブジェクトも取り消し/下書きに戻されます。詳細は[フォルダー取り消し](/configuration-inventory-operations-revoke-folder) を参照してください。
    - **削除** は、ワークフローをゴミ箱に移動します。削除されたワークフローは復元することも、ゴミ箱から完全に削除することもできます。詳細は[フォルダー削除](/configuration-inventory-operations-remove-folder) を参照してください。
    - **下書きに戻す** は、ワークフローの現在の下書きを削除します。過去に配置されたワークフローが存在する場合、そのワークフローが現在のバージョンとなります。
    - **ジョブテンプレートから更新** は、任意のフォルダにある *ジョブテンプレート* から、選択された *インベントリーフォルダー* 内のワークフローのジョブを更新します。
  - *ファイルオーダーソース*、*ジョブリソース*、*通知ボード*、*ロック* は、*ワークフロー* と同様の操作を提供します。
- 実行計画オブジェクトの操作
  - **リリース** は、*下書き*　ステータスのオブジェクトを他のオブジェクトで使用できるようにします。
    - 例えば、*スクリプトインクルード* はワークフローの次回デプロイ時に考慮され、*ジョブテンプレート* はワークフローを参照しながら更新できます。
    - [実行計画](/daily-plan) 例えば、*スケジュール* はオーダーの作成に考慮されます。
    - 詳細は[フォルダーのリリース](/configuration-inventory-operations-release-folder) を参照してください。
  - **取り消し** は、以前の *リリース* 操作を元に戻します。インベントリーオブジェクトは *下書き* ステータスになります。これは、下書きの *スケジュール* と *カレンダー* が[実行計画](/daily-plan) に反映されないことを意味します。この操作はオブジェクトの依存関係を考慮し、参照するオブジェクトも取り消し/下書きに戻されます。詳細は[フォルダーの取り消し](/configuration-inventory-operations-recall-folder) を参照してください。
  - **ジョブテンプレートから更新** は、選択された *インベントリーフォルダー* または任意の子フォルダーに含まれる *ジョブテンプレート* への参照を保持する任意のフォルダーにあるワークフローのジョブを更新します。
  - その他の操作は、*コントローラーオブジェクトの操作* と同様です。

#### ユーザーフォルダーの操作

*ユーザーフォルダー* はユーザーによって作成され、*インベントリーフォルダー* を保持します。以下の操作が可能です：

- すべてのオブジェクトに対する操作
  - **新規** は、アクションメニューから新規オブジェクトを作成します：フォルダーまたはインベントリーオブジェクト、[オブジェクト命名規則](/object-naming-rules) を参照してください。
  - **切り取り** は、フォルダー、子フォルダー、インベントリーオブジェクトを切り取り、フォルダ階層内の別の場所に貼り付けます。
  - **コピー** は、フォルダー、子フォルダー、インベントリーオブジェクトを *コピー* します。この操作は *ディープコピー* であり、参照されているすべてのオブジェクトに対して機能します。
  - **シャロウコピー** は、フォルダー、子フォルダー、インベントリーオブジェクトを *コピー*します。他のフォルダー内のインベントリーオブジェクトへの参照は反映されません。
  - **名前変更** は、フォルダーの名前を変更することができます。詳細は[フォルダー名変更](/configuration-inventory-operations-rename-folder) を参照してください。
  - **タグ管理** は、指定されたフォルダー階層内のワークフローにタグを追加/削除することができます。[タグ管理](/configuration-inventory-operations-manage-tags)を参照してください。
  - **エキスポート** は、フォルダー階層と含まれるインベントリーオブジェクトを JSON 形式で保持する .zip または .tar.gz 形式のエキスポートファイルを作成できます。詳細は[フォルダーエキスポート](/configuration-inventory-operations-export-folder) を参照してください。
  - **リポジトリ** は、Gitサーバーとの統合を提供します。インベントリーオブジェクトを Gitリポジトリにコミットし、プルおよびプッシュすることができます。詳細は[Git - クローンリポジトリ](/configuration-inventory-operations-git-clone) を参照してください。
  - **変更** は、インベントリーオブジェクトの変更管理のための操作を提供します。ユーザーは、作業中のワークフローなどのオブジェクトを、変更されたオブジェクトの共通配置とエキスポートを可能にする *変更* に追加することができます。詳細は[変更管理](/changes) を参照してください。
- コントローラーオブジェクトの操作
  - **配置** は、オブジェクトをコントローラーとエージェントに登録します。インベントリーオブジェクトは *配置済* ステータスになります。詳細は[フォルダーの配置](/configuration-inventory-operations-deploy-folder) を参照してください。
  - **取り消し** は、以前の *配置* 操作を取り消します。インベントリーオブジェクトは *下書き* ステータスになります。これは、ワークフローのオーダーが[実行計画](/daily-plan) から削除されることを意味します。 詳細は[フォルダーの取り消し](/configuration-inventory-operations-revoke-folder) を参照してください。
  - **再検証** は、インベントリーオブジェクトの有効性をチェックします。
  - **同期**は、コントローラーとインベントリーのスケジューリングオブジェクトのステータスを同期させます：
    - **コントローラーに同期** は、インベントリーオブジェクトの *配置済* または *下書き* ステータスに応じて、コントローラーとエージェントとの間で、インベントリーオブジェクトを *配置* または *取り消し* します。この操作は、コントローラーのメモリが削除され、コントローラーが初期化されたときに、ジャーナっるが失われた場合に使用できます。
    - *インベントリーに同期* は、インベントリーオブジェクトを*配置済* または *下書き* ステータスにします。
- 実行計画オブジェクトの操作
  - **リリース** は、*下書き* ステータスのオブジェクトを使用可能にします。
    - 例えば、*スクリプトインクルード* はワークフローの次回配置時に反映され、*ジョブテンプレート* はワークフローを参照する際に更新できます。
    -[実行計画](/daily-plan) は、*スケジュール* はオーダーの作成に反映されます。
    - 詳細は[フォルダーリリース](/configuration-inventory-operations-release-folder) を参照してください。
  - **取り消し** は、以前の *リリース* 操作を元に戻し、インベントリーオブジェクトは *下書き* ステータスになります。これは、下書きの *スケジュール* と *カレンダー* が[実行計画](/daily-plan)に反映されないことを意味します。 詳細は[フォルダー取り消し](/configuration-inventory-operations-recall-folder) を参照してください。
- 削除操作
  - **削除** は、フォルダー、子フォルダー、および含まれているオブジェクトをゴミ箱に移動します。削除されたインベントリーオブジェクトは復元することも、ゴミ箱から完全に削除することもできます。詳細は[フォルダー削除](/configuration-inventory-operations-remove-folder) を参照してください。
  - **下書きに戻す** は、フォルダーと子フォルダー内のオブジェクトの現在の下書きバージョンを削除します。以前に *配置済* または *リリース済* のバージョンが存在する場合、そのバージョンは関連オブジェクトの現在のバージョンになります。
- ジョブテンプレート操作
  - **ジョブテンプレートから更新** は、選択された *ユーザーフォルダー* または任意の子フォルダーに含まれる *ジョブテンプレート* への参照を保持する、任意のフォルダーにあるワークフローのジョブを更新します。
  - **テンプレートを適用** は、任意のフォルダーにある *ジョブテンプレート* から、選択された *ユーザーフォルダー* にあるワークフローのジョブを更新します。

### オブジェクトレベルの操作

以下の操作は、個々のインベントリーオブジェクトに対して提供されます：

- すべてのオブジェクト
  - **切り取り** は、後でフォルダー階層内の別の場所に貼り付けるためにオブジェクトを *切り取り* ます。
  - **コピー** は、後で貼り付けるためにオブジェクトを *コピー* します。
  - **名前変更** は、オブジェクトの名前を変更することができます。オブジェクトの依存関係が反映され、参照するインベントリ・オブジェクトは更新された名前を保持します。名前を変更したオブジェクトと参照するオブジェクトは *下書き* ステータスになります。詳細は[オブジェクト名前変更](/configuration-inventory-operations-rename-object) を参照してください。
  - **変更** は、インベントリーオブジェクトの変更管理のための操作を提供します。ユーザーは、作成中のワークフローなどのオブジェクトを *変更* に追加することで、変更されたオブジェクトの共通配置とエキスポートが可能になります。詳細は[変更管理](/changes) を参照してください。
  - **依存関係表示** は、参照元オブジェクトと参照先オブジェクトのリストを表示します。例えば、ワークフローはジョブリソースへの参照を保持し、*スケジュール* や *ファイルオーダーソース* から参照されます。
  - **新規下書き** は、オブジェクトの *配置済* または *リリース済* バージョンから下書きを作成します。
  - JSON 操作
    - **JSON表示** は、インベントリーオブジェクトを、JSON形式で表示します。
    - **JSON編集** は、JSON 形式から直接オブジェクトを編集できます。
    - **JSONダウンロード** は、JSON 形式のオブジェクトを .json ファイルにダウンロードします。
    - **JSONアップロード** は、オブジェクトを置き換える.jsonファイルをアップロードします。
  - 削除操作
    - **削除** は、オブジェクトをゴミ箱に移動します。削除されたインベントリーオブジェクトは復元することも、ゴミ箱から完全に削除することもできます。詳細は[オブジェクト削除](/configuration-inventory-operations-remove-object) を参照してください。
    - **下書きに戻す** は、オブジェクトの現在の下書きバージョンを削除します。以前に *配置済* または *リリース済* されたバージョンが存在する場合、それがオブジェクトの現在のバージョンになります。
- コントローラーオブジェクト
  - **タグ管理** は、ワークフローで利用可能で、ワークフローへのタグの追加や削除ができます。
  - **配置** は、コントローラーとエージェントがオブジェクトを利用できるようにします。オブジェクトは *配置済* ステータスになります。配置では、参照されるインベントリーオブジェクトと参照するインベントリーオブジェクトの依存関係が反映れます。詳細は[オブジェクト配置](/configuration-inventory-operations-deploy-object) を参照してください。
  - **取り消し** は、以前の *配置* 操作を取り消します。オブジェクトは *下書き* ステータスになります。ワークフローで使用する場合、これはオーダーが[実行計画](/daily-plan) から削除されることを意味します。 詳細は[オブジェクトの取り消し](/configuration-inventory-operations-revoke-object) を参照してください。
- 実行計画オブジェクト
  - **リリース** は、*下書き* ステータスのオブジェクトを他のオブジェクトで使用できるようにします。
    - たとえば、*スクリプトインクルード* はワークフローの次回配置時に反映され、*ジョブテンプレート* はワークフローを参照する際に更新できます。
    -[実行計画](/daily-plan) では、*スケジュール* はオーダーの作成に反映されます。
    - 詳細は[オブジェクトのリリース](/configuration-inventory-operations-release-object) を参照してください。
  - **取り消し** は、以前の *リリース* 操作を元に戻します。インベントリーオブジェクトは *下書き* ステータスになります。これは、下書きの *スケジュール* と *カレンダー* が[実行計画](/daily-plan) に反映されないことを意味します。詳細は[オブジェクトの取り消し](/configuration-inventory-operations-recall-object) を参照してください。

##参照

### コンテキストヘルプ

-　[変更管理](/changes)
-　[実行計画](/daily-plan)
-　[オブジェクト命名規則](/object-naming-rules)
- コントローラーオブジェクト
  - [ワークフロー](/configuration-inventory-workflows)
  - [ファイルオーダーソース](/configuration-inventory-file-order-sources)
  - [ジョブリソース](/configuration-inventory-job-resources)
  - [通知ボード](/configuration-inventory-notice-boards)
    - [リソース - 通知ボード](/resources-notice-boards)
  - [ロック](/configuration-inventory-resource-locks)
    - [リソース - ロック](/resources-resource-locks)
- 実行計画オブジェクト
  - [スクリプトインクルード](/configuration-inventory-script-includes)
  - [スケジュール](/configuration-inventory-schedules)
  - [カレンダー](/configuration-inventory-calendars)
  - [ジョブテンプレート](/configuration-inventory-job-templates)
  - [レポート](/configuration-inventory-reports)
- オブジェクトの操作
  - [オブジェクトの配置](/configuration-inventory-operations-deploy-object)
  - [オブジェクトの取り消し](/configuration-inventory-operations-revoke-object)
  - [オブジェクトのリリース](/configuration-inventory-operations-release-object)
  - [オブジェクトを下書きに戻す](/configuration-inventory-operations-recall-object)
  - [オブジェクト削除](/configuration-inventory-operations-remove-object)
  - [オブジェクト名前変更](/configuration-inventory-operations-rename-object)
- ユーザーフォルダーの操作
  - [フォルダーの配置](/configuration-inventory-operations-deploy-folder)
  - [フォルダーの取り消し](/configuration-inventory-operations-revoke-folder)
  - [フォルダーリリース](/configuration-inventory-operations-release-folder)
  - [フォルダーを下書きに戻す](/configuration-inventory-operations-recall-folder)
  - [フォルダー削除](/configuration-inventory-operations-remove-folder)
  - [フォルダー名前変更](/configuration-inventory-operations-rename-folder)
  - [フォルダーエキスポート](/configuration-inventory-operations-export-folder)
  - [Git - クローンリポジトリ](/configuration-inventory-operations-git-clone)
  - [タグ管理](/configuration-inventory-operations-manage-tags)

###Product Knowledge Base

- コントローラーオブジェクト
  - [JS7 - Workflows](https://kb.sos-berlin.com/display/JS7/JS7+-+Workflows)
  - [JS7 - File Watching](https://kb.sos-berlin.com/display/JS7/JS7+-+File+Watching)
  - [JS7 - Job Resources](https://kb.sos-berlin.com/display/JS7/JS7+-+Job+Resources)
  - [JS7 - Notice Boards](https://kb.sos-berlin.com/display/JS7/JS7+-+Notice+Boards)
  - [JS7 - Resource Locks](https://kb.sos-berlin.com/display/JS7/JS7+-+Resource+Locks)
- 実行計画オブジェクト
  - [JS7 - Script Includes](https://kb.sos-berlin.com/display/JS7/JS7+-+Script+Includes)
  - [JS7 - Schedules](https://kb.sos-berlin.com/display/JS7/JS7+-+Schedules)
  - [JS7 - Calendars](https://kb.sos-berlin.com/display/JS7/JS7+-+Calendars)
    - [JS7 - Management of Calendars](https://kb.sos-berlin.com/display/JS7/JS7+-+Management+of+Calendars)
  - [JS7 - Job Templates](https://kb.sos-berlin.com/display/JS7/JS7+-+Job+Templates)
  - [JS7 - Reports](https://kb.sos-berlin.com/display/JS7/JS7+-+Reports)

