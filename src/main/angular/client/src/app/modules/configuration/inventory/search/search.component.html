<div class="text-left">
  <form #myForm="ngForm" (ngSubmit)="search()">
    <div class="modal-body p-a">
      <div class="form-group row">
        <label class="col-md-4 col-lg-3 form-control-label"
               translate>inventory.search.label.search</label>
        <div class="col-md-8 col-lg-9">
          <label class="w-full">
            <input type="text" [appAutofocus]="true" autocomplete="off" class="form-control"
                   placeholder="{{'inventory.search.placeholder.search' | translate}}" name="search"
                   [(ngModel)]="searchObj.search">
          </label>
        </div>
      </div>
      <div class="form-group row">
        <label class="col-md-4 col-lg-3 form-control-label"
               translate>inventory.search.label.folders</label>
        <div class="col-md-8 col-lg-9">
          <nz-tree-select
            name="folder"
            [nzNodes]="folders"
            [nzHideUnMatched]="true"
            [nzDropdownStyle]="{ 'max-height': '300px' }"
            nzShowSearch
            [nzMultiple]="true"
            [nzDisplayWith]="displayWith"
            [nzPlaceHolder]="'inventory.search.placeholder.selectFromTree' | translate"
            [(ngModel)]="searchObj.folders"
          >
            <ng-template #nzTreeTemplate let-node>
              <div class="node-wrapper">
                <div class="node-content-wrapper" [class.node-content-wrapper-active]="node.isSelected">
                  <i nz-icon [nzType]="node.isExpanded ? 'folder-open' : 'folder'" class="w-14"></i>
                  {{node.title}}
                </div>
              </div>
            </ng-template>
          </nz-tree-select>
        </div>
      </div>
      <div class="form-group row">
        <label class="col-md-4 col-lg-3 block-ellipsis-job"
               translate>inventory.search.label.deployedOrReleased</label>
        <div class="col-md-8 col-lg-9">
          <label nz-checkbox [(ngModel)]="searchObj.deployedOrReleased" name="deployedOrReleased"></label>
        </div>
      </div>
      <div class="form-group row">
        <label class="col-md-4 col-lg-3 block-ellipsis-job"
               translate>inventory.search.label.currentController</label>
        <div class="col-md-8 col-lg-9">
          <label nz-checkbox [(ngModel)]="searchObj.currentController" name="currentController"></label>
        </div>
      </div>
      <div class="form-group row">
        <label class="col-md-4 col-lg-3 form-control-label" translate>inventory.search.label.return</label>
        <div class="col-md-8 col-lg-9">
          <nz-select [(ngModel)]="searchObj.returnType" name="returnType">
            <nz-option *ngFor="let type of deployTypes" nzLabel="{{type | translate}}" [nzValue]="type"></nz-option>
          </nz-select>
        </div>
      </div>
      <div class="form-group row m-b-0">
        <div class="col-md-12">
          <a class="text-primary-hover cursor" (click)="showAdvance()" translate>
            inventory.search.label.advanced
            <i class="fa fa-caret-down p-lxs"></i>
          </a>
        </div>
      </div>
      <div class="p-a b-a m-t" *ngIf="showAdvanceFields">
        <div class="form-group row">
          <label class="col-md-4 col-lg-3 form-control-label"
                 translate>inventory.search.label.agent</label>
          <div class="col-md-8 col-lg-9">
            <nz-select nzShowSearch name="agentName" nzPlaceHolder="{{'workflow.placeholder.selectAgentName' | translate}}"
                       [(ngModel)]="searchObj.agentName">
              <nz-option *ngFor="let agent of agents" [nzLabel]="agent" [nzValue]="agent"></nz-option>
            </nz-select>
          </div>
        </div>
        <div class="form-group row" *ngIf="searchObj.returnType !== ENUM.WORKFLOW">
          <label class="col-md-4 col-lg-3 form-control-label"
                 translate>inventory.search.label.workflow</label>
          <div class="col-md-8 col-lg-9">
            <label class="w-full">
              <input type="text" autocomplete="off" class="form-control"
                     name="workflow" [(ngModel)]="searchObj.workflow">
            </label>
          </div>
        </div>
        <div class="form-group row" *ngIf="searchObj.returnType !== ENUM.FILE_ORDER_SOURCE">
          <label class="col-md-4 col-lg-3 form-control-label"
                 translate>inventory.search.label.fileOrderSource</label>
          <div class="col-md-8 col-lg-9">
            <label class="w-full">
              <input type="text" autocomplete="off" class="form-control"
                     name="fileOrderSource" [(ngModel)]="searchObj.fileOrderSource">
            </label>
          </div>
        </div>
        <div class="form-group row" *ngIf="searchObj.returnType !== ENUM.JOB_RESOURCE">
          <label class="col-md-4 col-lg-3 form-control-label"
                 translate>inventory.search.label.jobResources</label>
          <div class="col-md-8 col-lg-9">
            <label class="w-full">
              <input type="text" autocomplete="off" class="form-control"
                     name="jobResources" [(ngModel)]="searchObj.jobResources">
            </label>
          </div>
        </div>
        <div class="form-group row" *ngIf="searchObj.returnType !== ENUM.BOARD">
          <label class="col-md-4 col-lg-3 form-control-label"
                 translate>inventory.search.label.boards</label>
          <div class="col-md-8 col-lg-9">
            <label class="w-full">
              <input type="text" autocomplete="off" class="form-control"
                     name="boards" [(ngModel)]="searchObj.boards">
            </label>
          </div>
        </div>
        <div class="form-group row" *ngIf="searchObj.returnType !== ENUM.LOCK">
          <label class="col-md-4 col-lg-3 form-control-label"
                 translate>inventory.search.label.lock</label>
          <div class="col-md-8 col-lg-9">
            <label class="w-full">
              <input type="text" autocomplete="off" class="form-control"
                     name="lock" [(ngModel)]="searchObj.lock">
            </label>
          </div>
        </div>
        <div class="form-group row" *ngIf="searchObj.returnType !== ENUM.SCHEDULE">
          <label class="col-md-4 col-lg-3 form-control-label"
                 translate>inventory.search.label.schedule</label>
          <div class="col-md-8 col-lg-9">
            <label class="w-full">
              <input type="text" autocomplete="off" class="form-control"
                     name="schedule" [(ngModel)]="searchObj.schedule">
            </label>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-md-4 col-lg-3 form-control-label"
                 translate>inventory.search.label.countJobs</label>
          <label class="col-md-2 col-lg-2 form-control-label"
                   translate>inventory.search.label.from
          </label>
          <div class="col-md-2 col-lg-2">
            <nz-input-number [nzMin]="0" class="form-control"
                             name="from" [(ngModel)]="searchObj.from"></nz-input-number>
          </div>
          <label class="col-md-2 col-lg-2 text-center form-control-label"
                   translate>inventory.search.label.to
          </label>
          <div class="col-md-2 col-lg-2">
            <nz-input-number [nzMin]="0" class="form-control"
                             name="to" [(ngModel)]="searchObj.to"></nz-input-number>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-md-4 col-lg-3 form-control-label"
                 translate>inventory.search.label.jobName</label>
          <div class="col-md-8 col-lg-9">
            <label class="w-full">
              <input type="text" autocomplete="off" class="form-control"
                    name="jobName" [(ngModel)]="searchObj.jobName">
            </label>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-md-4 col-lg-3 form-control-label"
                 translate>inventory.search.label.jobCriticality</label>
          <div class="col-md-8 col-lg-9">
            <nz-select name="criticality" nzAllowClear class="w-full" [nzPlaceHolder]="'inventory.placeholder.selectCriticality' | translate"
                       [(ngModel)]="searchObj.criticality">
              <nz-option [nzValue]="'NORMAL'" [nzLabel]="'common.label.normal' | translate"></nz-option>
              <nz-option [nzValue]="'CRITICAL'" [nzLabel]="'common.label.critical' | translate"></nz-option>
            </nz-select>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-md-12">
            <label translate>inventory.search.label.argument</label>
          </div>
        </div>
        <div class="form-group row m-b-0">
          <div class="col-md-6 m-b-sm" translate>common.label.name</div>
          <div class="col-md-6 m-b-sm" translate>common.label.value</div>
        </div>
        <div class="form-group row m-b-0">
          <div class="col-md-6">
            <input autocomplete="off" type="text" class="form-control" name="name"
                   [(ngModel)]="searchObj.name" placeholder="{{'common.placeholder.name' | translate}}">
          </div>
          <div class="col-md-6">
            <input autocomplete="off" type="text" class="form-control" name="value"
                   [(ngModel)]="searchObj.value" placeholder="{{'common.placeholder.value' | translate}}">
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer border-top-0 text-left m-t-n-8">
      <button class="btn btn-primary btn-sm" translate type="submit">common.button.search</button>
      <button class="btn btn-grey btn-sm" translate type="button">common.button.close</button>
    </div>
  </form>
</div>
