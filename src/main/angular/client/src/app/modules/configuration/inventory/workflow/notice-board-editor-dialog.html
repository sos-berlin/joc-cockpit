<div class="modal-header">
  <h4 class="modal-title">
    <span translate>workflow.label.valueEditor</span>
  </h4>
  <a [codeMirror]="codeMirror" appMaximum class="max-btn">
    <i class="fa fa-window-maximize"></i>
  </a>
  <button (click)="activeModal.destroy()" aria-label="Close" class="close" type="button">
    <span aria-hidden="true" class="fa fa-times-circle"></span>
  </button>
</div>
<form (ngSubmit)="onSubmit()" spellcheck="false">
  <div class="modal-body p-a">
    <div class="row">
      <div class="col-md-12 mono-font">
        <div *ngIf="isTreeShow" class="z-index-9999 pos-abt opacity0" id="show-tree-editor" style="min-width: 150px;">
          <app-search-input (onBlur)="onBlur($event)" (onSelect)="checkExpectNoticeExp($event)" [nodes]="boardTree"
                            [type]="'NOTICEBOARD'"></app-search-input>
        </div>
        <div [ngClass]="{'invalid': (expectBoardExpression.invalid && (expectBoardExpression.dirty && expectBoardExpression.touched))}" class="b-a"
             id="boardId">
          <ngx-codemirror #codeMirror #expectBoardExpression="ngModel" [(ngModel)]="obj.data"
                          [autoFocus]="true"
                          (keydown)="handleKeyDown($event)"
                          [options]="{
                                         lineNumbers: true,
                                         autoRefresh: true,
                                         lineWrapping: true,
                                         matchBrackets: true,
                                         foldGutter: true,
                                         scrollbarStyle: 'simple',
                                         highlightSelectionMatches: {showToken, annotateScrollbar: true},
                                         mode: 'shell',
                                         gutters: ['CodeMirror-linenumbers', 'CodeMirror-foldgutter']
                                       }"
                          name="expectBoardExpression"
                          required title="{{'workflow.placeholder.expression' | translate}}"></ngx-codemirror>
        </div>
        <div class="text-sm text-muted" translate>workflow.label.showNoticeBoardNames</div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button class="btn btn-primary btn-sm" translate type="submit">
      common.button.submit
    </button>
    <button (click)="activeModal.destroy()" class="btn btn-grey btn-sm" translate type="button">
      common.button.cancel
    </button>
  </div>
</form>
