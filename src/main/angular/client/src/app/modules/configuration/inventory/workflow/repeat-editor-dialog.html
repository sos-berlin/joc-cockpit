<div style="box-shadow: 0 0 8px rgba(0,0,0,0.18)">
<div class="modal-header">
  <h4 class="modal-title">
    <span *ngIf="!period" translate>runtime.label.addPeriod</span>
    <span *ngIf="period" translate>runtime.label.editPeriod</span>
  </h4>
  <button type="button" class="close" aria-label="Close" (click)="activeModal.destroy()">
    <span aria-hidden="true" class="fa fa-times-circle"></span>
  </button>
</div>
<div class="modal-body p-a">
  <div class="row">
    <div class="col-sm-12">
      <form #myForm="ngForm" (ngSubmit)="onSubmit()" novalidate>
        <div>
          <div class="form-group row">
            <label class="col-sm-3 form-control-label" translate>workflow.label.cycleType</label>
            <div class="col-sm-6">
              <nz-select name="_value" [(ngModel)]="object.cycleType">
                <nz-option [nzLabel]="'workflow.label.periodical' | translate" nzValue="Periodic"></nz-option>
                <nz-option [nzLabel]="'workflow.label.continuous' | translate" nzValue="Continuous"></nz-option>
                <nz-option [nzLabel]="'workflow.label.ticking' | translate" nzValue="Ticking"></nz-option>
              </nz-select>
            </div>
          </div>
          <div class="form-group row" *ngIf="object.cycleType === 'Periodic'">
            <label class="col-sm-3 form-control-label" translate>workflow.label.offsets</label>
            <div class="col-sm-6" [ngClass]="{ 'has-error' : (((offsets.dirty || offsets.touched) && offsets.invalid))}">
              <input appValidateDuration [required]="!!object.startTime" class="form-control" name="offsets"
                     #offsets="ngModel" [(ngModel)]="object.offsets"
                     placeholder="{{'workflow.placeholder.durationPeriod' | translate}}" type="text">
              <div *ngIf="offsets.invalid && (offsets.dirty || offsets.touched)" class="text-danger help-block">
                <div *ngIf="offsets.errors.required">
                  <div translate>common.message.requiredError</div>
                </div>
                <div *ngIf="offsets.errors.invalidDuration" translate>common.message.invalid</div>
              </div>
            </div>
          </div>
          <div class="form-group row" *ngIf="object.cycleType === 'Continuous'">
            <label class="col-sm-3 form-control-label" translate>workflow.label.pause</label>
            <div class="col-sm-6" [ngClass]="{ 'has-error' : (((pause.dirty || pause.touched) && pause.invalid))}">
              <input appValidateDuration [required]="!!object.startTime" class="form-control" name="pause"
                     #pause="ngModel" [(ngModel)]="object.pause"
                     placeholder="{{'workflow.placeholder.durationPeriod' | translate}}" type="text">
              <div *ngIf="pause.invalid && (pause.dirty || pause.touched)" class="text-danger help-block">
                <div *ngIf="pause.errors.required">
                  <div translate>common.message.requiredError</div>
                </div>
                <div *ngIf="pause.errors.invalidDuration" translate>common.message.invalid</div>
              </div>
            </div>
          </div>
          <div class="form-group row" *ngIf="object.cycleType === 'Ticking'">
            <label class="col-sm-3 form-control-label" translate>workflow.label.interval</label>
            <div class="col-sm-6" [ngClass]="{ 'has-error' : (((interval.dirty || interval.touched) && interval.invalid))}">
              <input appValidateDuration [required]="!!object.startTime" class="form-control" name="interval"
                     #interval="ngModel" [(ngModel)]="object.interval"
                     placeholder="{{'workflow.placeholder.durationPeriod' | translate}}" type="text">
              <div *ngIf="interval.invalid && (interval.dirty || interval.touched)" class="text-danger help-block">
                <div *ngIf="interval.errors.required">
                  <div translate>common.message.requiredError</div>
                </div>
                <div *ngIf="interval.errors.invalidDuration" translate>common.message.invalid</div>
              </div>
            </div>
          </div>
        </div>
        <div>
          <button type="submit" class="btn btn-primary btn-sm" [disabled]="!myForm.form.valid">
            <span translate>common.button.save</span>
          </button>
          <button type="button" class="btn btn-grey btn-sm m-l-sm" (click)="cancel()" translate>
            common.button.cancel
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
</div>
