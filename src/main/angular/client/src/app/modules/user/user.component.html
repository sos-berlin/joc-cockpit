<div class="white box-shadow sub-header">
  <div class="row">
    <div class="col-md-12">
      <div class="padding">
        <div class="text-right ">
          <div class="pull-left">
            <app-breadcrumbs></app-breadcrumbs>
          </div>
          <div class="show-inline">
            <button type="button" class="btn btn-sm btn-grey" (click)="resetProfile();">
              <i class="fa fa-refresh"></i>
              {{'profile.button.resetPreferences' | translate}}
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="scroll-y max-ht">
  <div class="padding p-b-0">
    <div class="row m-t-sm">
      <div class="col-sm-12">
        <div class="box p-a p-b-md">
          <h5 translate>profile.label.userDetails</h5>
          <div class="row m-t">
            <div class="col-md-4 col-lg-3"><span class="text-dark" translate>profile.label.userName</span></div>
            <div class="col-md-8 col-lg-9">
              <span class="text-black-lt" [innerHtml]="authService.currentUserData | decodeSpace"></span>
            </div>
          </div>
          <div class="row m-t" *ngIf="identityServiceType === 'JOC' || identityServiceType === 'VAULT-JOC-ACTIVE'">
            <div class="col-md-4 col-lg-3"><span class="text-dark" translate>user.label.password</span></div>
            <div class="col-md-8 col-lg-9">
              <a class="text-u-l text-hover-primary" (click)="changePassword()"
                 translate>profile.button.changePassword</a>
            </div>
          </div>
          <div class="row m-t" *ngIf="identityServiceType == 'FIDO'">
            <div class="col-md-4 col-lg-3"><span class="text-dark" translate>user.button.addAuthenticatorDevice</span></div>
            <div class="col-md-8 col-lg-9">
              <a class="text-u-l text-hover-primary" (click)="addDevice()"
                 translate><i class="fa fa-plus"></i></a>
            </div>
          </div>
          <hr>
          <h5 translate>profile.label.roles</h5>
          <div class="row m-t-sm">
            <div class="col-sm-6">
              <div class="m-t-sm" *ngFor="let role of permission.roles">
                <div class="col-sm-12 text-black-lt">{{role}}</div>
              </div>
            </div>
          </div>
          <hr>
          <nz-tabset (nzSelectChange)="tabChange($event)">
            <nz-tab [nzTitle]="'profile.label.preferences' | translate">
              <div class="m-l-12 p-b-xs">
                <div class="row">
                  <div class="col-md-4 col-lg-3 text-dark form-control-label" translate>profile.label.language</div>
                  <div class="col-md-8 col-lg-9">
                    <app-select-input [name]="'language'" [classNames]="'w-xl'" [object]="preferences" [attributeName]="'locale'" [optionValue]="'lang'"  [optionLabel]="'name'"  (modelChange)="setLocale()" [listArray]="coreService.locales"></app-select-input>
                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark form-control-label" translate>profile.label.timeZone</div>
                  <div class="col-md-8 col-lg-9">
                   <app-select-input [isSearchable]="true" [name]="'timeZone'" [classNames]="'w-xl'" [object]="preferences" [attributeName]="'zone'"
                                    (modelChange)="changeConfiguration()" [listArray]="zones" [extraLabelText]="'local '"></app-select-input>

                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark form-control-label" translate>profile.label.dateTimeFormat
                  </div>
                  <div class="col-md-8 col-lg-9">
                    <app-select-input  [classNames]="'w-xl'"  (modelChange)="changeConfiguration()" [object]="preferences" [attributeName]="'dateFormat'"
                                       [optionLabel]="'name'" [listArray]="dateTimeFormat"
                                       [optionValue]="'value'"></app-select-input>
                    <div class="help-block">YYYY - 4 digit year, YY - 2 digit year, M / MM - month number, MMM / MMMM -
                      month name, D / DD - day of month
                    </div>
                    <div class="help-block">HH - 24 hour time, hh - 12 hour time, A - am and pm, mm - minutes, ss -
                      seconds
                    </div>
                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark form-control-label" translate>
                    profile.label.maxNumberOfHistoryEntries
                  </div>
                  <div class="col-md-6">
                    <nz-input-number class="w-xl" [nzMin]="1" [nzStep]="5" [(ngModel)]="preferences.maxRecords"
                                     (nzBlur)="changeConfiguration(isGroupBtnActive)"></nz-input-number>
                    <i *ngIf="isGroupBtnActive" (click)="isGroupBtnActive = false" class="fa fa-times p-l-sm"></i>
                    <a class="text-hover-primary p-l-sm" *ngIf="!isGroupBtnActive" (click)="groupLimit()" translate>profile.button.groupLimit</a>
                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark form-control-label"
                       translate>profile.label.maxNumberOfAuditLogEntries
                  </div>
                  <div class="col-md-6">
                    <nz-input-number *ngIf="!isGroupBtnActive" class="w-xl" [nzMin]="1" [nzStep]="5"
                                     [(ngModel)]="preferences.maxAuditLogRecords"
                                     (nzBlur)="changeConfiguration()"></nz-input-number>
                    <nz-input-number *ngIf="isGroupBtnActive" class="w-xl" nzDisabled
                                     [(ngModel)]="preferences.maxRecords"
                    ></nz-input-number>
                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark form-control-label"
                       translate>profile.label.maxNumberOfNotificationEntries
                  </div>
                  <div class="col-md-6">
                    <nz-input-number *ngIf="!isGroupBtnActive" class="w-xl" [nzMin]="1" [nzStep]="5"
                                     [(ngModel)]="preferences.maxNotificationRecords"
                                     (nzBlur)="changeConfiguration()"></nz-input-number>
                    <nz-input-number *ngIf="isGroupBtnActive" class="w-xl" nzDisabled
                                     [(ngModel)]="preferences.maxRecords"
                    ></nz-input-number>
                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark form-control-label"
                       translate>profile.label.maxNumberOfOverviewEntries
                  </div>
                  <div class="col-md-6">
                    <nz-input-number *ngIf="!isGroupBtnActive" class="w-xl" [nzMin]="1" [nzStep]="5"
                                     [(ngModel)]="preferences.maxOrderRecords"
                                     (nzBlur)="changeConfiguration()"></nz-input-number>
                    <nz-input-number *ngIf="isGroupBtnActive" class="w-xl" nzDisabled
                                     [(ngModel)]="preferences.maxRecords"
                    ></nz-input-number>
                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark form-control-label"
                       translate>profile.label.maxNumberOfDailyPlanEntries
                  </div>
                  <div class="col-md-6">
                    <nz-input-number *ngIf="!isGroupBtnActive" class="w-xl" [nzMin]="1" [nzStep]="5"
                                     [(ngModel)]="preferences.maxDailyPlanRecords"
                                     (nzBlur)="changeConfiguration()"></nz-input-number>
                    <nz-input-number *ngIf="isGroupBtnActive" class="w-xl" nzDisabled
                                     [(ngModel)]="preferences.maxRecords"
                    ></nz-input-number>
                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark form-control-label"
                       translate>profile.label.maxNumberOfWorkflowEntries
                  </div>
                  <div class="col-md-6">
                    <nz-input-number *ngIf="!isGroupBtnActive" class="w-xl" [nzMin]="1" [nzStep]="5"
                                     [(ngModel)]="preferences.maxWorkflowRecords"
                                     (nzBlur)="changeConfiguration()"></nz-input-number>
                    <nz-input-number *ngIf="isGroupBtnActive" class="w-xl" nzDisabled
                                     [(ngModel)]="preferences.maxRecords"
                    ></nz-input-number>
                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark form-control-label"
                       translate>profile.label.maxNumberOfFileTransferEntries
                  </div>
                  <div class="col-md-6">
                    <nz-input-number *ngIf="!isGroupBtnActive" class="w-xl" [nzMin]="1" [nzStep]="5"
                                     [(ngModel)]="preferences.maxFileTransferRecords"
                                     (nzBlur)="changeConfiguration()"></nz-input-number>
                    <nz-input-number *ngIf="isGroupBtnActive" class="w-xl" nzDisabled
                                     [(ngModel)]="preferences.maxRecords"
                    ></nz-input-number>
                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark form-control-label"
                       translate>profile.label.maxNumberOfResourceLockEntries
                  </div>
                  <div class="col-md-6">
                    <nz-input-number *ngIf="!isGroupBtnActive" class="w-xl" [nzMin]="1" [nzStep]="5"
                                     [(ngModel)]="preferences.maxLockRecords"
                                     (nzBlur)="changeConfiguration()"></nz-input-number>
                    <nz-input-number *ngIf="isGroupBtnActive" class="w-xl" nzDisabled
                                     [(ngModel)]="preferences.maxRecords"
                    ></nz-input-number>
                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark form-control-label"
                       translate>profile.label.maxNumberOfNoticeBoardEntries
                  </div>
                  <div class="col-md-6">
                    <nz-input-number *ngIf="!isGroupBtnActive" class="w-xl" [nzMin]="1" [nzStep]="5"
                                     [(ngModel)]="preferences.maxBoardRecords"
                                     (nzBlur)="changeConfiguration()"></nz-input-number>
                    <nz-input-number *ngIf="isGroupBtnActive" class="w-xl" nzDisabled
                                     [(ngModel)]="preferences.maxRecords"
                    ></nz-input-number>
                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark form-control-label"
                       translate>profile.label.maxNumberOfHistoryEntriesPerOrder
                  </div>
                  <div class="col-md-6">
                    <nz-input-number class="w-xl" [nzMin]="1" [nzStep]="5" [(ngModel)]="preferences.maxHistoryPerOrder"
                                     (nzBlur)="changeConfiguration()"></nz-input-number>
                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark form-control-label"
                       translate>profile.label.maxNumberOfHistoryEntriesPerTask
                  </div>
                  <div class="col-md-6">
                    <nz-input-number class="w-xl" [nzMin]="1" [nzStep]="5" [(ngModel)]="preferences.maxHistoryPerTask"
                                     (nzBlur)="changeConfiguration()"></nz-input-number>
                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark form-control-label"
                       translate>profile.label.maxNumberOfAuditLogPerObject
                  </div>
                  <div class="col-md-6">
                    <nz-input-number class="w-xl" [nzMin]="1" [nzStep]="5"
                                     [(ngModel)]="preferences.maxAuditLogPerObject"
                                     (nzBlur)="changeConfiguration()"></nz-input-number>
                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark form-control-label" translate>profile.label.maxNumberOfFavoriteEntries</div>
                  <div class="col-md-6">
                    <nz-input-number class="w-xl" [nzMin]="1" [nzStep]="5"
                                     [(ngModel)]="preferences.maxFavoriteEntries"
                                     (nzBlur)="changeConfiguration()"></nz-input-number>
                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark form-control-label" translate>profile.label.maxEntryPerPage
                  </div>
                  <div class="col-md-6">
                    <app-select-input  [classNames]="'w-xl'" [object]="preferences" [attributeName]="'maxEntryPerPage'" [optionValue]="'value'"
                                      [optionLabel]="'name'"   (ngModelChange)="changeConfiguration()" [listArray]="maxEntryPerPage"></app-select-input>

                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark form-control-label" translate>profile.label.entryPerPage</div>
                  <div class="col-md-6">
                    <app-select-input [classNames]="'w-xl'" [object]="preferences" [attributeName]="'entryPerPage'" [optionValue]="'value'"
                                      [optionLabel]="'name'"  (modelChange)="changeConfiguration()" [listArray]="entryPerPage"></app-select-input>
                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark form-control-label" translate>profile.label.theme</div>
                  <div class="col-md-6">
                    <app-select-input  [classNames]="'w-xl'" [object]="preferences" [attributeName]="'theme'"
                                       [optionLabel]="'name'" [listArray]="themeArray"  (modelChange)="changeTheme(preferences.theme)"
                                       [optionValue]="'value'"></app-select-input>
                  </div>
                </div>
                <div class="row m-t" *ngIf="this.preferences.theme === 'light'">
                  <div class="col-md-4 col-lg-3 text-dark form-control-label" translate>profile.label.menuBarTheme</div>
                  <div class="col-md-6">
                    <app-select-input [isSearchable]="true"  [classNames]="'w-xl'" [object]="preferences" [attributeName]="'headerColor'"
                                       [optionLabel]="'name'" [listArray]="headerColor" (modelChange)="changeMenuTheme()"
                                       [optionValue]="'value'"></app-select-input>
                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark form-control-label" translate>profile.label.themeTitle</div>
                  <div class="col-md-6">
                    <input type="text" class="form-control w-xl" [(ngModel)]="preferences.themeTitle"
                           (blur)="changeConfiguration()">
                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark" translate>profile.label.showLogs</div>
                  <div class="col-md-6">
                    <nz-radio-group [(ngModel)]="preferences.isNewWindow" (ngModelChange)="changeConfiguration()">
                      <label nz-radio nzValue="newWindow"><span translate>profile.label.newWindow</span></label>
                      <label nz-radio nzValue="newTab"><span translate>profile.label.newTab</span></label>
                      <label nz-radio nzValue="download"><span translate>profile.label.download</span></label>
                    </nz-radio-group>
                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark" translate>profile.label.showDocumentations</div>
                  <div class="col-md-6">
                    <nz-radio-group [(ngModel)]="preferences.isDocNewWindow" (ngModelChange)="changeConfiguration()">
                      <label nz-radio nzValue="newWindow"><span translate>profile.label.newWindow</span></label>
                      <label nz-radio nzValue="newTab"><span translate>profile.label.newTab</span></label>
                    </nz-radio-group>
                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark" translate>profile.label.showSubFolderAndFolderContents</div>
                  <div class="col-md-6">
                    <nz-radio-group [(ngModel)]="preferences.expandOption" (ngModelChange)="changeConfiguration()">
                      <label nz-radio nzValue="single"><span translate>profile.label.folderContents</span></label>
                      <label nz-radio nzValue="both"><span
                        translate>profile.label.subFolderAndFolderContents</span></label>
                    </nz-radio-group>
                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark" translate>profile.label.showFilesImmediately</div>
                  <div class="col-md-6">
                    <label nz-checkbox [(ngModel)]="preferences.showFiles"
                           (ngModelChange)="changeConfiguration()"></label>
                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark" translate>profile.label.enableCommentsForAuditLog</div>
                  <div class="col-md-6">
                    <label nz-checkbox [(ngModel)]="preferences.auditLog" [disabled]="forceLoging"
                           (ngModelChange)="changeConfiguration()"></label>
                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark" translate>profile.label.useTimezoneForLog</div>
                  <div class="col-md-6">
                    <label nz-checkbox [(ngModel)]="preferences.logTimezone"
                           (ngModelChange)="changeConfiguration()"></label>
                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark" translate>
                    profile.label.currentController
                  </div>
                  <div class="col-md-6">
                    <label nz-checkbox [(ngModel)]="preferences.currentController"
                           (ngModelChange)="changeConfiguration()"></label>
                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark" translate>
                    profile.label.showTooltipInfo
                  </div>
                  <div class="col-md-6">
                    <label nz-checkbox [(ngModel)]="preferences.showTooltipInfo"
                           (ngModelChange)="changeConfiguration()"></label>
                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark" translate>
                    profile.label.licenseWarningGotIt
                  </div>
                  <div class="col-md-6">
                    <label nz-checkbox [(ngModel)]="preferences.licenseExpirationWarning"
                           (ngModelChange)="changeConfiguration()"></label>
                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark" translate>
                    profile.label.showMoreOptions
                  </div>
                  <div class="col-md-6">
                    <label nz-checkbox [(ngModel)]="preferences.showMoreOptions"
                           (ngModelChange)="changeConfiguration()"></label>
                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark" translate>profile.label.showView</div>
                  <div class="col-md-6">
                    <nz-radio-group [(ngModel)]="preferences.pageView"
                                    (ngModelChange)="changeConfiguration();changeView()">
                      <label nz-radio nzValue="grid"><span translate>profile.label.asCard</span></label>
                      <label nz-radio nzValue="list"><span translate>profile.label.asList</span></label>
                    </nz-radio-group>
                  </div>
                </div>
                <div class="row m-t">
                  <div class="col-md-4 col-lg-3 text-dark" translate>profile.label.orderOverviewPageView</div>
                  <div class="col-md-6">
                    <nz-radio-group [(ngModel)]="preferences.orderOverviewPageView"
                                    (ngModelChange)="changeConfiguration();changeView()">
                      <label nz-radio nzValue="grid"><span translate>profile.label.asCard</span></label>
                      <label nz-radio nzValue="list"><span translate>profile.label.asList</span></label>
                      <label nz-radio nzValue="bulk"><span translate>profile.label.asBulk</span></label>
                    </nz-radio-group>
                  </div>
                </div>
              </div>
            </nz-tab>
            <nz-tab [nzTitle]="'profile.label.permissions' | translate"
                    *ngIf="permission.joc">
              <div class="m-l-12">
                <app-permission-view [permission]="permission" [schedulerIds]="schedulerIds"></app-permission-view>
              </div>
            </nz-tab>
            <nz-tab [nzTitle]="'profile.label.keyManagement' | translate"
                    *ngIf="securityLevel !== 'LOW' && permission.joc && permission.joc.administration.certificates.view">
              <div class="m-l-12">
                <div class="row m-t-sm p-b-xs">
                  <div class="col-sm-12">
                    <div class="m-t-xs m-b-md"
                         *ngIf="caCertificates && permission.joc.administration.certificates.manage">
                      <div class="row">
                        <div class="col-md-2">
                          <span class="text-dark _600" translate>profile.keyManagement.label.caCertificate</span>
                        </div>
                        <div class="col-md-10">
                          <span *ngIf="caCertificates.keyID || caCertificates.keyAlgorithm">
                            <span class="text-dark _600" style="padding-right: 10%"
                                  translate>{{caCertificates.keyID}}</span>
                            <span class="text-black-lt">
                              <i class="fa fa-check text-success"
                                 [ngClass]="{'fa-times text-danger': caCertificates.isKeyExpired}"></i>&nbsp;
                              <span *ngIf="!caCertificates.isKeyExpired"
                                    translate>profile.keyManagement.label.valid</span>
                              <span *ngIf="caCertificates.isKeyExpired"
                                    translate>profile.keyManagement.label.expiredKey</span>
                              <span *ngIf="caCertificates.validUntil">
                                <span class="m-l" translate>profile.keyManagement.label.validUntil</span>:
                                <span class="text-muted p-l-sm">{{caCertificates.validUntil | stringToDate}}</span>
                              </span>
                               <span *ngIf="!caCertificates.validUntil">
                                <span class="m-l" translate>profile.keyManagement.label.noValidDate</span>
                              </span>
                            </span>
                            <a class="text-hover-primary m-l-12"
                               [nz-tooltip]="'profile.keyManagement.label.showCertificate' | translate"
                               (click)="showKey('certificate')"><i class="fa fa-television"></i></a>
                          </span>
                          <span *ngIf="!caCertificates.keyID" translate>
                            profile.keyManagement.message.noCertificatePresent
                          </span>
                          <div class="inline pull-right m-t-n-xs" style="margin-bottom: 2px">
                            <button *ngIf="permission.joc.administration.certificates.manage"
                                    class="btn btn-sm btn-grey m-l-12" (click)="pasteKey('certificate')"
                                    [nz-tooltip]="'profile.keyManagement.tooltip.updateCertificate' | translate">
                              <i class="fa fa-paste"></i>
                            </button>
                            <button *ngIf="permission.joc.administration.certificates.manage"
                                    class="btn btn-sm btn-grey m-l-12" (click)="importKey('certificate')"
                                    [nz-tooltip]="'profile.keyManagement.tooltip.importCertificate' | translate">
                              <i nz-icon nzType="upload" nzTheme="outline"></i>
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="m-t-xs" *ngIf="keys">
                      <div class="row">
                        <div class="col-md-2">
                          <span class="text-dark _600" translate>profile.keyManagement.label.keysAndCertificates</span>
                        </div>
                        <div class="col-md-10">
                          <span *ngIf="keys.keyID || keys.keyAlgorithm">
                            <span class="text-dark _600" style="padding-right: 10%" translate>{{keys.keyID}}</span>
                            <span class="text-black-lt">
                              <i class="fa fa-check text-success"
                                 [ngClass]="{'fa-times text-danger': keys.isKeyExpired}"></i>&nbsp;
                              <span *ngIf="!keys.isKeyExpired" translate>profile.keyManagement.label.valid</span>
                              <span *ngIf="keys.isKeyExpired" translate>profile.keyManagement.label.expiredKey</span>
                              <span *ngIf="keys.validUntil">
                                <span class="m-l" translate>profile.keyManagement.label.validUntil</span>:
                                <span class="text-muted p-l-sm">{{keys.validUntil | stringToDate}}</span>
                              </span>
                               <span *ngIf="!keys.validUntil">
                                <span class="m-l" translate>profile.keyManagement.label.noValidDate</span>
                              </span>
                            </span>
                            <a class="text-hover-primary m-l-12"
                               [nz-tooltip]="'profile.keyManagement.label.showKey' | translate"
                               (click)="showKey()"><i class="fa fa-television"></i></a>
                          </span>
                          <span *ngIf="!keys.keyID && !keys.keyAlgorithm" translate>
                            profile.keyManagement.message.noKeyFound
                          </span>
                          <div class="inline pull-right m-t-n-xs" style="margin-bottom: 2px">
                            <button *ngIf="permission.joc.administration.certificates.manage"
                                    class="btn btn-sm btn-grey m-l-12" (click)="pasteKey()"
                                    [nz-tooltip]="'profile.keyManagement.tooltip.updateKey' | translate">
                              <i class="fa fa-paste"></i>
                            </button>
                            <button *ngIf="permission.joc.administration.certificates.manage"
                                    class="btn btn-sm btn-grey m-l-12" (click)="importKey()"
                                    [nz-tooltip]="'profile.keyManagement.tooltip.import' | translate">
                              <i nz-icon nzType="upload" nzTheme="outline"></i>
                            </button>
                            <button
                              *ngIf="securityLevel ==='MEDIUM' && permission.joc.administration.certificates.manage"
                              class="btn btn-sm btn-grey m-l-12"
                              (click)="showGenerateKeyModal()"
                              [nz-tooltip]="'profile.keyManagement.tooltip.generate' | translate">
                              <i nz-icon nzType="file-protect" nzTheme="outline"></i>
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </nz-tab>
            <nz-tab [nzTitle]="'profile.label.caManagement' | translate"
                    *ngIf="permission.joc && permission.joc.administration.certificates.view">
              <div class="m-l-12">
                <div class="row m-t-sm p-b-xs">
                  <div class="col-sm-12">
                    <div class="m-t-xs" *ngIf="certificates">
                      <div class="row">
                        <div class="col-md-2">
                          <span class="text-dark _600" translate>profile.keyManagement.label.keysAndCertificates</span>
                        </div>
                        <div class="col-md-10">
                          <span *ngIf="certificates.keyID || certificates.keyAlgorithm">
                            <span class="text-dark _600" style="padding-right: 10%"
                                  translate>{{certificates.keyID}}</span>
                            <span class="text-black-lt">
                              <i class="fa fa-check text-success"
                                 [ngClass]="{'fa-times text-danger': certificates.isKeyExpired}"></i>&nbsp;
                              <span *ngIf="!certificates.isKeyExpired"
                                    translate>profile.keyManagement.label.valid</span>
                              <span *ngIf="certificates.isKeyExpired"
                                    translate>profile.keyManagement.label.expiredKey</span>
                              <span *ngIf="certificates.validUntil">
                                <span class="m-l" translate>profile.keyManagement.label.validUntil</span>:
                                <span class="text-muted p-l-sm">{{certificates.validUntil | stringToDate}}</span>
                              </span>
                               <span *ngIf="!certificates.validUntil">
                                <span class="m-l" translate>profile.keyManagement.label.noValidDate</span>
                              </span>
                            </span>
                            <a class="text-hover-primary m-l-12"
                               [nz-tooltip]="'profile.keyManagement.label.showKey' | translate"
                               (click)="showKey('ca')"><i class="fa fa-television"></i></a>
                          </span>
                          <span *ngIf="!certificates.keyID && !certificates.keyAlgorithm" translate>
                            profile.keyManagement.message.noCAFound
                          </span>
                          <div class="inline pull-right m-t-n-xs" style="margin-bottom: 2px"
                               *ngIf="permission.joc.administration.certificates.manage">
                            <button class="btn btn-sm btn-grey m-l-12" (click)="pasteKey('ca')"
                                    [nz-tooltip]="'profile.keyManagement.tooltip.updateKey' | translate">
                              <i class="fa fa-paste"></i>
                            </button>
                            <button class="btn btn-sm btn-grey m-l-12" (click)="importKey('ca')"
                                    [nz-tooltip]="'profile.keyManagement.tooltip.import' | translate">
                              <i nz-icon nzType="upload" nzTheme="outline"></i>
                            </button>
                            <button class="btn btn-sm btn-grey m-l-12"
                                    (click)="showGenerateKeyModal('ca')"
                                    [nz-tooltip]="'profile.keyManagement.tooltip.generate' | translate">
                              <i nz-icon nzType="file-protect" nzTheme="outline"></i>
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </nz-tab>
            <nz-tab [nzTitle]="'profile.label.gitManagement' | translate"
                    *ngIf="securityLevel !== 'LOW' && permission.joc && permission.joc.inventory.view">
              <div class="m-l-12">
                <div class="row m-t-xs p-b-xs">
                  <div class="col-sm-12">
                    <div class="m-t-xs">
                      <div class="row">
                        <div class="col-md-12">
                          <div class="pos-abt r-12 t-n-xs z-index-99">
                            <button class="btn btn-sm btn-grey" (click)="addGitCredential()">
                              <i nz-icon nzType="plus" nzTheme="outline"></i>
                            </button>
                          </div>
                        </div>
                        <div class="col-md-12">
                          <span class="text-dark _600 font14" translate>profile.gitManagement.label.credentials</span>
                        </div>
                        <div class="col-md-12 m-t-sm" *ngIf="gitCredentials.credentials">
                          <div class="table-responsive m-t-xs">
                            <table class="table table-hover">
                              <thead>
                              <tr>
                                <th class="no-borders" style="width: 60px"><span translate>common.label.action</span></th>
                                <th class="no-borders" style="width: 22%"><span translate>profile.gitManagement.label.gitServer</span></th>
                                <th class="no-borders" style="width: 22%"><span translate>profile.gitManagement.label.gitAccount</span></th>
                                <th class="no-borders" style="width: 22%"><span translate>profile.gitManagement.label.userName</span></th>
                                <th class="no-borders"><span translate>profile.gitManagement.label.emailAddress</span></th>
                              </tr>
                              </thead>
                              <tbody>
                              <tr *ngFor="let cred of gitCredentials.credentials | orderBy:'gitAccount'; let i = index">
                                <td>
                                  <div class="btn-group dropdown">
                                    <button type="button" class="btn-drop more-option-h" nz-dropdown nzTrigger="click" [nzDropdownMenu]="option"><i
                                      class="fa fa-ellipsis-h"></i></button>
                                    <nz-dropdown-menu #option="nzDropdownMenu">
                                      <ul nz-menu >
                                        <li nz-menu-item (click)="editCredential(cred)">
                                          <a translate>common.button.edit</a>
                                        </li>
                                        <li nz-menu-item (click)="deleteCredential(cred)" class="bg-hover-color">
                                          <a translate>common.button.delete</a>
                                        </li>
                                      </ul>
                                    </nz-dropdown-menu>
                                  </div>
                                </td>
                                <td class="cursor" (click)="editCredential(cred)">{{cred.gitServer}}</td>
                                <td class="cursor" (click)="editCredential(cred)">{{cred.gitAccount}}</td>
                                <td class="cursor" (click)="editCredential(cred)">{{cred.username}}</td>
                                <td class="cursor" (click)="editCredential(cred)">{{cred.email}}</td>
                              </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                        <div class="col-md-12"
                             *ngIf="!gitCredentials.credentials || gitCredentials.credentials.length === 0" translate>
                          <div class="text-center">
                            <app-empty-data title="profile.gitManagement.message.noCredentialFound"></app-empty-data>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </nz-tab>
            <nz-tab [nzTitle]="'profile.label.favoriteManagement' | translate">
              <div class="p-l-sm p-r-rm m-t-n-sm">
                <nz-tabset (nzSelectChange)="innnerTabChange($event)">
                  <nz-tab [nzTitle]="'profile.favoriteManagement.tab.agents' | translate">
                  	<app-manage-favorite-list [favList]="favList" [sharedList]="sharedList" [type]="'AGENT'" [filter]="favFilter.agent" [schedulerId]="schedulerIds"
                                              (reload)="reload($event)" [account]="authService.currentUserData"></app-manage-favorite-list>
                  </nz-tab>
                  <nz-tab [nzTitle]="'profile.favoriteManagement.tab.facets' | translate">
                  	<app-manage-favorite-list [favList]="favList" [sharedList]="sharedList" [type]="'FACET'" [filter]="favFilter.facet" [schedulerId]="schedulerIds"
                                              (reload)="reload($event)" [account]="authService.currentUserData"></app-manage-favorite-list>
                  </nz-tab>
                </nz-tabset>
              </div>
            </nz-tab>
          </nz-tabset>
        </div>
      </div>
    </div>
  </div>
</div>
