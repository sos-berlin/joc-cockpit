<div class="white box-shadow sub-header">
  <div class="row">
    <div class="col-md-12">
      <div class="padding p-b-sm">
        <div class="text-right ">
          <div class="pull-left">
            <app-breadcrumbs></app-breadcrumbs>
          </div>
          <div *ngIf="index == 0" class="inline valign" >
<!--            <button class="btn btn-grey btn-sm m-l-12" (click)="downloadReport()" translate>-->
<!--              <span nz-icon nzType="file-sync" nzTheme="outline"></span>-->
<!--              reporting.button.synchronizeDataOnDisk-->
<!--            </button>-->
            <button class="btn btn-grey btn-sm m-l-12" (click)="runReport()" translate>
              <span nz-icon nzType="play-circle" nzTheme="outline"></span>
              reporting.button.runReport
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="scroll-y max-ht">

  <div class="padding p-b-0" *ngIf="loading">
    <nz-tabset (nzSelectChange)="tabChange($event)" [(nzSelectedIndex)]="index">
      <nz-tab [nzTitle]="'reporting.tab.manageReportRuns' | translate">
        <div *ngIf="index == 0">
          <app-running-history (syncReport)="downloadReport()" (reportRun)="runReport()" [permission]="permission" [preferences]="preferences" [filters]="filter.runningList" [templates]="templates"></app-running-history>
        </div>
      </nz-tab>
      <nz-tab [nzTitle]="'reporting.tab.reportRunHistory' | translate">
        <div *ngIf="index == 1">
          <app-manage-report [permission]="permission" [preferences]="preferences" [filters]="filter.manageList" [templates]="templates"></app-manage-report>
        </div>
      </nz-tab>
    </nz-tabset>
  </div>
  <div *ngIf="!loading" class="spinner">
    <div class="cssload-inner cssload-one"></div>
    <div class="cssload-inner cssload-two"></div>
    <div class="cssload-inner cssload-three"></div>
  </div>
</div>

