<div class="white box-shadow sub-header">
  <div class="row">
    <div class="col-md-12">
      <div class="padding">
        <div class="text-right ">
          <div class="pull-left">
            <app-breadcrumbs></app-breadcrumbs>
          </div>
          <div class="show-inline">
            <div class="inline">
              <ng-template #titleTemplate>
                <div *ngFor="let err of errorMessages">
                  {{err}}
                </div>
              </ng-template>
              <span class="badge badge-success m-r-12 pos-rel t-1"
                    [ngClass]="!isValid ? 'badge-danger':'badge-success'">
                  <span *ngIf="isValid" translate>inventory.label.valid</span>
                  <span *ngIf="!isValid">
                    <span translate>inventory.label.notValid</span>
                    <i nz-tooltip [nzTooltipTitle]="titleTemplate" class="fa fa-info-circle p-l-xs"></i>
                  </span>
              </span>
            </div>
            <button type="button" class="btn btn-sm btn-grey" (click)="validate();">
              <i class="fa fa-check"></i>
              {{'deploymentService.button.validate' | translate}}
            </button>
            <button type="button" class="btn btn-sm btn-grey m-l-12" (click)="editJSON();">
              <i class="fa fa-edit"></i>
              {{'deploymentService.button.editJSON' | translate}}
            </button>
            <button *ngIf="!data.license" type="button" class="btn btn-sm btn-grey m-l-12" (click)="addLicense();">
              <i class="fa fa-plus"></i>
              {{'deploymentService.license.button.addLicense' | translate}}
            </button>
            <button *ngIf="!data.certificates" type="button" class="btn btn-sm btn-grey m-l-12"
                    (click)="addCertificates();">
              <i class="fa fa-plus"></i>
              {{'deploymentService.certificate.button.addCertificates' | translate}}
            </button>
            <button *ngIf="!data.agents || data.agents.length == 0" type="button" class="btn btn-sm btn-grey m-l-12"
                    (click)="addAgent();">
              <i class="fa fa-plus"></i>
              {{'deploymentService.agent.button.addAgent' | translate}}
            </button>
            <button *ngIf="!data.controllers || data.controllers.length == 0" type="button"
                    class="btn btn-sm btn-grey m-l-12"
                    (click)="addController();">
              <i class="fa fa-plus"></i>
              {{'deploymentService.controller.button.addController' | translate}}
            </button>
            <button *ngIf="!data.joc || data.joc.length == 0" type="button" class="btn btn-sm btn-grey m-l-12"
                    (click)="addJOC();">
              <i class="fa fa-plus"></i>
              {{'deploymentService.joc.button.addJOC' | translate}}
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="scroll-y max-ht">
  <div class="padding p-b-0">
    <div class="row m-t-sm">
      <div class="col-md-12">
        <div class="box p-a">
          <form #myForm="ngForm">
            <div class="pos-abt r-15 t-10">
              <ul class="nav navbar-nav navbar-nav-inline nav-active-border3 ">
<!--                <li class="nav-item" [nz-tooltip]="'workflow.button.undo' | translate">-->
<!--                  <a class="nav-link"-->
<!--                     (click)="undo()">-->
<!--                    <span class="nav-text"> <i nz-icon nzType="undo" nzTheme="outline"></i></span>-->
<!--                  </a>-->
<!--                </li>-->
<!--                <li class="nav-item" [nz-tooltip]="'workflow.button.redo' | translate">-->
<!--                  <a class="nav-link"-->
<!--                     (click)="redo()">-->
<!--                    <span class="nav-text"> <i nz-icon nzType="redo" nzTheme="outline"></i></span>-->
<!--                  </a>-->
<!--                </li>-->
                <li class="nav-item dropdown-separator">
                  <span class="separator"></span>
                </li>
                <li class="nav-item" [nz-tooltip]="'inventory.button.download' | translate">
                  <a class="nav-link"
                     (click)="download()">
                    <span class="nav-text">  <i nz-icon nzType="download" nzTheme="outline"></i></span>
                  </a>
                </li>
                <li class="nav-item" [nz-tooltip]="'inventory.button.upload' | translate">
                  <a class="nav-link" (click)="upload()">
                    <span class="nav-text">  <i nz-icon nzType="upload" nzTheme="outline"></i></span>
                  </a>
                </li>
              </ul>
            </div>
            <div class="p-l-sm">
              <h5 class="p-l-sm" translate>deploymentService.label.descriptor
                <i class="fa fa-caret-down p-l-xs text-hover-primary"
                   (click)="obj.isDescriptorExpanded = !obj.isDescriptorExpanded"
                   [ngClass]="{'fa-caret-up': obj.isDescriptorExpanded}"></i>
              </h5>
              <div class="m-l-md hide" [ngClass]="{'fade-in show': obj.isDescriptorExpanded}">

                <div class="row m-t-sm">
                  <div class="col-md-4 col-lg-3 form-control-label">

                    <label translate>deploymentService.descriptor.label.descriptorId
                      <sup class="text-danger text-sm">*</sup>
                    </label> <i class="p-l-sm fa fa-info-circle"
                                [nz-tooltip]="'deploymentService.descriptor.tooltip.descriptorId' | translate"></i>
                  </div>
                  <div class="col-md-6 col-lg-4"
                       [ngClass]="{'has-error' : ((descriptorId.dirty || descriptorId.touched) && descriptorId.invalid)}">
                    <input autocomplete="off" type="text" class="form-control" #descriptorId="ngModel" required
                           name="descriptorId" maxlength="100"
                           placeholder="{{'deploymentService.descriptor.placeholder.descriptorId' | translate}}"
                           [(ngModel)]="data.descriptor.descriptorId" (blur)="convertJSON()">
                    <div *ngIf="descriptorId.invalid && (descriptorId.dirty || descriptorId.touched)"
                         class="text-danger help-block">
                      <div *ngIf="descriptorId.errors.required" translate>
                        common.message.requiredError
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row m-t-sm" *ngIf="obj.isMoreDescriptorDetail">
                  <div class="col-md-4 col-lg-3 form-control-label">
                    <label translate>deploymentService.descriptor.label.title</label> <i
                    class="p-l-sm fa fa-info-circle"
                    [nz-tooltip]="'deploymentService.descriptor.tooltip.title' | translate"></i>
                  </div>
                  <div class="col-md-6 col-lg-4">
                    <input type="text" class="form-control" name="title" maxlength="100"
                           placeholder="{{'deploymentService.descriptor.placeholder.title' | translate}}"
                           [(ngModel)]="data.descriptor.title">
                  </div>
                </div>
                <div class="row m-t-sm" *ngIf="obj.isMoreDescriptorDetail">
                  <div class="col-md-4 col-lg-3 form-control-label">
                    <label translate>deploymentService.descriptor.label.account</label> <i
                    class="p-l-sm fa fa-info-circle"
                    [nz-tooltip]="'deploymentService.descriptor.tooltip.account' | translate"></i>
                  </div>
                  <div class="col-md-6 col-lg-4">
                    <input type="text" class="form-control" name="account" maxlength="30"
                           placeholder="{{'deploymentService.descriptor.placeholder.account' | translate}}"
                           [(ngModel)]="data.descriptor.account">
                  </div>
                </div>
                <div class="row m-t-sm" *ngIf="obj.isMoreDescriptorDetail">
                  <div class="col-md-4 col-lg-3 form-control-label">
                    <label translate>deploymentService.descriptor.label.scheduled</label> <i
                    class="p-l-sm fa fa-info-circle"
                    [nz-tooltip]="'deploymentService.descriptor.tooltip.scheduled' | translate"></i>
                  </div>
                  <div class="col-md-6 col-lg-4">

                    <nz-date-picker class="" nzShowTime name="scheduled"
                                    [(ngModel)]="data.descriptor.scheduled"></nz-date-picker>
                  </div>
                </div>
                <div class="row m-t-sm" *ngIf="obj.isMoreDescriptorDetail">
                  <div class="col-md-4 col-lg-3 form-control-label">
                    <label translate>deploymentService.descriptor.label.created</label> <i
                    class="p-l-sm fa fa-info-circle"
                    [nz-tooltip]="'deploymentService.descriptor.tooltip.created' | translate"></i>
                  </div>
                  <div class="col-md-6 col-lg-4">
                    <nz-date-picker class="" nzShowTime name="created"
                                    [(ngModel)]="data.descriptor.created"></nz-date-picker>

                  </div>
                </div>
                <div class="m-t-sm">
                  <a *ngIf="obj.isMoreDescriptorDetail" class="text-primary text-hover-primary"
                     (click)="obj.isMoreDescriptorDetail = false"
                     translate>deploymentService.button.hideMoreOption</a>
                  <a *ngIf="!obj.isMoreDescriptorDetail" class="text-primary text-hover-primary"
                     (click)="obj.isMoreDescriptorDetail = true"
                     translate>deploymentService.button.showMoreOption</a>
                </div>
              </div>
              <hr>
            </div>
            <div class="p-l-sm" *ngIf="data.license">

              <h5 class="p-l-sm" translate>deploymentService.label.license
                <i class="fa fa-caret-down p-l-xs text-hover-primary"
                   (click)="obj.isLicenseExpanded = !obj.isLicenseExpanded"
                   [ngClass]="{'fa-caret-up': obj.isLicenseExpanded}"></i>
                <i class="fa fa-trash pull-right text-hover-color p-r-sm font14 cursor"
                   (click)="data.license = undefined"></i>
              </h5>
              <div class="m-l-md hide" [ngClass]="{'fade-in show': obj.isLicenseExpanded}">

                <div class="row m-t-sm">
                  <div class="col-md-4 col-lg-3 form-control-label">

                    <label translate>deploymentService.license.label.licenseKeyFile
                      <sup class="text-danger text-sm">*</sup>
                    </label> <i class="p-l-sm fa fa-info-circle"
                                [nz-tooltip]="'deploymentService.license.tooltip.licenseKeyFile' | translate"></i>
                  </div>
                  <div class="col-md-6 col-lg-4"
                       [ngClass]="{'has-error' : ((licenseKeyFile.dirty || licenseKeyFile.touched) && licenseKeyFile.invalid)}">
                    <input autocomplete="off" type="text" class="form-control"
                           #licenseKeyFile="ngModel" required name="licenseKeyFile" (blur)="convertJSON()"
                           placeholder="{{'deploymentService.license.placeholder.licenseKeyFile' | translate}}"
                           [(ngModel)]="data.license.licenseKeyFile">
                    <div *ngIf="licenseKeyFile.invalid && (licenseKeyFile.dirty || licenseKeyFile.touched)"
                         class="text-danger help-block">
                      <div *ngIf="licenseKeyFile.errors.required" translate>
                        common.message.requiredError
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row m-t-sm">
                  <div class="col-md-4 col-lg-3 form-control-label">

                    <label translate>deploymentService.license.label.licenseBinFile
                      <sup class="text-danger text-sm">*</sup>
                    </label> <i class="p-l-sm fa fa-info-circle"
                                [nz-tooltip]="'deploymentService.license.tooltip.licenseBinFile' | translate"></i>
                  </div>
                  <div class="col-md-6 col-lg-4"
                       [ngClass]="{'has-error' : ((licenseBinFile.dirty || licenseBinFile.touched) && licenseBinFile.invalid)}">
                    <input autocomplete="off" type="text" class="form-control"
                           #licenseBinFile="ngModel" required name="licenseBinFile" (blur)="convertJSON()"
                           placeholder="{{'deploymentService.license.placeholder.licenseBinFile' | translate}}"
                           [(ngModel)]="data.license.licenseBinFile">
                    <div *ngIf="licenseBinFile.invalid && (licenseBinFile.dirty || licenseBinFile.touched)"
                         class="text-danger help-block">
                      <div *ngIf="licenseBinFile.errors.required" translate>
                        common.message.requiredError
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <hr>
            </div>
            <div class="p-l-sm" *ngIf="data.certificates">
              <h5 class="p-l-sm" translate>deploymentService.label.certificates
                <i class="fa fa-caret-down p-l-xs text-hover-primary"
                   (click)="obj.isCertificateExpanded = !obj.isCertificateExpanded"
                   [ngClass]="{'fa-caret-up': obj.isCertificateExpanded}"></i>
                <i class="fa fa-trash pull-right text-hover-color p-r-sm font14 cursor"
                   (click)="data.certificates = undefined"></i>
              </h5>

              <div class="m-l-md hide" [ngClass]="{'fade-in show': obj.isCertificateExpanded}">

                <h6 class="m-t-12" translate>deploymentService.label.controller
                  <i class="fa fa-caret-down p-l-xs text-hover-primary"
                     (click)="data.certificates.isControllerExpanded = !data.certificates.isControllerExpanded"
                     [ngClass]="{'fa-caret-up': !data.certificates.isControllerExpanded}"></i>
                </h6>
                <div class="p-a b-a hide" [ngClass]="{'fade-in show': !data.certificates.isControllerExpanded}">
                  <div class="row ">
                    <div class="col-md-4 col-lg-3 form-control-label">
                      <label translate>deploymentService.certificate.label.primaryControllerCert
                        <sup class="text-danger text-sm">*</sup>
                      </label> <i class="p-l-sm fa fa-info-circle"
                                  [nz-tooltip]="'deploymentService.certificate.tooltip.primaryControllerCert' | translate"></i>
                    </div>
                    <div class="col-md-6 col-lg-4 p-l-3"
                         [ngClass]="{'has-error' : ((primaryControllerCert.dirty || primaryControllerCert.touched) && primaryControllerCert.invalid)}">
                      <input autocomplete="off" type="text" class="form-control" #primaryControllerCert="ngModel"
                             required name="primaryControllerCert" (blur)="convertJSON()"
                             placeholder="{{'deploymentService.certificate.placeholder.primaryControllerCert' | translate}}"
                             [(ngModel)]="data.certificates.controller.primaryControllerCert">
                      <div
                        *ngIf="primaryControllerCert.invalid && (primaryControllerCert.dirty || primaryControllerCert.touched)"
                        class="text-danger help-block">
                        <div *ngIf="primaryControllerCert.errors.required" translate>
                          common.message.requiredError
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="row m-t-sm">
                    <div class="col-md-4 col-lg-3 form-control-label">
                      <label translate>deploymentService.certificate.label.secondaryControllerCert
                        <sup class="text-danger text-sm">*</sup>
                      </label> <i class="p-l-sm fa fa-info-circle"
                                  [nz-tooltip]="'deploymentService.certificate.tooltip.secondaryControllerCert' | translate"></i>
                    </div>
                    <div class="col-md-6 col-lg-4 p-l-3"
                         [ngClass]="{'has-error' : ((secondaryControllerCert.dirty || secondaryControllerCert.touched) && secondaryControllerCert.invalid)}">
                      <input autocomplete="off" type="text" class="form-control"
                             #secondaryControllerCert="ngModel" required name="secondaryControllerCert"
                             (blur)="convertJSON()"
                             placeholder="{{'deploymentService.certificate.placeholder.secondaryControllerCert' | translate}}"
                             [(ngModel)]="data.certificates.controller.secondaryControllerCert">
                      <div
                        *ngIf="secondaryControllerCert.invalid && (secondaryControllerCert.dirty || secondaryControllerCert.touched)"
                        class="text-danger help-block">
                        <div *ngIf="secondaryControllerCert.errors.required" translate>
                          common.message.requiredError
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <h6 class="m-t-12" translate>deploymentService.label.joc
                  <i class="fa fa-caret-down p-l-xs text-hover-primary"
                     (click)="data.certificates.isJocExpanded = !data.certificates.isJocExpanded"
                     [ngClass]="{'fa-caret-up': !data.certificates.isJocExpanded}"></i>
                </h6>
                <div class="p-a b-a hide" [ngClass]="{'fade-in show': !data.certificates.isJocExpanded}">

                  <div class="row">
                    <div class="col-md-4 col-lg-3 form-control-label">
                      <label translate>deploymentService.certificate.label.primaryJocCert
                        <sup class="text-danger text-sm">*</sup>
                      </label> <i class="p-l-sm fa fa-info-circle"
                                  [nz-tooltip]="'deploymentService.certificate.tooltip.primaryJocCert' | translate"></i>
                    </div>
                    <div class="col-md-6 col-lg-4 p-l-3"
                         [ngClass]="{'has-error' : ((primaryJocCert.dirty || primaryJocCert.touched) && primaryJocCert.invalid)}">
                      <input autocomplete="off" type="text" class="form-control" #primaryJocCert="ngModel"
                             required name="primaryJocCert" (blur)="convertJSON()"
                             placeholder="{{'deploymentService.certificate.placeholder.primaryJocCert' | translate}}"
                             [(ngModel)]="data.certificates.joc.primaryJocCert">
                      <div *ngIf="primaryJocCert.invalid && (primaryJocCert.dirty || primaryJocCert.touched)"
                           class="text-danger help-block">
                        <div *ngIf="primaryJocCert.errors.required" translate>
                          common.message.requiredError
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="row m-t-sm">
                    <div class="col-md-4 col-lg-3 form-control-label">
                      <label translate>deploymentService.certificate.label.secondaryJocCert
                        <sup class="text-danger text-sm">*</sup>
                      </label> <i class="p-l-sm fa fa-info-circle"
                                  [nz-tooltip]="'deploymentService.certificate.tooltip.secondaryJocCert' | translate"></i>
                    </div>
                    <div class="col-md-6 col-lg-4 p-l-3"
                         [ngClass]="{'has-error' : ((secondaryJocCert.dirty || secondaryJocCert.touched) && secondaryJocCert.invalid)}">
                      <input autocomplete="off" type="text" class="form-control" #secondaryJocCert="ngModel"
                             required name="secondaryJocCert" (blur)="convertJSON()"
                             placeholder="{{'deploymentService.certificate.placeholder.secondaryJocCert' | translate}}"
                             [(ngModel)]="data.certificates.joc.secondaryJocCert">
                      <div *ngIf="secondaryJocCert.invalid && (secondaryJocCert.dirty || secondaryJocCert.touched)"
                           class="text-danger help-block">
                        <div *ngIf="secondaryJocCert.errors.required" translate>
                          common.message.requiredError
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <hr>
            </div>
            <div class="p-l-sm" *ngIf="data.joc && data.joc.length > 0">
              <h5 class="p-l-sm " translate>deploymentService.label.joc
                <i class="fa fa-caret-down p-l-xs text-hover-primary" (click)="obj.isJOCExpanded = !obj.isJOCExpanded"
                   [ngClass]="{'fa-caret-up': obj.isJOCExpanded}"></i>
                <i class="fa fa-trash pull-right text-hover-color p-r-sm font14 cursor"
                   (click)="removeJOC()" nz-tooltip="{{'Remove JOC Cockpit' | translate}}"></i>
              </h5>
              <div class="m-l-md hide" [ngClass]="{'fade-in show': obj.isJOCExpanded}">
                <div *ngFor="let jobC of data.joc; let i = index" [ngClass]="{'b-t m-t': i != 0}">
                  <h6 class="m-t-12">{{jobC.jocClusterId || 'JOC_ID_' + (i+1)}}
                    <i class="fa fa-caret-down p-l-xs text-hover-primary" (click)="jobC.isJOCExpanded = !jobC.isJOCExpanded"
                       [ngClass]="{'fa-caret-up': jobC.isJOCExpanded}"></i>
                    <i *ngIf="i > 0" class="fa fa-trash pull-right text-hover-color p-r-sm font14 cursor"
                       (click)="removeJOC(i)"></i>
                  </h6>
                  <div class="p-a b-a hide" [ngClass]="{'fade-in show': jobC.isJOCExpanded}">
                    <div class="row">
                      <div class="col-md-4 col-lg-3 form-control-label">
                        <label translate>deploymentService.joc.label.jocClusterId
                          <sup class="text-danger text-sm">*</sup>
                        </label> <i class="p-l-sm fa fa-info-circle"
                                    [nz-tooltip]="'deploymentService.joc.tooltip.jocClusterId' | translate"></i>
                      </div>
                      <div class="col-md-6 col-lg-4"
                           [ngClass]="{'has-error' : ((jocClusterId.dirty || jocClusterId.touched) && jocClusterId.invalid)}">
                        <input autocomplete="off" type="text" class="form-control" #jocClusterId="ngModel" required
                               name="jocClusterId{{i}}"
                               placeholder="{{'deploymentService.joc.placeholder.jocClusterId' | translate}}"
                               [(ngModel)]="jobC.jocClusterId" (blur)="convertJSON()">
                        <div *ngIf="jocClusterId.invalid && (jocClusterId.dirty || jocClusterId.touched)"
                             class="text-danger help-block">
                          <div *ngIf="jocClusterId.errors.required" translate>
                            common.message.requiredError
                          </div>
                        </div>
                      </div>
                    </div>
                    <div *ngFor="let item of jobC.cluster; let j = index">
                      <h6 class="m-t-12">
                        <span *ngIf="j == 0">PRIMARY</span>
                        <span *ngIf="j == 1">SECONDARY</span>
                        <i class="fa fa-caret-down p-l-xs text-hover-primary"
                           (click)="item.isJOCPropertiesExpanded = !item.isJOCPropertiesExpanded"
                           [ngClass]="{'fa-caret-up': !item.isJOCPropertiesExpanded}"></i>
                        <i *ngIf="j != 0" class="fa fa-trash pull-right text-hover-color p-r-sm font14 cursor"
                           (click)="removeSecondaryObj(jobC)"></i>
                      </h6>
                      <div class="p-a b-a hide" [ngClass]="{'fade-in show': !item.isJOCPropertiesExpanded}">
                        <div class="row">
                          <div class="col-md-4 col-lg-3 form-control-label">
                            <label translate>deploymentService.joc.label.ordering
                              <sup class="text-danger text-sm">*</sup>
                            </label> <i class="p-l-sm fa fa-info-circle"
                                        [nz-tooltip]="'deploymentService.joc.tooltip.ordering' | translate"></i>
                          </div>
                          <div class="col-md-6 col-lg-4 p-l-3" [ngClass]="{'has-error' : ((ordering.dirty || ordering.touched) && ordering.invalid)}">
                            <nz-input-number nzPlaceHolder="{{'deploymentService.joc.placeholder.ordering' | translate}}" #ordering="ngModel" required
                                             [nzMin]="1" [nzMax]="99" [nzStep]="1" name="ordering{{i}}{{j}}"
                                             [(ngModel)]="item.ordering"></nz-input-number>
                            <div *ngIf="ordering.invalid && (ordering.dirty || ordering.touched)"
                                 class="text-danger help-block">
                              <div *ngIf="ordering.errors.required" translate>
                                common.message.requiredError
                              </div>
                            </div>
                          </div>
                        </div>
                        <h6 class="m-t-12" translate>deploymentService.label.target </h6>
                        <div class="p-a b-a">
                          <h6 translate>deploymentService.label.connection </h6>
                          <div class="p-a b-a">
                            <div class="row">
                              <div class="col-md-4 col-lg-3 form-control-label">
                                <label translate>deploymentService.joc.label.host
                                  <sup class="text-danger text-sm">*</sup>
                                </label> <i class="p-l-sm fa fa-info-circle"
                                            [nz-tooltip]="'deploymentService.joc.tooltip.host' | translate"></i>
                              </div>
                              <div class="col-md-6 col-lg-4 p-l-3"
                                   [ngClass]="{'has-error' : ((host.dirty || host.touched) && host.invalid)}">
                                <input autocomplete="off" type="text" class="form-control" #host="ngModel" required
                                       name="host{{i}}{{j}}" (blur)="convertJSON()"
                                       placeholder="{{'deploymentService.joc.placeholder.host' | translate}}"
                                       [(ngModel)]="item.target.connection.host">
                                <div *ngIf="host.invalid && (host.dirty || host.touched)" class="text-danger help-block">
                                  <div *ngIf="host.errors.required" translate>
                                    common.message.requiredError
                                  </div>
                                </div>
                              </div>
                            </div>

                            <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                              <div class="col-md-4 col-lg-3 form-control-label">
                                <label translate>deploymentService.joc.label.port

                                </label> <i class="p-l-sm fa fa-info-circle"
                                            [nz-tooltip]="'deploymentService.joc.tooltip.port' | translate"></i>
                              </div>
                              <div class="col-md-6 col-lg-4 p-l-3">
                                <nz-input-number nzPlaceHolder="{{'deploymentService.joc.placeholder.port' | translate}}"
                                                 [nzMin]="1" [nzStep]="1" name="port{{i}}{{j}}"
                                                 [(ngModel)]="item.target.connection.port"></nz-input-number>
                              </div>
                            </div>
                          </div>
                          <h6 class="m-t-12" translate>deploymentService.label.authentication </h6>
                          <div class="p-a b-a">
                            <div class="row">
                              <div class="col-md-4 col-lg-3 form-control-label">
                                <label translate>deploymentService.joc.label.method
                                  <sup class="text-danger text-sm">*</sup>
                                </label> <i class="p-l-sm fa fa-info-circle"
                                            [nz-tooltip]="'deploymentService.joc.tooltip.method' | translate"></i>
                              </div>
                              <div class="col-md-6 col-lg-4 p-l-3"
                                   [ngClass]="{'has-error' : ((method.dirty || method.touched) && method.invalid)}">
                                <input autocomplete="off" type="text" class="form-control" #method="ngModel" required
                                       name="method{{i}}{{j}}" (blur)="convertJSON()"
                                       placeholder="{{'deploymentService.joc.placeholder.method' | translate}}"
                                       [(ngModel)]="item.target.authentication.method">
                                <div *ngIf="method.invalid && (method.dirty || method.touched)"
                                     class="text-danger help-block">
                                  <div *ngIf="method.errors.required" translate>
                                    common.message.requiredError
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="row m-t-sm">
                              <div class="col-md-4 col-lg-3 form-control-label">
                                <label translate>deploymentService.joc.label.user
                                  <sup class="text-danger text-sm">*</sup>
                                </label> <i class="p-l-sm fa fa-info-circle"
                                            [nz-tooltip]="'deploymentService.joc.tooltip.user' | translate"></i>
                              </div>
                              <div class="col-md-6 col-lg-4 p-l-3"
                                   [ngClass]="{'has-error' : ((user.dirty || user.touched) && user.invalid)}">
                                <input autocomplete="off" type="text" class="form-control" #user="ngModel" required
                                       name="user{{i}}{{j}}" (blur)="convertJSON()"
                                       placeholder="{{'deploymentService.joc.placeholder.user' | translate}}"
                                       [(ngModel)]="item.target.authentication.user">
                                <div *ngIf="user.invalid && (user.dirty || user.touched)" class="text-danger help-block">
                                  <div *ngIf="user.errors.required" translate>
                                    common.message.requiredError
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                              <div class="col-md-4 col-lg-3 form-control-label">
                                <label translate>deploymentService.joc.label.keyFile

                                </label> <i class="p-l-sm fa fa-info-circle"
                                            [nz-tooltip]="'deploymentService.joc.tooltip.keyFile' | translate"></i>
                              </div>
                              <div class="col-md-6 col-lg-4 p-l-3">
                                <input autocomplete="off" type="text" class="form-control" name="keyFile{{i}}{{j}}"
                                       placeholder="{{'deploymentService.joc.placeholder.keyFile' | translate}}"
                                       [(ngModel)]="item.target.authentication.keyFile">
                              </div>
                            </div>
                          </div>
                          <div class="row m-t-sm">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.joc.label.packageLocation
                                <sup class="text-danger text-sm">*</sup>
                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.joc.tooltip.packageLocation' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4"
                                 [ngClass]="{'has-error' : ((packageLocation.dirty || packageLocation.touched) && packageLocation.invalid)}">
                              <input autocomplete="off" type="text" class="form-control" #packageLocation="ngModel"
                                     required name="packageLocation{{i}}{{j}}" (blur)="convertJSON()"
                                     placeholder="{{'deploymentService.joc.placeholder.packageLocation' | translate}}"
                                     [(ngModel)]="item.target.packageLocation">
                              <div *ngIf="packageLocation.invalid && (packageLocation.dirty || packageLocation.touched)"
                                   class="text-danger help-block">
                                <div *ngIf="packageLocation.errors.required" translate>
                                  common.message.requiredError
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.joc.label.execPre
                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.joc.tooltip.execPre' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4">
                              <input autocomplete="off" type="text" class="form-control" name="execPre{{i}}{{j}}"
                                     placeholder="{{'deploymentService.joc.placeholder.execPre' | translate}}"
                                     [(ngModel)]="item.target.execPre">

                            </div>
                          </div>
                          <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.joc.label.execPost
                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.joc.tooltip.execPost' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4">
                              <input autocomplete="off" type="text" class="form-control" name="execPost{{i}}{{j}}"
                                     placeholder="{{'deploymentService.joc.placeholder.execPost' | translate}}"
                                     [(ngModel)]="item.target.execPost">

                            </div>
                          </div>
                          <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                            <div class="col-md-4 col-lg-3">
                              <label translate>deploymentService.joc.label.makeService
                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.joc.tooltip.makeService' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4">
                              <label nz-checkbox [(ngModel)]="item.target.makeService" name="makeService{{i}}{{j}}"></label>
                            </div>
                          </div>
                        </div>
                        <h6 class="m-t-12" translate>deploymentService.label.media </h6>
                        <div class="p-a b-a">
                          <div class="row">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.joc.label.release
                                <sup class="text-danger text-sm">*</sup>
                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.joc.tooltip.release' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4 "
                                 [ngClass]="{'has-error' : ((release.dirty || release.touched) && release.invalid)}">
                              <input autocomplete="off" type="text" class="form-control" #release="ngModel" required
                                     name="release{{i}}{{j}}" (blur)="convertJSON()"
                                     placeholder="{{'deploymentService.joc.placeholder.release' | translate}}"
                                     [(ngModel)]="item.media.release">
                              <div *ngIf="release.invalid && (release.dirty || release.touched)"
                                   class="text-danger help-block">
                                <div *ngIf="release.errors.required" translate>
                                  common.message.requiredError
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="row m-t-sm">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.joc.label.tarball
                                <sup class="text-danger text-sm">*</sup>
                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.joc.tooltip.tarball' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4"
                                 [ngClass]="{'has-error' : ((tarball.dirty || tarball.touched) && tarball.invalid)}">
                              <input autocomplete="off" type="text" class="form-control" #tarball="ngModel" required
                                     name="tarball{{i}}{{j}}" (blur)="convertJSON()"
                                     placeholder="{{'deploymentService.joc.placeholder.tarball' | translate}}"
                                     [(ngModel)]="item.media.tarball">
                              <div *ngIf="tarball.invalid && (tarball.dirty || tarball.touched)"
                                   class="text-danger help-block">
                                <div *ngIf="tarball.errors.required" translate>
                                  common.message.requiredError
                                </div>
                              </div>
                            </div>
                          </div>

                        </div>
                        <h6 class="m-t-12" translate>deploymentService.label.installation </h6>
                        <div class="p-a b-a">
                          <div class="row">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.joc.label.setupDir
                                <sup class="text-danger text-sm">*</sup>
                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.joc.tooltip.setupDir' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4"
                                 [ngClass]="{'has-error' : ((setupDir.dirty || setupDir.touched) && setupDir.invalid)}">
                              <input autocomplete="off" type="text" class="form-control" #setupDir="ngModel" required
                                     name="setupDir{{i}}{{j}}" (blur)="convertJSON()"
                                     placeholder="{{'deploymentService.joc.placeholder.setupDir' | translate}}"
                                     [(ngModel)]="item.installation.setupDir">
                              <div *ngIf="setupDir.invalid && (setupDir.dirty || setupDir.touched)"
                                   class="text-danger help-block">
                                <div *ngIf="setupDir.errors.required" translate>
                                  common.message.requiredError
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="row m-t-sm">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.joc.label.home
                                <sup class="text-danger text-sm">*</sup>
                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.joc.tooltip.home' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4 "
                                 [ngClass]="{'has-error' : ((home.dirty || home.touched) && home.invalid)}">
                              <input autocomplete="off" type="text" class="form-control" #home="ngModel" required
                                     name="home{{i}}{{j}}"
                                     placeholder="{{'deploymentService.joc.placeholder.home' | translate}}"
                                     [(ngModel)]="item.installation.home" (blur)="convertJSON()">
                              <div *ngIf="home.invalid && (home.dirty || home.touched)" class="text-danger help-block">
                                <div *ngIf="home.errors.required" translate>
                                  common.message.requiredError
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="row m-t-sm">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.joc.label.data
                                <sup class="text-danger text-sm">*</sup>
                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.joc.tooltip.data' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4 "
                                 [ngClass]="{'has-error' : ((jocData.dirty || jocData.touched) && jocData.invalid)}">
                              <input autocomplete="off" type="text" class="form-control" #jocData="ngModel" required
                                     name="data{{i}}{{j}}"
                                     placeholder="{{'deploymentService.joc.placeholder.data' | translate}}"
                                     [(ngModel)]="item.installation.data" (blur)="convertJSON()">
                              <div *ngIf="jocData.invalid && (jocData.dirty || jocData.touched)" class="text-danger help-block">
                                <div *ngIf="jocData.errors.required" translate>
                                  common.message.requiredError
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.joc.label.homeOwner

                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.joc.tooltip.homeOwner' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4 ">
                              <input autocomplete="off" type="text" class="form-control"
                                     name="homeOwner{{i}}{{j}}"
                                     placeholder="{{'deploymentService.joc.placeholder.homeOwner' | translate}}"
                                     [(ngModel)]="item.installation.homeOwner">
                            </div>
                          </div>

                          <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.joc.label.dataOwner

                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.joc.tooltip.dataOwner' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4 ">
                              <input autocomplete="off" type="text" class="form-control"
                                     name="dataOwner{{i}}{{j}}"
                                     placeholder="{{'deploymentService.joc.placeholder.dataOwner' | translate}}"
                                     [(ngModel)]="item.installation.dataOwner">
                            </div>
                          </div>

                          <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.joc.label.runUser

                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.joc.tooltip.runUser' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4 ">
                              <input autocomplete="off" type="text" class="form-control"
                                     name="runUser{{i}}{{j}}"
                                     placeholder="{{'deploymentService.joc.placeholder.runUser' | translate}}"
                                     [(ngModel)]="item.installation.runUser">
                            </div>
                          </div>
                          <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.joc.label.title

                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.joc.tooltip.title' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4 ">
                              <input autocomplete="off" type="text" class="form-control"
                                     name="title{{i}}{{j}}"
                                     placeholder="{{'deploymentService.joc.placeholder.title' | translate}}"
                                     [(ngModel)]="item.installation.title">
                            </div>
                          </div>
                          <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.joc.label.securityLevel

                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.joc.tooltip.securityLevel' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4 ">
                              <nz-select name="securityLevel{{i}}{{j}}" [(ngModel)]="item.installation.securityLevel">
                                <nz-option *ngFor="let option of securityLevel" [nzLabel]="option"
                                           [nzValue]="option"></nz-option>
                              </nz-select>
                            </div>
                          </div>
                          <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.joc.label.dbmsConfig

                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.joc.tooltip.dbmsConfig' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4 ">
                              <input autocomplete="off" type="text" class="form-control"
                                     name="dbmsConfig{{i}}{{j}}"
                                     placeholder="{{'deploymentService.joc.placeholder.dbmsConfig' | translate}}"
                                     [(ngModel)]="item.installation.dbmsConfig">
                            </div>
                          </div>
                          <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.joc.label.dbmsDriver

                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.joc.tooltip.dbmsDriver' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4 ">
                              <input autocomplete="off" type="text" class="form-control"
                                     name="dbmsDriver{{i}}{{j}}"
                                     placeholder="{{'deploymentService.joc.placeholder.dbmsDriver' | translate}}"
                                     [(ngModel)]="item.installation.dbmsDriver">
                            </div>
                          </div>
                          <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.joc.label.dbmsInit

                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.joc.tooltip.dbmsInit' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4 ">
                              <nz-select name="dbmsInit{{i}}{{j}}" [(ngModel)]="item.installation.dbmsInit">
                                <nz-option *ngFor="let option of dbmsInit" [nzLabel]="option"
                                           [nzValue]="option"></nz-option>
                              </nz-select>
                            </div>
                          </div>

                          <div class="row m-t-sm">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.joc.label.httpPort
                                <sup *ngIf="!item.installation.httpsPort" class="text-danger text-sm">*</sup>
                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.joc.tooltip.httpPort' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4 "
                                 [ngClass]="{'has-error' : ((httpPort.dirty || httpPort.touched) && httpPort.invalid)}">
                              <input autocomplete="off" type="text" class="form-control" #httpPort="ngModel"
                                     [required]="!item.installation.httpsPort"
                                     name="httpPort{{i}}{{j}}" (blur)="convertJSON()"
                                     placeholder="{{'deploymentService.joc.placeholder.httpPort' | translate}}"
                                     [(ngModel)]="item.installation.httpPort">
                              <div *ngIf="httpPort.invalid && (httpPort.dirty || httpPort.touched)"
                                   class="text-danger help-block">
                                <div *ngIf="httpPort.errors.required" translate>
                                  common.message.requiredError
                                </div>
                              </div>
                            </div>
                          </div>

                          <div class="row m-t-sm">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.joc.label.httpsPort
                                <sup *ngIf="!item.installation.httpPort" class="text-danger text-sm">*</sup>
                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.joc.tooltip.httpsPort' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4 "
                                 [ngClass]="{'has-error' : ((httpsPort.dirty || httpsPort.touched) && httpsPort.invalid)}">
                              <input autocomplete="off" type="text" class="form-control" #httpsPort="ngModel"
                                     [required]="!item.installation.httpPort" name="httpsPort{{i}}{{j}}" (blur)="convertJSON()"
                                     placeholder="{{'deploymentService.joc.placeholder.httpsPort' | translate}}"
                                     [(ngModel)]="item.installation.httpsPort">
                              <div *ngIf="httpsPort.invalid && (httpsPort.dirty || httpsPort.touched)"
                                   class="text-danger help-block">
                                <div *ngIf="httpsPort.errors.required" translate>
                                  common.message.requiredError
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                            <div class="col-md-4 col-lg-3">
                              <label translate>deploymentService.joc.label.javaHome
                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.joc.tooltip.javaHome' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4">
                              <input autocomplete="off" type="text" class="form-control"
                                     name="javaHome{{i}}{{j}}"
                                     placeholder="{{'deploymentService.joc.placeholder.javaHome' | translate}}"
                                     [(ngModel)]="item.installation.javaHome">
                            </div>
                          </div>
                          <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                            <div class="col-md-4 col-lg-3">
                              <label translate>deploymentService.joc.label.javaOptions

                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.joc.tooltip.javaOptions' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4">
                              <input autocomplete="off" type="text" class="form-control"
                                     name="javaOptions{{i}}{{j}}"
                                     placeholder="{{'deploymentService.joc.placeholder.javaOptions' | translate}}"
                                     [(ngModel)]="item.installation.javaOptions">
                            </div>
                          </div>
                          <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                            <div class="col-md-4 col-lg-3">
                              <label translate>deploymentService.joc.label.isUser
                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.joc.tooltip.isUser' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4">
                              <label nz-checkbox [(ngModel)]="item.installation.isUser" name="isUser{{i}}{{j}}"></label>
                            </div>
                          </div>
                          <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                            <div class="col-md-4 col-lg-3">
                              <label translate>deploymentService.joc.label.isPreserveEnv

                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.joc.tooltip.isPreserveEnv' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4">
                              <label nz-checkbox [(ngModel)]="item.installation.isPreserveEnv"
                                     name="isPreserveEnv{{i}}{{j}}"></label>
                            </div>
                          </div>
                        </div>
                        <ng-container *ngIf="item.isMoreKeyFileDetail">
                          <h6 class="m-t-12" translate>deploymentService.label.configuration </h6>
                          <div class="p-a b-a">
                            <div class="row">
                              <div class="col-md-4 col-lg-3 form-control-label">
                                <label translate>deploymentService.joc.label.responseDir
                                </label> <i class="p-l-sm fa fa-info-circle"
                                            [nz-tooltip]="'deploymentService.joc.tooltip.responseDir' | translate"></i>
                              </div>
                              <div class="col-md-6 col-lg-4">
                                <input autocomplete="off" type="text" class="form-control"
                                       name="responseDir{{i}}{{j}}"
                                       placeholder="{{'deploymentService.joc.placeholder.responseDir' | translate}}"
                                       [(ngModel)]="item.configuration.responseDir">
                              </div>
                            </div>
                            <h6 class="m-t-12" translate>deploymentService.label.certificates </h6>
                            <div class="p-a b-a">
                              <div class="row">
                                <div class="col-md-4 col-lg-3 form-control-label">
                                  <label translate>deploymentService.joc.label.keyStore
                                    <sup class="text-danger text-sm">*</sup>
                                  </label> <i class="p-l-sm fa fa-info-circle"
                                              [nz-tooltip]="'deploymentService.joc.tooltip.keyStore' | translate"></i>
                                </div>
                                <div class="col-md-6 col-lg-4 p-l-3"
                                     [ngClass]="{'has-error' : ((keyStore.dirty || keyStore.touched) && keyStore.invalid)}">
                                  <input autocomplete="off" type="text" #keyStore="ngModel" required
                                         class="form-control" (blur)="convertJSON()"
                                         name="keyStore{{i}}{{j}}"
                                         placeholder="{{'deploymentService.joc.placeholder.keyStore' | translate}}"
                                         [(ngModel)]="item.configuration.certificates.keyStore">
                                  <div *ngIf="keyStore.invalid && (keyStore.dirty || keyStore.touched)"
                                       class="text-danger help-block">
                                    <div *ngIf="keyStore.errors.required" translate>
                                      common.message.requiredError
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="row m-t-sm">
                                <div class="col-md-4 col-lg-3 form-control-label">
                                  <label translate>deploymentService.joc.label.keyStorePassword
                                    <sup class="text-danger text-sm">*</sup>
                                  </label> <i class="p-l-sm fa fa-info-circle"
                                              [nz-tooltip]="'deploymentService.joc.tooltip.keyStorePassword' | translate"></i>
                                </div>
                                <div class="col-md-6 col-lg-4 p-l-3"
                                     [ngClass]="{'has-error' : ((keyStorePassword.dirty || keyStorePassword.touched) && keyStorePassword.invalid)}">
                                  <input autocomplete="off" type="text" #keyStorePassword="ngModel" required
                                         class="form-control" (blur)="convertJSON()"
                                         name="keyStorePassword{{i}}{{j}}"
                                         placeholder="{{'deploymentService.joc.placeholder.keyStorePassword' | translate}}"
                                         [(ngModel)]="item.configuration.certificates.keyStorePassword">
                                  <div
                                    *ngIf="keyStorePassword.invalid && (keyStorePassword.dirty || keyStorePassword.touched)"
                                    class="text-danger help-block">
                                    <div *ngIf="keyStorePassword.errors.required" translate>
                                      common.message.requiredError
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="row m-t-sm">
                                <div class="col-md-4 col-lg-3 form-control-label">
                                  <label translate>deploymentService.joc.label.keyPassword
                                    <sup class="text-danger text-sm">*</sup>
                                  </label> <i class="p-l-sm fa fa-info-circle"
                                              [nz-tooltip]="'deploymentService.joc.tooltip.keyPassword' | translate"></i>
                                </div>
                                <div class="col-md-6 col-lg-4 p-l-3"
                                     [ngClass]="{'has-error' : ((keyPassword.dirty || keyPassword.touched) && keyPassword.invalid)}">
                                  <input autocomplete="off" type="text" #keyPassword="ngModel" required
                                         class="form-control" (blur)="convertJSON()"
                                         name="keyPassword{{i}}{{j}}"
                                         placeholder="{{'deploymentService.joc.placeholder.keyPassword' | translate}}"
                                         [(ngModel)]="item.configuration.certificates.keyPassword">
                                  <div *ngIf="keyPassword.invalid && (keyPassword.dirty || keyPassword.touched)"
                                       class="text-danger help-block">
                                    <div *ngIf="keyPassword.errors.required" translate>
                                      common.message.requiredError
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                                <div class="col-md-4 col-lg-3 form-control-label">
                                  <label translate>deploymentService.joc.label.keyAlias

                                  </label> <i class="p-l-sm fa fa-info-circle"
                                              [nz-tooltip]="'deploymentService.joc.tooltip.keyAlias' | translate"></i>
                                </div>
                                <div class="col-md-6 col-lg-4 p-l-3">
                                  <input autocomplete="off" type="text" class="form-control"
                                         name="keyAlias{{i}}{{j}}"
                                         placeholder="{{'deploymentService.joc.placeholder.keyAlias' | translate}}"
                                         [(ngModel)]="item.configuration.certificates.keyAlias">
                                </div>
                              </div>
                              <div class="row m-t-sm">
                                <div class="col-md-4 col-lg-3 form-control-label">
                                  <label translate>deploymentService.joc.label.trustStore
                                    <sup class="text-danger text-sm">*</sup>
                                  </label> <i class="p-l-sm fa fa-info-circle"
                                              [nz-tooltip]="'deploymentService.joc.tooltip.trustStore' | translate"></i>
                                </div>
                                <div class="col-md-6 col-lg-4 p-l-3"
                                     [ngClass]="{'has-error' : ((trustStore.dirty || trustStore.touched) && trustStore.invalid)}">
                                  <input autocomplete="off" type="text" #trustStore="ngModel" required
                                         class="form-control" (blur)="convertJSON()"
                                         name="trustStore{{i}}{{j}}"
                                         placeholder="{{'deploymentService.joc.placeholder.trustStore' | translate}}"
                                         [(ngModel)]="item.configuration.certificates.trustStore">
                                  <div *ngIf="trustStore.invalid && (trustStore.dirty || trustStore.touched)"
                                       class="text-danger help-block">
                                    <div *ngIf="trustStore.errors.required" translate>
                                      common.message.requiredError
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="row m-t-sm">
                                <div class="col-md-4 col-lg-3 form-control-label">
                                  <label translate>deploymentService.joc.label.trustStorePassword
                                    <sup class="text-danger text-sm">*</sup>
                                  </label> <i class="p-l-sm fa fa-info-circle"
                                              [nz-tooltip]="'deploymentService.joc.tooltip.trustStorePassword' | translate"></i>
                                </div>
                                <div class="col-md-6 col-lg-4 p-l-3"
                                     [ngClass]="{'has-error' : ((trustStorePassword.dirty || trustStorePassword.touched) && trustStorePassword.invalid)}">
                                  <input autocomplete="off" type="text" #trustStorePassword="ngModel" required
                                         class="form-control" (blur)="convertJSON()"
                                         name="trustStorePassword{{i}}{{j}}"
                                         placeholder="{{'deploymentService.joc.placeholder.trustStorePassword' | translate}}"
                                         [(ngModel)]="item.configuration.certificates.trustStorePassword">
                                  <div
                                    *ngIf="trustStorePassword.invalid && (trustStorePassword.dirty || trustStorePassword.touched)"
                                    class="text-danger help-block">
                                    <div *ngIf="trustStorePassword.errors.required" translate>
                                      common.message.requiredError
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <h6 class="m-t-12" translate>deploymentService.label.startFiles </h6>
                            <div class="p-a b-a">
                              <div class="row">
                                <div class="col-md-4 col-lg-3 form-control-label">
                                  <label translate>deploymentService.joc.label.httpIni

                                  </label> <i class="p-l-sm fa fa-info-circle"
                                              [nz-tooltip]="'deploymentService.joc.tooltip.httpIni' | translate"></i>
                                </div>
                                <div class="col-md-6 col-lg-4 p-l-3">
                                  <input autocomplete="off" type="text" class="form-control"
                                         name="httpIni{{i}}{{j}}"
                                         placeholder="{{'deploymentService.joc.placeholder.httpIni' | translate}}"
                                         [(ngModel)]="item.configuration.httpIni">
                                </div>
                              </div>
                              <div class="row m-t-sm">
                                <div class="col-md-4 col-lg-3 form-control-label">
                                  <label translate>deploymentService.joc.label.httpsIni

                                  </label> <i class="p-l-sm fa fa-info-circle"
                                              [nz-tooltip]="'deploymentService.joc.tooltip.httpIni' | translate"></i>
                                </div>
                                <div class="col-md-6 col-lg-4 p-l-3">
                                  <input autocomplete="off" type="text" class="form-control"
                                         name="httpsIni{{i}}{{j}}"
                                         placeholder="{{'deploymentService.joc.placeholder.httpsIni' | translate}}"
                                         [(ngModel)]="item.configuration.httpsIni">
                                </div>
                              </div>
                              <div class="row m-t-sm">
                                <div class="col-md-4 col-lg-3 form-control-label">
                                  <label translate>deploymentService.joc.label.sslIni

                                  </label> <i class="p-l-sm fa fa-info-circle"
                                              [nz-tooltip]="'deploymentService.joc.tooltip.sslIni' | translate"></i>
                                </div>
                                <div class="col-md-6 col-lg-4 p-l-3">
                                  <input autocomplete="off" type="text" class="form-control"
                                         name="sslIni{{i}}{{j}}"
                                         placeholder="{{'deploymentService.joc.placeholder.sslIni' | translate}}"
                                         [(ngModel)]="item.configuration.sslIni">
                                </div>
                              </div>
                            </div>
                            <div class="row m-t-12" *ngFor="let temp of item.configuration.templates; let k = index">
                              <div class="col-md-4 col-lg-3 form-control-label">
                                <label *ngIf="k == 0" translate>deploymentService.joc.label.templates

                                </label> <i *ngIf="k == 0" class="p-l-sm fa fa-info-circle"
                                            [nz-tooltip]="'deploymentService.joc.tooltip.templates' | translate"></i>
                              </div>
                              <div class="col-md-6 col-lg-4 ">
                                <input autocomplete="off" type="text" class="form-control"
                                       name="templates{{i}}{{j}}{{k}}"
                                       placeholder="{{'deploymentService.joc.placeholder.templates' | translate}}"
                                       [(ngModel)]="temp.name">
                                <i (click)="addTemplates(item.configuration.templates)"
                                   class="fa fa-plus pos-abt t-10 text-hover-primary" style="right: -10px;"></i>
                                <i *ngIf="k != 0" (click)="removeTemplates(item.configuration.templates, k)"
                                   class="fa fa-times pos-abt t-10 text-hover-color cursor" style="right: -28px;"></i>
                              </div>
                            </div>
                          </div>
                        </ng-container>

                        <div class="m-t-sm" style="margin-bottom: -8px;">
                          <a *ngIf="item.isMoreKeyFileDetail" class="text-primary text-hover-primary"
                             (click)="item.isMoreKeyFileDetail = false"
                             translate>deploymentService.button.hideMoreOption</a>
                          <a *ngIf="!item.isMoreKeyFileDetail" class="text-primary text-hover-primary"
                             (click)="item.isMoreKeyFileDetail = true"
                             translate>deploymentService.button.showMoreOption</a>
                        </div>
                      </div>
                    </div>
                    <div class="m-t-12"  *ngIf="jobC.cluster.length == 1">
                      <a class="text-primary text-hover-primary" (click)="addSecondaryJOC(jobC.cluster)"
                         translate>deploymentService.joc.button.addSecondaryJOC</a>
                    </div>
                  </div>
                </div>
                <div class="m-t-12">
                  <a class="text-primary text-hover-primary" (click)="addAnotherJOC()"
                     translate>deploymentService.joc.button.addAnotherJOC</a>
                </div>
              </div>
              <hr>
            </div>
            <div class="p-l-sm" *ngIf="data.agents && data.agents.length > 0">

              <h5 class="p-l-sm" translate>deploymentService.label.agents
                <i class="fa fa-caret-down p-l-xs text-hover-primary"
                   (click)="obj.isAgentExpanded = !obj.isAgentExpanded"
                   [ngClass]="{'fa-caret-up': obj.isAgentExpanded}"></i>
                <i class="fa fa-trash pull-right text-hover-color p-r-sm font14 cursor"
                   (click)="removeAgent()"></i>
              </h5>
              <div class="m-l-md hide" [ngClass]="{'fade-in show': obj.isAgentExpanded}">
                <div *ngFor="let item of data.agents; let i = index" [ngClass]="{'b-t m-t': i != 0}">
                  <h6 class="m-t-12">
                    <span>{{item.agentId || 'Agent_ID_' + (i + 1)}}</span>
                    <i class="fa fa-caret-down p-l-xs text-hover-primary"
                       (click)="item.isAgentPropertiesExpanded = !item.isAgentPropertiesExpanded"
                       [ngClass]="{'fa-caret-up': !item.isAgentPropertiesExpanded}"></i>
                    <i *ngIf="i != 0" class="fa fa-trash pull-right text-hover-color p-r-sm font14 cursor"
                       (click)="removeAgent(i)"></i>
                  </h6>

                  <div class="p-a b-a hide" [ngClass]="{'fade-in show': !item.isAgentPropertiesExpanded}">
                    <div class="row">
                      <div class="col-md-4 col-lg-3 form-control-label">
                        <label translate>deploymentService.agent.label.agentId
                          <sup class="text-danger text-sm">*</sup>
                        </label> <i class="p-l-sm fa fa-info-circle"
                                    [nz-tooltip]="'deploymentService.agent.tooltip.agentId' | translate"></i>
                      </div>
                      <div class="col-md-6 col-lg-4"
                           [ngClass]="{'has-error' : ((agentId.dirty || agentId.touched) && agentId.invalid)}">
                        <input autocomplete="off" type="text" class="form-control" #agentId="ngModel" required
                               name="agentId{{i}}" (blur)="convertJSON()"
                               placeholder="{{'deploymentService.agent.placeholder.agentId' | translate}}"
                               [(ngModel)]="item.agentId">
                        <div *ngIf="agentId.invalid && (agentId.dirty || agentId.touched)" class="text-danger help-block">
                          <div *ngIf="agentId.errors.required" translate>
                            common.message.requiredError
                          </div>
                        </div>
                      </div>
                    </div>
                    <h6 class="m-t-sm" translate>deploymentService.label.target </h6>
                    <div class="p-a b-a">
                      <h6 translate>deploymentService.label.connection </h6>
                      <div class="p-a b-a">
                        <div class="row">
                          <div class="col-md-4 col-lg-3 form-control-label">
                            <label translate>deploymentService.agent.label.host
                              <sup class="text-danger text-sm">*</sup>
                            </label> <i class="p-l-sm fa fa-info-circle"
                                        [nz-tooltip]="'deploymentService.agent.tooltip.host' | translate"></i>
                          </div>
                          <div class="col-md-6 col-lg-4 p-l-3"
                               [ngClass]="{'has-error' : ((host.dirty || host.touched) && host.invalid)}">
                            <input autocomplete="off" type="text" class="form-control" #host="ngModel" required
                                   name="ahost{{i}}" (blur)="convertJSON()"
                                   placeholder="{{'deploymentService.agent.placeholder.host' | translate}}"
                                   [(ngModel)]="item.target.connection.host">
                            <div *ngIf="host.invalid && (host.dirty || host.touched)" class="text-danger help-block">
                              <div *ngIf="host.errors.required" translate>
                                common.message.requiredError
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                          <div class="col-md-4 col-lg-3 form-control-label">
                            <label translate>deploymentService.agent.label.port

                            </label> <i class="p-l-sm fa fa-info-circle"
                                        [nz-tooltip]="'deploymentService.agent.tooltip.port' | translate"></i>
                          </div>
                          <div class="col-md-6 col-lg-4 p-l-3">
                            <nz-input-number nzPlaceHolder="{{'deploymentService.agent.placeholder.port' | translate}}"
                                             [nzMin]="1" [nzStep]="1" name="aport{{i}}"
                                             [(ngModel)]="item.target.connection.port"></nz-input-number>
                          </div>
                        </div>
                      </div>
                      <h6 class="m-t-12" translate>deploymentService.label.authentication </h6>
                      <div class="p-a b-a">
                        <div class="row">
                          <div class="col-md-4 col-lg-3 form-control-label">
                            <label translate>deploymentService.agent.label.method
                              <sup class="text-danger text-sm">*</sup>
                            </label> <i class="p-l-sm fa fa-info-circle"
                                        [nz-tooltip]="'deploymentService.agent.tooltip.method' | translate"></i>
                          </div>
                          <div class="col-md-6 col-lg-4 p-l-3"
                               [ngClass]="{'has-error' : ((method.dirty || method.touched) && method.invalid)}">
                            <nz-select nzPlaceHolder="{{'deploymentService.agent.placeholder.method' | translate}}"
                                       name="amethod{{i}}" #method="ngModel" [(ngModel)]="item.target.authentication.method">
                              <nz-option *ngFor="let option of methods" [nzLabel]="option"
                                         [nzValue]="option"></nz-option>
                            </nz-select>
                            <div *ngIf="method.invalid && (method.dirty || method.touched)"
                                 class="text-danger help-block">
                              <div *ngIf="method.errors.required" translate>
                                common.message.requiredError
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="row m-t-sm">
                          <div class="col-md-4 col-lg-3 form-control-label">
                            <label translate>deploymentService.agent.label.user
                              <sup class="text-danger text-sm">*</sup>
                            </label> <i class="p-l-sm fa fa-info-circle"
                                        [nz-tooltip]="'deploymentService.agent.tooltip.user' | translate"></i>
                          </div>
                          <div class="col-md-6 col-lg-4 p-l-3"
                               [ngClass]="{'has-error' : ((user.dirty || user.touched) && user.invalid)}">
                            <input autocomplete="off" type="text" class="form-control" #user="ngModel" required
                                   name="auser{{i}}" (blur)="convertJSON()"
                                   placeholder="{{'deploymentService.agent.placeholder.user' | translate}}"
                                   [(ngModel)]="item.target.authentication.user">
                            <div *ngIf="user.invalid && (user.dirty || user.touched)" class="text-danger help-block">
                              <div *ngIf="user.errors.required" translate>
                                common.message.requiredError
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                          <div class="col-md-4 col-lg-3 form-control-label">
                            <label translate>deploymentService.agent.label.keyFile

                            </label> <i class="p-l-sm fa fa-info-circle"
                                        [nz-tooltip]="'deploymentService.agent.tooltip.keyFile' | translate"></i>
                          </div>
                          <div class="col-md-6 col-lg-4 p-l-3">
                            <input autocomplete="off" type="text" class="form-control" name="akeyFile{{i}}"
                                   placeholder="{{'deploymentService.agent.placeholder.keyFile' | translate}}"
                                   [(ngModel)]="item.target.authentication.keyFile">
                          </div>
                        </div>
                      </div>
                      <div class="row m-t-sm">
                        <div class="col-md-4 col-lg-3 form-control-label">
                          <label translate>deploymentService.agent.label.packageLocation
                            <sup class="text-danger text-sm">*</sup>
                          </label> <i class="p-l-sm fa fa-info-circle"
                                      [nz-tooltip]="'deploymentService.agent.tooltip.packageLocation' | translate"></i>
                        </div>
                        <div class="col-md-6 col-lg-4"
                             [ngClass]="{'has-error' : ((packageLocation.dirty || packageLocation.touched) && packageLocation.invalid)}">
                          <input autocomplete="off" type="text" class="form-control" #packageLocation="ngModel"
                                 required name="apackageLocation{{i}}" (blur)="convertJSON()"
                                 placeholder="{{'deploymentService.agent.placeholder.packageLocation' | translate}}"
                                 [(ngModel)]="item.target.packageLocation">
                          <div *ngIf="packageLocation.invalid && (packageLocation.dirty || packageLocation.touched)"
                               class="text-danger help-block">
                            <div *ngIf="packageLocation.errors.required" translate>
                              common.message.requiredError
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                        <div class="col-md-4 col-lg-3 form-control-label">
                          <label translate>deploymentService.agent.label.execPre
                          </label> <i class="p-l-sm fa fa-info-circle"
                                      [nz-tooltip]="'deploymentService.agent.tooltip.execPre' | translate"></i>
                        </div>
                        <div class="col-md-6 col-lg-4">
                          <input autocomplete="off" type="text" class="form-control" name="aexecPre{{i}}"
                                 placeholder="{{'deploymentService.agent.placeholder.execPre' | translate}}"
                                 [(ngModel)]="item.target.execPre">

                        </div>
                      </div>
                      <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                        <div class="col-md-4 col-lg-3 form-control-label">
                          <label translate>deploymentService.agent.label.execPost
                          </label> <i class="p-l-sm fa fa-info-circle"
                                      [nz-tooltip]="'deploymentService.agent.tooltip.execPost' | translate"></i>
                        </div>
                        <div class="col-md-6 col-lg-4">
                          <input autocomplete="off" type="text" class="form-control" name="aexecPost{{i}}"
                                 placeholder="{{'deploymentService.agent.placeholder.execPost' | translate}}"
                                 [(ngModel)]="item.target.execPost">

                        </div>
                      </div>
                      <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                        <div class="col-md-4 col-lg-3">
                          <label translate>deploymentService.agent.label.makeService
                          </label> <i class="p-l-sm fa fa-info-circle"
                                      [nz-tooltip]="'deploymentService.agent.tooltip.makeService' | translate"></i>
                        </div>
                        <div class="col-md-6 col-lg-4">
                          <label nz-checkbox [(ngModel)]="item.target.makeService" name="amakeService{{i}}"></label>
                        </div>
                      </div>
                    </div>
                    <h6 class="m-t-12" translate>deploymentService.label.media </h6>
                    <div class="p-a b-a">
                      <div class="row">
                        <div class="col-md-4 col-lg-3 form-control-label">
                          <label translate>deploymentService.agent.label.release
                            <sup class="text-danger text-sm">*</sup>
                          </label> <i class="p-l-sm fa fa-info-circle"
                                      [nz-tooltip]="'deploymentService.agent.tooltip.release' | translate"></i>
                        </div>
                        <div class="col-md-6 col-lg-4 "
                             [ngClass]="{'has-error' : ((release.dirty || release.touched) && release.invalid)}">
                          <input autocomplete="off" type="text" class="form-control" #release="ngModel" required
                                 name="arelease{{i}}" (blur)="convertJSON()"
                                 placeholder="{{'deploymentService.agent.placeholder.release' | translate}}"
                                 [(ngModel)]="item.media.release">
                          <div *ngIf="release.invalid && (release.dirty || release.touched)"
                               class="text-danger help-block">
                            <div *ngIf="release.errors.required" translate>
                              common.message.requiredError
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row m-t-sm">
                        <div class="col-md-4 col-lg-3 form-control-label">
                          <label translate>deploymentService.agent.label.tarball
                            <sup class="text-danger text-sm">*</sup>
                          </label> <i class="p-l-sm fa fa-info-circle"
                                      [nz-tooltip]="'deploymentService.agent.tooltip.tarball' | translate"></i>
                        </div>
                        <div class="col-md-6 col-lg-4"
                             [ngClass]="{'has-error' : ((tarball.dirty || tarball.touched) && tarball.invalid)}">
                          <input autocomplete="off" type="text" class="form-control" #tarball="ngModel" required
                                 name="atarball{{i}}" (blur)="convertJSON()"
                                 placeholder="{{'deploymentService.agent.placeholder.tarball' | translate}}"
                                 [(ngModel)]="item.media.tarball">
                          <div *ngIf="tarball.invalid && (tarball.dirty || tarball.touched)"
                               class="text-danger help-block">
                            <div *ngIf="tarball.errors.required" translate>
                              common.message.requiredError
                            </div>
                          </div>
                        </div>
                      </div>

                    </div>
                    <h6 class="m-t-12" translate>deploymentService.label.installation </h6>
                    <div class="p-a b-a">

                      <div class="row">
                        <div class="col-md-4 col-lg-3 form-control-label">
                          <label translate>deploymentService.agent.label.home
                            <sup class="text-danger text-sm">*</sup>
                          </label> <i class="p-l-sm fa fa-info-circle"
                                      [nz-tooltip]="'deploymentService.agent.tooltip.home' | translate"></i>
                        </div>
                        <div class="col-md-6 col-lg-4 "
                             [ngClass]="{'has-error' : ((home.dirty || home.touched) && home.invalid)}">
                          <input autocomplete="off" type="text" class="form-control" #home="ngModel" required
                                 name="ahome{{i}}"
                                 placeholder="{{'deploymentService.agent.placeholder.home' | translate}}"
                                 [(ngModel)]="item.installation.home" (blur)="convertJSON()">
                          <div *ngIf="home.invalid && (home.dirty || home.touched)" class="text-danger help-block">
                            <div *ngIf="home.errors.required" translate>
                              common.message.requiredError
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row m-t-sm">
                        <div class="col-md-4 col-lg-3 form-control-label">
                          <label translate>deploymentService.agent.label.data
                            <sup class="text-danger text-sm">*</sup>
                          </label> <i class="p-l-sm fa fa-info-circle"
                                      [nz-tooltip]="'deploymentService.agent.tooltip.data' | translate"></i>
                        </div>
                        <div class="col-md-6 col-lg-4 "
                             [ngClass]="{'has-error' : ((jocData.dirty || jocData.touched) && jocData.invalid)}">
                          <input autocomplete="off" type="text" class="form-control" #jocData="ngModel" required
                                 name="adata{{i}}"
                                 placeholder="{{'deploymentService.agent.placeholder.data' | translate}}"
                                 [(ngModel)]="item.installation.data" (blur)="convertJSON()">
                          <div *ngIf="jocData.invalid && (jocData.dirty || jocData.touched)" class="text-danger help-block">
                            <div *ngIf="jocData.errors.required" translate>
                              common.message.requiredError
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                        <div class="col-md-4 col-lg-3 form-control-label">
                          <label translate>deploymentService.agent.label.homeOwner

                          </label> <i class="p-l-sm fa fa-info-circle"
                                      [nz-tooltip]="'deploymentService.agent.tooltip.homeOwner' | translate"></i>
                        </div>
                        <div class="col-md-6 col-lg-4 ">
                          <input autocomplete="off" type="text" class="form-control"
                                 name="ahomeOwner{{i}}"
                                 placeholder="{{'deploymentService.agent.placeholder.homeOwner' | translate}}"
                                 [(ngModel)]="item.installation.homeOwner">
                        </div>
                      </div>

                      <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                        <div class="col-md-4 col-lg-3 form-control-label">
                          <label translate>deploymentService.agent.label.dataOwner

                          </label> <i class="p-l-sm fa fa-info-circle"
                                      [nz-tooltip]="'deploymentService.agent.tooltip.dataOwner' | translate"></i>
                        </div>
                        <div class="col-md-6 col-lg-4 ">
                          <input autocomplete="off" type="text" class="form-control"
                                 name="adataOwner{{i}}"
                                 placeholder="{{'deploymentService.agent.placeholder.dataOwner' | translate}}"
                                 [(ngModel)]="item.installation.dataOwner">
                        </div>
                      </div>

                      <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                        <div class="col-md-4 col-lg-3 form-control-label">
                          <label translate>deploymentService.agent.label.runUser

                          </label> <i class="p-l-sm fa fa-info-circle"
                                      [nz-tooltip]="'deploymentService.agent.tooltip.runUser' | translate"></i>
                        </div>
                        <div class="col-md-6 col-lg-4 ">
                          <input autocomplete="off" type="text" class="form-control"
                                 name="arunUser{{i}}"
                                 placeholder="{{'deploymentService.agent.placeholder.runUser' | translate}}"
                                 [(ngModel)]="item.installation.runUser">
                        </div>
                      </div>

                      <div class="row m-t-sm">
                        <div class="col-md-4 col-lg-3 form-control-label">
                          <label translate>deploymentService.agent.label.httpPort
                            <sup *ngIf="!item.installation.httpsPort" class="text-danger text-sm">*</sup>
                          </label> <i class="p-l-sm fa fa-info-circle"
                                      [nz-tooltip]="'deploymentService.agent.tooltip.httpPort' | translate"></i>
                        </div>
                        <div class="col-md-6 col-lg-4 "
                             [ngClass]="{'has-error' : ((httpPort.dirty || httpPort.touched) && httpPort.invalid)}">
                          <input autocomplete="off" type="text" class="form-control" #httpPort="ngModel" [required]="!item.installation.httpsPort"
                                 name="ahttpPort{{i}}" (blur)="convertJSON()"
                                 placeholder="{{'deploymentService.agent.placeholder.httpPort' | translate}}"
                                 [(ngModel)]="item.installation.httpPort">
                          <div *ngIf="httpPort.invalid && (httpPort.dirty || httpPort.touched)"
                               class="text-danger help-block">
                            <div *ngIf="httpPort.errors.required" translate>
                              common.message.requiredError
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="row m-t-sm">
                        <div class="col-md-4 col-lg-3 form-control-label">
                          <label translate>deploymentService.agent.label.httpsPort
                            <sup *ngIf="!item.installation.httpPort" class="text-danger text-sm">*</sup>
                          </label> <i class="p-l-sm fa fa-info-circle"
                                      [nz-tooltip]="'deploymentService.agent.tooltip.httpsPort' | translate"></i>
                        </div>
                        <div class="col-md-6 col-lg-4 "
                             [ngClass]="{'has-error' : ((httpsPort.dirty || httpsPort.touched) && httpsPort.invalid)}">
                          <input autocomplete="off" type="text" class="form-control" #httpsPort="ngModel"
                                 [required]="!item.installation.httpPort" name="ahttpsPort{{i}}" (blur)="convertJSON()"
                                 placeholder="{{'deploymentService.agent.placeholder.httpsPort' | translate}}"
                                 [(ngModel)]="item.installation.httpsPort">
                          <div *ngIf="httpsPort.invalid && (httpsPort.dirty || httpsPort.touched)"
                               class="text-danger help-block">
                            <div *ngIf="httpsPort.errors.required" translate>
                              common.message.requiredError
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                        <div class="col-md-4 col-lg-3">
                          <label translate>deploymentService.agent.label.javaHome
                          </label> <i class="p-l-sm fa fa-info-circle"
                                      [nz-tooltip]="'deploymentService.agent.tooltip.javaHome' | translate"></i>
                        </div>
                        <div class="col-md-6 col-lg-4">
                          <input autocomplete="off" type="text" class="form-control"
                                 name="ajavaHome{{i}}"
                                 placeholder="{{'deploymentService.agent.placeholder.javaHome' | translate}}"
                                 [(ngModel)]="item.installation.javaHome">
                        </div>
                      </div>
                      <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                        <div class="col-md-4 col-lg-3">
                          <label translate>deploymentService.agent.label.javaOptions

                          </label> <i class="p-l-sm fa fa-info-circle"
                                      [nz-tooltip]="'deploymentService.agent.tooltip.javaOptions' | translate"></i>
                        </div>
                        <div class="col-md-6 col-lg-4">
                          <input autocomplete="off" type="text" class="form-control"
                                 name="ajavaOptions{{i}}"
                                 placeholder="{{'deploymentService.agent.placeholder.javaOptions' | translate}}"
                                 [(ngModel)]="item.installation.javaOptions">
                        </div>
                      </div>
                    </div>
                    <ng-container *ngIf="item.isMoreKeyFileDetail">
                      <h6 class="m-t-12" translate>deploymentService.label.configuration </h6>
                      <div class="p-a b-a">
                        <div class="row">
                          <div class="col-md-4 col-lg-3 form-control-label">
                            <label translate>deploymentService.agent.label.controllerId
                              <sup class="text-danger text-sm">*</sup>
                            </label> <i class="p-l-sm fa fa-info-circle"
                                        [nz-tooltip]="'deploymentService.controller.tooltip.controllerId' | translate"></i>
                          </div>
                          <div class="col-md-6 col-lg-4"
                               [ngClass]="{'has-error' : ((controllerId.dirty || controllerId.touched) && controllerId.invalid)}">
                            <nz-select nzPlaceHolder="{{'deploymentService.controller.placeholder.controllerId' | translate}}"
                                       name="acontrollerId{{i}}" #controllerId="ngModel" [(ngModel)]="item.configuration.controller.controllerId">
                              <nz-option *ngFor="let option of data.controllers" [nzLabel]="option.controllerId"
                                         [nzValue]="option.controllerId"></nz-option>
                            </nz-select>

                            <div *ngIf="controllerId.invalid && (controllerId.dirty || controllerId.touched)"
                                 class="text-danger help-block">
                              <div *ngIf="controllerId.errors.required" translate>
                                common.message.requiredError
                              </div>
                            </div>
                          </div>
                        </div>
                        <h6 class="m-t-12" translate>deploymentService.label.certificates </h6>
                        <div class="p-a b-a">
                          <div class="row">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.agent.label.keyStore
                                <sup class="text-danger text-sm">*</sup>
                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.agent.tooltip.keyStore' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4 p-l-3"
                                 [ngClass]="{'has-error' : ((keyStore.dirty || keyStore.touched) && keyStore.invalid)}">
                              <input autocomplete="off" type="text" #keyStore="ngModel" required
                                     class="form-control" (blur)="convertJSON()"
                                     name="akeyStore{{i}}"
                                     placeholder="{{'deploymentService.agent.placeholder.keyStore' | translate}}"
                                     [(ngModel)]="item.configuration.certificates.keyStore">
                              <div *ngIf="keyStore.invalid && (keyStore.dirty || keyStore.touched)"
                                   class="text-danger help-block">
                                <div *ngIf="keyStore.errors.required" translate>
                                  common.message.requiredError
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="row m-t-sm">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.agent.label.keyStorePassword
                                <sup class="text-danger text-sm">*</sup>
                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.agent.tooltip.keyStorePassword' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4 p-l-3"
                                 [ngClass]="{'has-error' : ((keyStorePassword.dirty || keyStorePassword.touched) && keyStorePassword.invalid)}">
                              <input autocomplete="off" type="text" #keyStorePassword="ngModel" required
                                     class="form-control" (blur)="convertJSON()"
                                     name="akeyStorePassword{{i}}"
                                     placeholder="{{'deploymentService.agent.placeholder.keyStorePassword' | translate}}"
                                     [(ngModel)]="item.configuration.certificates.keyStorePassword">
                              <div
                                *ngIf="keyStorePassword.invalid && (keyStorePassword.dirty || keyStorePassword.touched)"
                                class="text-danger help-block">
                                <div *ngIf="keyStorePassword.errors.required" translate>
                                  common.message.requiredError
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="row m-t-sm">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.agent.label.keyPassword
                                <sup class="text-danger text-sm">*</sup>
                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.agent.tooltip.keyPassword' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4 p-l-3"
                                 [ngClass]="{'has-error' : ((keyPassword.dirty || keyPassword.touched) && keyPassword.invalid)}">
                              <input autocomplete="off" type="text" #keyPassword="ngModel" required
                                     class="form-control" (blur)="convertJSON()"
                                     name="akeyPassword{{i}}"
                                     placeholder="{{'deploymentService.agent.placeholder.keyPassword' | translate}}"
                                     [(ngModel)]="item.configuration.certificates.keyPassword">
                              <div *ngIf="keyPassword.invalid && (keyPassword.dirty || keyPassword.touched)"
                                   class="text-danger help-block">
                                <div *ngIf="keyPassword.errors.required" translate>
                                  common.message.requiredError
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.agent.label.keyAlias

                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.agent.tooltip.keyAlias' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4 p-l-3">
                              <input autocomplete="off" type="text" class="form-control"
                                     name="akeyAlias{{i}}"
                                     placeholder="{{'deploymentService.agent.placeholder.keyAlias' | translate}}"
                                     [(ngModel)]="item.configuration.certificates.keyAlias">
                            </div>
                          </div>
                          <div class="row m-t-sm">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.agent.label.trustStore
                                <sup class="text-danger text-sm">*</sup>
                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.agent.tooltip.trustStore' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4 p-l-3"
                                 [ngClass]="{'has-error' : ((trustStore.dirty || trustStore.touched) && trustStore.invalid)}">
                              <input autocomplete="off" type="text" #trustStore="ngModel" required
                                     class="form-control" (blur)="convertJSON()"
                                     name="atrustStore{{i}}"
                                     placeholder="{{'deploymentService.agent.placeholder.trustStore' | translate}}"
                                     [(ngModel)]="item.configuration.certificates.trustStore">
                              <div *ngIf="trustStore.invalid && (trustStore.dirty || trustStore.touched)"
                                   class="text-danger help-block">
                                <div *ngIf="trustStore.errors.required" translate>
                                  common.message.requiredError
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="row m-t-sm">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.agent.label.trustStorePassword
                                <sup class="text-danger text-sm">*</sup>
                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.agent.tooltip.trustStorePassword' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4 p-l-3"
                                 [ngClass]="{'has-error' : ((trustStorePassword.dirty || trustStorePassword.touched) && trustStorePassword.invalid)}">
                              <input autocomplete="off" type="text" #trustStorePassword="ngModel" required
                                     class="form-control" (blur)="convertJSON()"
                                     name="atrustStorePassword{{i}}"
                                     placeholder="{{'deploymentService.agent.placeholder.trustStorePassword' | translate}}"
                                     [(ngModel)]="item.configuration.certificates.trustStorePassword">
                              <div
                                *ngIf="trustStorePassword.invalid && (trustStorePassword.dirty || trustStorePassword.touched)"
                                class="text-danger help-block">
                                <div *ngIf="trustStorePassword.errors.required" translate>
                                  common.message.requiredError
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="row m-t-12" *ngFor="let temp of item.configuration.templates; let j = index">
                          <div class="col-md-4 col-lg-3 form-control-label">
                            <label *ngIf="j == 0" translate>deploymentService.agent.label.templates

                            </label> <i *ngIf="j == 0" class="p-l-sm fa fa-info-circle"
                                        [nz-tooltip]="'deploymentService.agent.tooltip.templates' | translate"></i>
                          </div>
                          <div class="col-md-6 col-lg-4 ">
                            <input autocomplete="off" type="text" class="form-control"
                                   name="atemplates{{i}}{{j}}"
                                   placeholder="{{'deploymentService.agent.placeholder.templates' | translate}}"
                                   [(ngModel)]="temp.name">
                            <i (click)="addTemplates(item.configuration.templates)"
                               class="fa fa-plus pos-abt t-10 text-hover-primary" style="right: -10px;"></i>
                            <i *ngIf="j != 0" (click)="removeTemplates(item.configuration.templates, j)"
                               class="fa fa-times pos-abt t-10 text-hover-color cursor" style="right: -28px;"></i>
                          </div>
                        </div>
                      </div>
                    </ng-container>

                    <div class="m-t-sm" style="margin-bottom: -8px;">
                      <a *ngIf="item.isMoreKeyFileDetail" class="text-primary text-hover-primary"
                         (click)="item.isMoreKeyFileDetail = false"
                         translate>deploymentService.button.hideMoreOption</a>
                      <a *ngIf="!item.isMoreKeyFileDetail" class="text-primary text-hover-primary"
                         (click)="item.isMoreKeyFileDetail = true"
                         translate>deploymentService.button.showMoreOption</a>
                    </div>
                  </div>
                </div>
                <div class="m-t">
                  <a class="text-primary text-hover-primary" (click)="addAnotherAgent()"
                     translate>deploymentService.agent.button.addAnotherAgent</a>
                </div>
              </div>
              <hr>
            </div>
            <div class="p-l-sm" *ngIf="data.controllers && data.controllers.length > 0">
              <h5 class="p-l-sm" translate>deploymentService.label.controllers
                <i class="fa fa-caret-down p-l-xs text-hover-primary"
                   (click)="obj.isControllerExpanded = !obj.isControllerExpanded"
                   [ngClass]="{'fa-caret-up': obj.isControllerExpanded}"></i>
                <i class="fa fa-trash pull-right text-hover-color p-r-sm font14 cursor"
                   (click)="removeController()"></i>
              </h5>
              <div class="m-l-md hide" [ngClass]="{'fade-in show': obj.isControllerExpanded}">
                <div *ngFor="let controller of data.controllers; let i = index" [ngClass]="{'b-t m-t': i != 0}">
                  <h6 class="m-t-12">{{controller.controllerId || 'Controller_ID_' + (i+1)}}
                    <i class="fa fa-caret-down p-l-xs text-hover-primary" (click)="controller.isControllerExpanded = !controller.isControllerExpanded"
                       [ngClass]="{'fa-caret-up': controller.isControllerExpanded}"></i>
                    <i *ngIf="i > 0"
                       class="fa fa-trash pull-right text-hover-color p-r-sm font14 cursor"
                       (click)="removeController(i)"></i>
                  </h6>
                  <div class="p-a b-a hide" [ngClass]="{'fade-in show': controller.isControllerExpanded}">
                    <div class="row">
                      <div class="col-md-4 col-lg-3 form-control-label">
                        <label translate>deploymentService.controller.label.controllerId
                          <sup class="text-danger text-sm">*</sup>
                        </label> <i class="p-l-sm fa fa-info-circle"
                                    [nz-tooltip]="'deploymentService.controller.tooltip.controllerId' | translate"></i>
                      </div>
                      <div class="col-md-6 col-lg-4"
                           [ngClass]="{'has-error' : ((controllerId.dirty || controllerId.touched) && controllerId.invalid)}">
                        <input autocomplete="off" type="text" class="form-control" #controllerId="ngModel" required
                               name="ccontrollerId{{i}}"
                               placeholder="{{'deploymentService.controller.placeholder.controllerId' | translate}}"
                               [(ngModel)]="controller.controllerId" (blur)="convertJSON()">
                        <div *ngIf="controllerId.invalid && (controllerId.dirty || controllerId.touched)"
                             class="text-danger help-block">
                          <div *ngIf="controllerId.errors.required" translate>
                            common.message.requiredError
                          </div>
                        </div>
                      </div>
                    </div>
                    <div *ngFor="let item of controller.cluster; let j = index">

                      <h6 class="m-t-12">
                        <span *ngIf="j == 0">PRIMARY</span>
                        <span *ngIf="j != 0">SECONDARY</span>
                        <i class="fa fa-caret-down p-l-xs text-hover-primary"
                           (click)="item.isControllerPropertiesExpanded = !item.isControllerPropertiesExpanded"
                           [ngClass]="{'fa-caret-up': !item.isControllerPropertiesExpanded}"></i>
                        <i *ngIf="j != 0" class="fa fa-trash pull-right text-hover-color p-r-sm font14 cursor"
                           (click)="removeSecondaryObj(controller)"></i>
                      </h6>
                      <div class="p-a b-a hide" [ngClass]="{'fade-in show': !item.isControllerPropertiesExpanded}">
                        <h6 translate>deploymentService.label.target </h6>
                        <div class="p-a b-a">
                          <h6 translate>deploymentService.label.connection </h6>
                          <div class="p-a b-a">
                            <div class="row">
                              <div class="col-md-4 col-lg-3 form-control-label">
                                <label translate>deploymentService.controller.label.host
                                  <sup class="text-danger text-sm">*</sup>
                                </label> <i class="p-l-sm fa fa-info-circle"
                                            [nz-tooltip]="'deploymentService.controller.tooltip.host' | translate"></i>
                              </div>
                              <div class="col-md-6 col-lg-4 p-l-3"
                                   [ngClass]="{'has-error' : ((host.dirty || host.touched) && host.invalid)}">
                                <input autocomplete="off" type="text" class="form-control" #host="ngModel" required
                                       name="chost{{i}}{{j}}" (blur)="convertJSON()"
                                       placeholder="{{'deploymentService.controller.placeholder.host' | translate}}"
                                       [(ngModel)]="item.target.connection.host">
                                <div *ngIf="host.invalid && (host.dirty || host.touched)" class="text-danger help-block">
                                  <div *ngIf="host.errors.required" translate>
                                    common.message.requiredError
                                  </div>
                                </div>
                              </div>
                            </div>

                            <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                              <div class="col-md-4 col-lg-3 form-control-label">
                                <label translate>deploymentService.controller.label.port

                                </label> <i class="p-l-sm fa fa-info-circle"
                                            [nz-tooltip]="'deploymentService.controller.tooltip.port' | translate"></i>
                              </div>
                              <div class="col-md-6 col-lg-4 p-l-3">
                                <nz-input-number
                                  nzPlaceHolder="{{'deploymentService.controller.placeholder.port' | translate}}"
                                  [nzMin]="1" [nzStep]="1" name="cport{{i}}{{j}}"
                                  [(ngModel)]="item.target.connection.port"></nz-input-number>
                              </div>
                            </div>
                          </div>
                          <h6 class="m-t-12" translate>deploymentService.label.authentication </h6>
                          <div class="p-a b-a">
                            <div class="row">
                              <div class="col-md-4 col-lg-3 form-control-label">
                                <label translate>deploymentService.controller.label.method
                                  <sup class="text-danger text-sm">*</sup>
                                </label> <i class="p-l-sm fa fa-info-circle"
                                            [nz-tooltip]="'deploymentService.controller.tooltip.method' | translate"></i>
                              </div>
                              <div class="col-md-6 col-lg-4 p-l-3"
                                   [ngClass]="{'has-error' : ((method.dirty || method.touched) && method.invalid)}">
                                <input autocomplete="off" type="text" class="form-control" #method="ngModel" required
                                       name="cmethod{{i}}{{j}}" (blur)="convertJSON()"
                                       placeholder="{{'deploymentService.controller.placeholder.method' | translate}}"
                                       [(ngModel)]="item.target.authentication.method">
                                <div *ngIf="method.invalid && (method.dirty || method.touched)"
                                     class="text-danger help-block">
                                  <div *ngIf="method.errors.required" translate>
                                    common.message.requiredError
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="row m-t-sm">
                              <div class="col-md-4 col-lg-3 form-control-label">
                                <label translate>deploymentService.controller.label.user
                                  <sup class="text-danger text-sm">*</sup>
                                </label> <i class="p-l-sm fa fa-info-circle"
                                            [nz-tooltip]="'deploymentService.controller.tooltip.user' | translate"></i>
                              </div>
                              <div class="col-md-6 col-lg-4 p-l-3"
                                   [ngClass]="{'has-error' : ((user.dirty || user.touched) && user.invalid)}">
                                <input autocomplete="off" type="text" class="form-control" #user="ngModel" required
                                       name="cuser{{i}}{{j}}" (blur)="convertJSON()"
                                       placeholder="{{'deploymentService.controller.placeholder.user' | translate}}"
                                       [(ngModel)]="item.target.authentication.user">
                                <div *ngIf="user.invalid && (user.dirty || user.touched)" class="text-danger help-block">
                                  <div *ngIf="user.errors.required" translate>
                                    common.message.requiredError
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                              <div class="col-md-4 col-lg-3 form-control-label">
                                <label translate>deploymentService.controller.label.keyFile

                                </label> <i class="p-l-sm fa fa-info-circle"
                                            [nz-tooltip]="'deploymentService.controller.tooltip.keyFile' | translate"></i>
                              </div>
                              <div class="col-md-6 col-lg-4 p-l-3">
                                <input autocomplete="off" type="text" class="form-control" name="ckeyFile{{i}}{{j}}"
                                       placeholder="{{'deploymentService.controller.placeholder.keyFile' | translate}}"
                                       [(ngModel)]="item.target.authentication.keyFile">
                              </div>
                            </div>
                          </div>
                          <div class="row m-t-sm">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.controller.label.packageLocation
                                <sup class="text-danger text-sm">*</sup>
                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.controller.tooltip.packageLocation' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4"
                                 [ngClass]="{'has-error' : ((packageLocation.dirty || packageLocation.touched) && packageLocation.invalid)}">
                              <input autocomplete="off" type="text" class="form-control" #packageLocation="ngModel"
                                     required name="cpackageLocation{{i}}{{j}}" (blur)="convertJSON()"
                                     placeholder="{{'deploymentService.controller.placeholder.packageLocation' | translate}}"
                                     [(ngModel)]="item.target.packageLocation">
                              <div *ngIf="packageLocation.invalid && (packageLocation.dirty || packageLocation.touched)"
                                   class="text-danger help-block">
                                <div *ngIf="packageLocation.errors.required" translate>
                                  common.message.requiredError
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.controller.label.execPre
                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.controller.tooltip.execPre' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4">
                              <input autocomplete="off" type="text" class="form-control" name="cexecPre{{i}}{{j}}"
                                     placeholder="{{'deploymentService.controller.placeholder.execPre' | translate}}"
                                     [(ngModel)]="item.target.execPre">

                            </div>
                          </div>
                          <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.controller.label.execPost
                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.controller.tooltip.execPost' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4">
                              <input autocomplete="off" type="text" class="form-control" name="cexecPost{{i}}{{j}}"
                                     placeholder="{{'deploymentService.controller.placeholder.execPost' | translate}}"
                                     [(ngModel)]="item.target.execPost">

                            </div>
                          </div>
                          <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                            <div class="col-md-4 col-lg-3">
                              <label translate>deploymentService.controller.label.makeService
                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.controller.tooltip.makeService' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4">
                              <label nz-checkbox [(ngModel)]="item.target.makeService" name="cmakeService{{i}}{{j}}"></label>
                            </div>
                          </div>
                        </div>
                        <h6 class="m-t-12" translate>deploymentService.label.media </h6>
                        <div class="p-a b-a">
                          <div class="row">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.controller.label.release
                                <sup class="text-danger text-sm">*</sup>
                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.controller.tooltip.release' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4 "
                                 [ngClass]="{'has-error' : ((release.dirty || release.touched) && release.invalid)}">
                              <input autocomplete="off" type="text" class="form-control" #release="ngModel" required
                                     name="crelease{{i}}{{j}}" (blur)="convertJSON()"
                                     placeholder="{{'deploymentService.controller.placeholder.release' | translate}}"
                                     [(ngModel)]="item.media.release">
                              <div *ngIf="release.invalid && (release.dirty || release.touched)"
                                   class="text-danger help-block">
                                <div *ngIf="release.errors.required" translate>
                                  common.message.requiredError
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="row m-t-sm">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.controller.label.tarball
                                <sup class="text-danger text-sm">*</sup>
                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.controller.tooltip.tarball' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4"
                                 [ngClass]="{'has-error' : ((tarball.dirty || tarball.touched) && tarball.invalid)}">
                              <input autocomplete="off" type="text" class="form-control" #tarball="ngModel" required
                                     name="ctarball{{i}}{{j}}" (blur)="convertJSON()"
                                     placeholder="{{'deploymentService.controller.placeholder.tarball' | translate}}"
                                     [(ngModel)]="item.media.tarball">
                              <div *ngIf="tarball.invalid && (tarball.dirty || tarball.touched)"
                                   class="text-danger help-block">
                                <div *ngIf="tarball.errors.required" translate>
                                  common.message.requiredError
                                </div>
                              </div>
                            </div>
                          </div>

                        </div>
                        <h6 class="m-t-12" translate>deploymentService.label.installation </h6>
                        <div class="p-a b-a">

                          <div class="row">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.controller.label.home
                                <sup class="text-danger text-sm">*</sup>
                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.controller.tooltip.home' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4 "
                                 [ngClass]="{'has-error' : ((home.dirty || home.touched) && home.invalid)}">
                              <input autocomplete="off" type="text" class="form-control" #home="ngModel" required
                                     name="chome{{i}}{{j}}"
                                     placeholder="{{'deploymentService.controller.placeholder.home' | translate}}"
                                     [(ngModel)]="item.installation.home" (blur)="convertJSON()">
                              <div *ngIf="home.invalid && (home.dirty || home.touched)" class="text-danger help-block">
                                <div *ngIf="home.errors.required" translate>
                                  common.message.requiredError
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="row m-t-sm">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.controller.label.data
                                <sup class="text-danger text-sm">*</sup>
                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.controller.tooltip.data' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4 "
                                 [ngClass]="{'has-error' : ((jocData.dirty || jocData.touched) && jocData.invalid)}">
                              <input autocomplete="off" type="text" class="form-control" #jocData="ngModel" required
                                     name="cdata{{i}}{{j}}"
                                     placeholder="{{'deploymentService.controller.placeholder.data' | translate}}"
                                     [(ngModel)]="item.installation.data" (blur)="convertJSON()">
                              <div *ngIf="jocData.invalid && (jocData.dirty || jocData.touched)" class="text-danger help-block">
                                <div *ngIf="jocData.errors.required" translate>
                                  common.message.requiredError
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.controller.label.homeOwner

                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.controller.tooltip.homeOwner' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4 ">
                              <input autocomplete="off" type="text" class="form-control"
                                     name="chomeOwner{{i}}{{j}}"
                                     placeholder="{{'deploymentService.controller.placeholder.homeOwner' | translate}}"
                                     [(ngModel)]="item.installation.homeOwner">
                            </div>
                          </div>

                          <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.controller.label.dataOwner

                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.controller.tooltip.dataOwner' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4 ">
                              <input autocomplete="off" type="text" class="form-control"
                                     name="cdataOwner{{i}}{{j}}"
                                     placeholder="{{'deploymentService.controller.placeholder.dataOwner' | translate}}"
                                     [(ngModel)]="item.installation.dataOwner">
                            </div>
                          </div>

                          <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.controller.label.runUser

                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.controller.tooltip.runUser' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4 ">
                              <input autocomplete="off" type="text" class="form-control"
                                     name="crunUser{{i}}{{j}}"
                                     placeholder="{{'deploymentService.controller.placeholder.runUser' | translate}}"
                                     [(ngModel)]="item.installation.runUser">
                            </div>
                          </div>

                          <div class="row m-t-sm">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.controller.label.httpPort
                                <sup *ngIf="!item.installation.httpsPort" class="text-danger text-sm">*</sup>
                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.controller.tooltip.httpPort' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4 "
                                 [ngClass]="{'has-error' : ((httpPort.dirty || httpPort.touched) && httpPort.invalid)}">
                              <input autocomplete="off" type="text" class="form-control" #httpPort="ngModel" [required]="!item.installation.httpsPort"
                                     name="chttpPort{{i}}{{j}}" (blur)="convertJSON()"
                                     placeholder="{{'deploymentService.controller.placeholder.httpPort' | translate}}"
                                     [(ngModel)]="item.installation.httpPort">
                              <div *ngIf="httpPort.invalid && (httpPort.dirty || httpPort.touched)"
                                   class="text-danger help-block">
                                <div *ngIf="httpPort.errors.required" translate>
                                  common.message.requiredError
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="row m-t-sm">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.controller.label.httpsPort
                                <sup *ngIf="!item.installation.httpPort" class="text-danger text-sm">*</sup>
                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.controller.tooltip.httpsPort' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4 "
                                 [ngClass]="{'has-error' : ((httpsPort.dirty || httpsPort.touched) && httpsPort.invalid)}">
                              <input autocomplete="off" type="text" class="form-control" #httpsPort="ngModel"
                                     [required]="!item.installation.httpPort" name="chttpsPort{{i}}{{j}}" (blur)="convertJSON()"
                                     placeholder="{{'deploymentService.controller.placeholder.httpsPort' | translate}}"
                                     [(ngModel)]="item.installation.httpsPort">
                              <div *ngIf="httpsPort.invalid && (httpsPort.dirty || httpsPort.touched)"
                                   class="text-danger help-block">
                                <div *ngIf="httpsPort.errors.required" translate>
                                  common.message.requiredError
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                            <div class="col-md-4 col-lg-3">
                              <label translate>deploymentService.controller.label.javaHome
                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.controller.tooltip.javaHome' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4">
                              <input autocomplete="off" type="text" class="form-control"
                                     name="cjavaHome{{i}}{{j}}"
                                     placeholder="{{'deploymentService.controller.placeholder.javaHome' | translate}}"
                                     [(ngModel)]="item.installation.javaHome">
                            </div>
                          </div>
                          <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                            <div class="col-md-4 col-lg-3">
                              <label translate>deploymentService.controller.label.javaOptions

                              </label> <i class="p-l-sm fa fa-info-circle"
                                          [nz-tooltip]="'deploymentService.controller.tooltip.javaOptions' | translate"></i>
                            </div>
                            <div class="col-md-6 col-lg-4">
                              <input autocomplete="off" type="text" class="form-control"
                                     name="cjavaOptions{{i}}{{j}}"
                                     placeholder="{{'deploymentService.controller.placeholder.javaOptions' | translate}}"
                                     [(ngModel)]="item.installation.javaOptions">
                            </div>
                          </div>
                        </div>
                        <ng-container *ngIf="item.isMoreKeyFileDetail">
                          <h6 class="m-t-12" translate>deploymentService.label.configuration </h6>
                          <div class="p-a b-a">
                            <h6 translate>deploymentService.label.certificates </h6>
                            <div class="p-a b-a">
                              <div class="row">
                                <div class="col-md-4 col-lg-3 form-control-label">
                                  <label translate>deploymentService.controller.label.keyStore
                                    <sup class="text-danger text-sm">*</sup>
                                  </label> <i class="p-l-sm fa fa-info-circle"
                                              [nz-tooltip]="'deploymentService.controller.tooltip.keyStore' | translate"></i>
                                </div>
                                <div class="col-md-6 col-lg-4 p-l-3"
                                     [ngClass]="{'has-error' : ((keyStore.dirty || keyStore.touched) && keyStore.invalid)}">
                                  <input autocomplete="off" type="text" #keyStore="ngModel" required
                                         class="form-control" (blur)="convertJSON()"
                                         name="ckeyStore{{i}}{{j}}"
                                         placeholder="{{'deploymentService.controller.placeholder.keyStore' | translate}}"
                                         [(ngModel)]="item.configuration.certificates.keyStore">
                                  <div *ngIf="keyStore.invalid && (keyStore.dirty || keyStore.touched)"
                                       class="text-danger help-block">
                                    <div *ngIf="keyStore.errors.required" translate>
                                      common.message.requiredError
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="row m-t-sm">
                                <div class="col-md-4 col-lg-3 form-control-label">
                                  <label translate>deploymentService.controller.label.keyStorePassword
                                    <sup class="text-danger text-sm">*</sup>
                                  </label> <i class="p-l-sm fa fa-info-circle"
                                              [nz-tooltip]="'deploymentService.controller.tooltip.keyStorePassword' | translate"></i>
                                </div>
                                <div class="col-md-6 col-lg-4 p-l-3"
                                     [ngClass]="{'has-error' : ((keyStorePassword.dirty || keyStorePassword.touched) && keyStorePassword.invalid)}">
                                  <input autocomplete="off" type="text" #keyStorePassword="ngModel" required
                                         class="form-control" (blur)="convertJSON()"
                                         name="ckeyStorePassword{{i}}{{j}}"
                                         placeholder="{{'deploymentService.controller.placeholder.keyStorePassword' | translate}}"
                                         [(ngModel)]="item.configuration.certificates.keyStorePassword">
                                  <div
                                    *ngIf="keyStorePassword.invalid && (keyStorePassword.dirty || keyStorePassword.touched)"
                                    class="text-danger help-block">
                                    <div *ngIf="keyStorePassword.errors.required" translate>
                                      common.message.requiredError
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="row m-t-sm">
                                <div class="col-md-4 col-lg-3 form-control-label">
                                  <label translate>deploymentService.controller.label.keyPassword
                                    <sup class="text-danger text-sm">*</sup>
                                  </label> <i class="p-l-sm fa fa-info-circle"
                                              [nz-tooltip]="'deploymentService.controller.tooltip.keyPassword' | translate"></i>
                                </div>
                                <div class="col-md-6 col-lg-4 p-l-3"
                                     [ngClass]="{'has-error' : ((keyPassword.dirty || keyPassword.touched) && keyPassword.invalid)}">
                                  <input autocomplete="off" type="text" #keyPassword="ngModel" required
                                         class="form-control" (blur)="convertJSON()"
                                         name="ckeyPassword{{i}}{{j}}"
                                         placeholder="{{'deploymentService.controller.placeholder.keyPassword' | translate}}"
                                         [(ngModel)]="item.configuration.certificates.keyPassword">
                                  <div *ngIf="keyPassword.invalid && (keyPassword.dirty || keyPassword.touched)"
                                       class="text-danger help-block">
                                    <div *ngIf="keyPassword.errors.required" translate>
                                      common.message.requiredError
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="row m-t-sm" *ngIf="item.isMoreKeyFileDetail">
                                <div class="col-md-4 col-lg-3 form-control-label">
                                  <label translate>deploymentService.controller.label.keyAlias

                                  </label> <i class="p-l-sm fa fa-info-circle"
                                              [nz-tooltip]="'deploymentService.controller.tooltip.keyAlias' | translate"></i>
                                </div>
                                <div class="col-md-6 col-lg-4 p-l-3">
                                  <input autocomplete="off" type="text" class="form-control"
                                         name="ckeyAlias{{i}}{{j}}"
                                         placeholder="{{'deploymentService.controller.placeholder.keyAlias' | translate}}"
                                         [(ngModel)]="item.configuration.certificates.keyAlias">
                                </div>
                              </div>
                              <div class="row m-t-sm">
                                <div class="col-md-4 col-lg-3 form-control-label">
                                  <label translate>deploymentService.controller.label.trustStore
                                    <sup class="text-danger text-sm">*</sup>
                                  </label> <i class="p-l-sm fa fa-info-circle"
                                              [nz-tooltip]="'deploymentService.controller.tooltip.trustStore' | translate"></i>
                                </div>
                                <div class="col-md-6 col-lg-4 p-l-3"
                                     [ngClass]="{'has-error' : ((trustStore.dirty || trustStore.touched) && trustStore.invalid)}">
                                  <input autocomplete="off" type="text" #trustStore="ngModel" required
                                         class="form-control" (blur)="convertJSON()"
                                         name="ctrustStore{{i}}{{j}}"
                                         placeholder="{{'deploymentService.controller.placeholder.trustStore' | translate}}"
                                         [(ngModel)]="item.configuration.certificates.trustStore">
                                  <div *ngIf="trustStore.invalid && (trustStore.dirty || trustStore.touched)"
                                       class="text-danger help-block">
                                    <div *ngIf="trustStore.errors.required" translate>
                                      common.message.requiredError
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="row m-t-sm">
                                <div class="col-md-4 col-lg-3 form-control-label">
                                  <label translate>deploymentService.controller.label.trustStorePassword
                                    <sup class="text-danger text-sm">*</sup>
                                  </label> <i class="p-l-sm fa fa-info-circle"
                                              [nz-tooltip]="'deploymentService.controller.tooltip.trustStorePassword' | translate"></i>
                                </div>
                                <div class="col-md-6 col-lg-4 p-l-3"
                                     [ngClass]="{'has-error' : ((trustStorePassword.dirty || trustStorePassword.touched) && trustStorePassword.invalid)}">
                                  <input autocomplete="off" type="text" #trustStorePassword="ngModel" required
                                         class="form-control" (blur)="convertJSON()"
                                         name="ctrustStorePassword{{i}}{{j}}"
                                         placeholder="{{'deploymentService.controller.placeholder.trustStorePassword' | translate}}"
                                         [(ngModel)]="item.configuration.certificates.trustStorePassword">
                                  <div
                                    *ngIf="trustStorePassword.invalid && (trustStorePassword.dirty || trustStorePassword.touched)"
                                    class="text-danger help-block">
                                    <div *ngIf="trustStorePassword.errors.required" translate>
                                      common.message.requiredError
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>

                            <div class="row m-t-12" *ngFor="let temp of item.configuration.templates; let k = index">
                              <div class="col-md-4 col-lg-3 form-control-label">
                                <label *ngIf="k == 0" translate>deploymentService.controller.label.templates

                                </label> <i *ngIf="k == 0" class="p-l-sm fa fa-info-circle"
                                            [nz-tooltip]="'deploymentService.controller.tooltip.templates' | translate"></i>
                              </div>
                              <div class="col-md-6 col-lg-4 ">
                                <input autocomplete="off" type="text" class="form-control"
                                       name="ctemplates{{i}}{{j}}{{k}}"
                                       placeholder="{{'deploymentService.controller.placeholder.templates' | translate}}"
                                       [(ngModel)]="temp.name">
                                <i (click)="addTemplates(item.configuration.templates)"
                                   class="fa fa-plus pos-abt t-10 text-hover-primary" style="right: -10px;"></i>
                                <i *ngIf="k != 0" (click)="removeTemplates(item.configuration.templates, k)"
                                   class="fa fa-times pos-abt t-10 text-hover-color cursor" style="right: -28px;"></i>
                              </div>
                            </div>
                          </div>
                        </ng-container>

                        <div class="m-t-sm" style="margin-bottom: -8px;">
                          <a *ngIf="item.isMoreKeyFileDetail" class="text-primary text-hover-primary"
                             (click)="item.isMoreKeyFileDetail = false"
                             translate>deploymentService.button.hideMoreOption</a>
                          <a *ngIf="!item.isMoreKeyFileDetail" class="text-primary text-hover-primary"
                             (click)="item.isMoreKeyFileDetail = true"
                             translate>deploymentService.button.showMoreOption</a>
                        </div>
                      </div>
                    </div>

                    <div class="m-t-12" *ngIf="controller.cluster.length == 1">
                      <a class="text-primary text-hover-primary" (click)="addSecondaryController(controller.cluster)"
                         translate>deploymentService.controller.button.addSecondaryController</a>
                    </div>
                  </div>
                </div>
                <div class="m-t-12">
                  <a class="text-primary text-hover-primary" (click)="addController()"
                     translate>deploymentService.controller.button.addAnotherController</a>
                </div>
              </div>
              <hr>
            </div>
          </form>
        </div>

      </div>
    </div>
  </div>
</div>
