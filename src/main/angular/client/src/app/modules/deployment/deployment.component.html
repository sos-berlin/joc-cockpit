<div class="white box-shadow sub-header">
  <div class="row">
    <div class="col-md-12">
      <div class="padding">
        <div class="text-right ">
          <div class="pull-left">
            <app-breadcrumbs></app-breadcrumbs>
          </div>
          @if (tree.length > 0 && tree[0]?.children?.length == 0) {
            <div class="show-inline">
              <button (click)="createObject(tree[0]);" class="btn btn-sm btn-grey" type="button">
                <i class="fa fa-plus"></i>
                {{'deploymentService.button.newDescriptor' | translate}}
              </button>
            </div>
          }
          @if (deploymentData?.data && !isTrash) {
            <div class="show-inline">
              @if (object.setOfCheckedId.size==0) {
                <div class="inline">
                  <ng-template #titleTemplate>
                    @for (err of errorMessages; track err) {
                      <div>
                        {{err}}
                      </div>
                    }
                  </ng-template>
                  <span [ngClass]="!isValid ? 'badge-danger':'badge-success'"
                        class="badge badge-success m-r-12 pos-rel t-1">
                    @if (isValid) {
                      <span translate>inventory.label.valid</span>
                    }
                    @if (!isValid) {
                      <span>
                        <span translate>inventory.label.notValid</span>
                        <i [nzTooltipTitle]="titleTemplate" class="fa fa-info-circle p-l-xs" nz-tooltip></i>
                      </span>
                    }
                  </span>
                </div>
              }
              @if (object.setOfCheckedId.size==0) {
                <button (click)="validate();" class="btn btn-sm btn-grey" type="button">
                  <i class="fa fa-check"></i>
                  {{'deploymentService.button.validate' | translate}}
                </button>
              }
              @if (object.setOfCheckedId.size==0 && permission.joc?.inventory.manage) {
                <button (click)="editJSON();" class="btn btn-sm btn-grey m-l-12" type="button">
                  <i class="fa fa-edit"></i>
                  {{'deploymentService.button.editJSON' | translate}}
                </button>
              }
              @if ((data.joc?.length > 0 || data.agents?.controllerRefs?.length > 0 || data.controllers?.length > 0) && permission.joc?.inventory.manage) {
                <button (click)="bulkUpdate();" class="btn btn-sm btn-grey m-l-12" type="button">
                  <i class="fa fa-pencil"></i>
                  {{'deploymentService.button.bulkUpdate' | translate}}
                </button>
              }
              @if ((!data.license && object.setOfCheckedId.size==0) && permission.joc?.inventory.manage) {
                <button (click)="addLicense();" class="btn btn-sm btn-grey m-l-12" type="button">
                  <i class="fa fa-plus"></i>
                  {{'deploymentService.license.button.addLicense' | translate}}
                </button>
              }
              @if (!data.certificates && object.setOfCheckedId.size==0) {
                <button (click)="addCertificates();" class="btn btn-sm btn-grey m-l-12" type="button">
                  <i class="fa fa-plus"></i>
                  {{'deploymentService.certificate.button.addCertificates' | translate}}
                </button>
              }
              @if (((!data.agents || !data.agents.controllerRefs || data.agents.controllerRefs?.length == 0) && object.setOfCheckedId.size==0) && permission.joc?.inventory.manage) {
                <button (click)="addAgent();" class="btn btn-sm btn-grey m-l-12" type="button">
                  <i class="fa fa-plus"></i>
                  {{'deploymentService.agent.button.addAgent' | translate}}
                </button>
              }
              @if (((!data.controllers || data.controllers.length == 0) && object.setOfCheckedId.size==0) && permission.joc?.inventory.manage) {
                <button (click)="addController();" class="btn btn-sm btn-grey m-l-12" type="button">
                  <i class="fa fa-plus"></i>
                  {{'deploymentService.controller.button.addController' | translate}}
                </button>
              }
              @if (((!data.joc || data.joc.length == 0) && object.setOfCheckedId.size==0) && permission.joc?.inventory.manage) {
                <button (click)="addJOC();" class="btn btn-sm btn-grey m-l-12" type="button">
                  <i class="fa fa-plus"></i>
                  {{'deploymentService.joc.button.addJOC' | translate}}
                </button>
              }
            </div>
          }
        </div>
      </div>
    </div>
  </div>
</div>

<div class="scroll-y max-ht">
  <div class="padding p-b-0">
    <div [hidden]="isLoading" class="inline w-full">
      <div class="row m-t-sm">
        <div class="col-md-12">
          <div [ngClass]="{'bg-white' : isTrash}" [ngStyle]="{'width': sideView.deployment ? sideView.deployment.width +'px' : 'auto'}" [sideView]="sideView.deployment" appResizable
               class="sticky leftPanel deployment"
               id="leftPanel">
            <div class="pl-20 editor-tree">
              <a class="text resize-cursor a-1 pos-abt r-28 z-index-99">
                <i (click)="hidePanel()" class="fa fa-angle-double-left fa-lg"></i>
              </a>
              <a class="text resize-cursor a-3 pos-abt r-18 z-index-99">
                <i (click)="showPanel()" class="fa fa-angle-double-right fa-lg"></i>
              </a>
              @if (!isTrash) {
                <a (click)="switchToTrash()" class="trash notify">
                  <i [nzType]="'delete'" nz-icon nzTheme="outline"></i>
                </a>
              }
              @if (isTrash) {
                <a (click)="switchToTrash()" class="rollback">
                  <i [nzType]="'rollback'" nz-icon nzTheme="outline"></i>
                </a>
              }
              <perfect-scrollbar class="tree-block">
                <div [ngClass]="{'m-t': isTrash}" class="fade-in">
                  <nz-tree
                    #treeCtrl
                    [nzData]="isTrash ? trashTree : tree"
                    [nzShowExpand]="false"
                    [nzTreeTemplate]="nzTreeTemplate"
                    nzNoAnimation
                  ></nz-tree>
                  <ng-template #nzTreeTemplate let-node>
                    <div [ngClass]="{'disable-link': node.origin.deleted && !isTrash}" class="node-wrapper">
                      @if (node.origin.loading || (node.origin.children && node.origin.children.length > 0 && !node.origin.children[node.origin.children.length-1].objectType)) {
                        <span (click)="openFolder(node)"
                              [class.toggle-children-wrapper-collapsed]="!node.isExpanded"
                              [class.toggle-children-wrapper-expanded]="node.isExpanded"
                              [ngClass]="{'m-l-0': node.origin.path === '/'}"
                              class="cursor w-14 m-l-xxs m-t-n-1">
                   @if (!node.isExpanded && !node.origin.loading) {
                     <i nz-icon nzTheme="outline" nzType="caret-right"></i>
                   }
                          @if (node.isExpanded && !node.origin.loading) {
                            <i nz-icon nzTheme="outline" nzType="caret-down"></i>
                          }
                          @if (node.origin.loading) {
                            <i><nz-spin [nzSize]="'small'" nzSimple></nz-spin></i>
                          }
                 </span>
                      }

                      @if (!node.origin.loading && (!node.origin.children || node.children.length === 0 || (node.origin.children.length > 0 && node.origin.children[node.origin.children.length-1].objectType))) {
                        <span>
                <span class="p-r"></span>
              </span>
                      }
                      <button (click)="openMenu(node, $event)" [disabled]="!permission.joc?.inventory.manage"
                              class="btn-drop more-option-h" type="button">
                        <i class="fa fa-ellipsis-h"></i>
                      </button>
                      <div (click)="selectNode(node)" [ngClass]="{'cut-row' : (copyObj && copyObj.operation === 'CUT' && copyObj.name === node.origin.name
               && copyObj.path === node.origin.path), 'node-content-wrapper-active' : (node.origin.name === selectedObj.name) &&
                  (node.origin.path === selectedObj.path)}"
                           class="node-content-wrapper">
                        @if (!node.origin.objectType) {
                          <i [nzType]="node.isExpanded ? 'folder-open' : 'folder'" class="w-14" nz-icon></i>
                        }
                        @if (node.origin.objectType) {
                          <span [ngClass]="{'fa-circle-o': !node.origin.valid, 'fa-circle dark-blue' : node.origin.released}"
                                class="fa fa-check-circle-o orange text-xs w-11 m-t-xs"></span>
                        }
                        <span class="p-l-xs">
                  <span>{{node.origin.name}}</span>
                </span>
                      </div>
                    </div>
                  </ng-template>
                </div>
                @if (isTrash && isTreeLoaded && tree.length === 0) {
                  <div class="m-t-lg">
                    <app-empty-data></app-empty-data>
                  </div>
                }
              </perfect-scrollbar>
              <div [ngClass]="{'bg-white' : isTrash}" class="rg-right"><span></span></div>
            </div>
          </div>
          <div [ngStyle]="{'margin-left': sideView.deployment ? (sideView.deployment.width) + 'px' : 'auto'}"
               id="rightPanel">
            @if(deploymentData?.data){
              <div class="box p-a">
                <div class="b-b p-b m-b">
  <span class="text-left">
    <span class="_600">{{deploymentData.path}}</span>
    @if (lastModified) {
      <span class="text-dark text-sm _400"> -
        <b translate>inventory.label.lastModified</b>
        <i class="text-muted p-l-xs">{{lastModified | stringToDate}}</i>
      </span>
    }
  </span>
                  @if (!isTrash) {
                    <div class="inline pull-right">
                      @if (object.setOfCheckedId.size==0) {
                        <div class="">
                          <ul class="nav navbar-nav navbar-nav-inline nav-active-border3 " style="margin-top:-10px">
                            <li class="nav-item">
                              <a (click)="expandAll()" [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'common.button.expandDetails' | translate"
                                 class="nav-link">
                                <span class="nav-text"> <i nz-icon nzTheme="outline" nzType="plus"></i></span>
                              </a>
                            </li>
                            <li class="nav-item">
                              <a (click)="collapseAll()" [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'common.button.collapseDetails' | translate"
                                 class="nav-link">
                                <span class="nav-text"> <i nz-icon nzTheme="outline" nzType="minus"></i></span>
                              </a>
                            </li>
                            <li class="nav-item dropdown-separator">
                              <span class="separator"></span>
                            </li>
                            <li [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'workflow.button.undo' | translate" class="nav-item">
                              <a (click)="undo()" [ngClass]="{'disable-link': indexOfNextAdd == 0}" class="nav-link">
                                <span class="nav-text"> <i nz-icon nzTheme="outline" nzType="undo"></i></span>
                              </a>
                            </li>
                            <li [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'workflow.button.redo' | translate" class="nav-item">
                              <a (click)="redo()" [ngClass]="(indexOfNextAdd < history.length) ? '' : 'disable-link'"
                                 class="nav-link">
                                <span class="nav-text"> <i nz-icon nzTheme="outline" nzType="redo"></i></span>
                              </a>
                            </li>
                            @if (permission.joc?.inventory.manage) {
                              <li class="nav-item dropdown-separator">
                                <span class="separator"></span>
                              </li>
                            }
                            @if (permission.joc?.inventory.manage) {
                              <li [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'inventory.button.download' | translate"
                                  class="nav-item">
                                <a (click)="download()" class="nav-link">
                                  <span class="nav-text"> <i nz-icon nzTheme="outline" nzType="download"></i></span>
                                </a>
                              </li>
                            }
                            @if (permission.joc?.inventory.manage) {
                              <li [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'inventory.button.upload' | translate"
                                  class="nav-item">
                                <a (click)="upload()" class="nav-link">
                                  <span class="nav-text"> <i nz-icon nzTheme="outline" nzType="upload"></i></span>
                                </a>
                              </li>
                            }
                          </ul>
                        </div>
                      }
                    </div>
                  }
                </div>
                <form>

                  <div class="p-l-sm">
                    <h5 class="p-l-sm" translate>deploymentService.label.descriptor
                      <i (click)="obj.isDescriptorExpanded = !obj.isDescriptorExpanded"
                         [ngClass]="{'fa-caret-up': obj.isDescriptorExpanded}"
                         class="fa fa-caret-down p-l-xs text-hover-primary"></i>
                    </h5>
                    <div [ngClass]="{'fade-in show': obj.isDescriptorExpanded}" class="m-l-md hide">
                      <div class="row m-t-sm">
                        <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                          <label translate>deploymentService.descriptor.label.descriptorId
                            <sup class="text-danger text-sm">*</sup>
                          </label>
                          <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.descriptor.tooltip.descriptorId' | translate"
                             class="p-l-sm fa fa-info-circle"></i>
                        </div>
                        <div [ngClass]="{'has-error' : ((descriptorId.dirty || descriptorId.touched) && descriptorId.invalid)}"
                             class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-46">
                          <input #descriptorId="ngModel" (blur)="convertJSON()" [(ngModel)]="data.descriptor.descriptorId" [appAutofocus]="true"
                                 [readOnly]="isTrash" autocomplete="off"
                                 class="form-control" id="descriptorId" identifierValidation maxlength="100" name="descriptorId"
                                 placeholder="{{'deploymentService.descriptor.placeholder.descriptorId' | translate}}"
                                 required type="text">
                          @if (descriptorId.invalid && (descriptorId.dirty || descriptorId.touched)) {
                            <div class="text-danger help-block">
                              @if (descriptorId.errors.required) {
                                <div translate>
                                  common.message.requiredError
                                </div>
                              }
                              @if (descriptorId.errors.invalidIdentifier) {
                                <div translate>common.message.invalid</div>
                              }
                            </div>
                          }
                        </div>
                      </div>
                      @if (obj.isMoreDescriptorDetail) {
                        <div class="row m-t-sm">
                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                            <label translate>deploymentService.descriptor.label.title</label> <i
                            [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.descriptor.tooltip.title' | translate"
                            class="p-l-sm fa fa-info-circle"></i>
                          </div>
                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-46">
                            <input (blur)="convertJSON()" [(ngModel)]="data.descriptor.title" [readOnly]="isTrash" class="form-control" maxlength="100"
                                   name="title"
                                   placeholder="{{'deploymentService.descriptor.placeholder.title' | translate}}"
                                   type="text">
                          </div>
                        </div>
                      }
                      @if (obj.isMoreDescriptorDetail) {
                        <div class="row m-t-sm">
                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                            <label translate>deploymentService.descriptor.label.account</label> <i
                            [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.descriptor.tooltip.account' | translate"
                            class="p-l-sm fa fa-info-circle"></i>
                          </div>
                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-46">
                            <input (blur)="convertJSON()" [(ngModel)]="data.descriptor.account" [readOnly]="isTrash" class="form-control" maxlength="30"
                                   name="account"
                                   placeholder="{{'deploymentService.descriptor.placeholder.account' | translate}}"
                                   type="text">
                          </div>
                        </div>
                      }
                      @if (obj.isMoreDescriptorDetail) {
                        <div class="row m-t-sm">
                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                            <label translate>deploymentService.descriptor.label.scheduled</label> <i
                            [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.descriptor.tooltip.scheduled' | translate"
                            class="p-l-sm fa fa-info-circle"></i>
                          </div>
                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-46">
                            <nz-date-picker [(ngModel)]="data.descriptor.scheduled" name="scheduled" (ngModelChange)="convertJSON()"
                                            nzShowTime></nz-date-picker>
                          </div>
                        </div>
                      }
                      @if (obj.isMoreDescriptorDetail) {
                        <div class="row m-t-sm">
                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                            <label translate>deploymentService.descriptor.label.created</label> <i
                            [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.descriptor.tooltip.created' | translate"
                            class="p-l-sm fa fa-info-circle"></i>
                          </div>
                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-46">
                            <nz-date-picker [(ngModel)]="data.descriptor.created" (ngModelChange)="convertJSON()" name="created"
                                            nzShowTime></nz-date-picker>
                          </div>
                        </div>
                      }
                      <div class="m-t-sm">
                        @if (obj.isMoreDescriptorDetail) {
                          <a (click)="obj.isMoreDescriptorDetail = false" class="text-primary text-hover-primary"
                             translate>deploymentService.button.hideMoreOption</a>
                        }
                        @if (!obj.isMoreDescriptorDetail) {
                          <a (click)="obj.isMoreDescriptorDetail = true" class="text-primary text-hover-primary"
                             translate>deploymentService.button.showMoreOption</a>
                        }
                      </div>
                    </div>
                    <hr>
                  </div>
                  @if (data.license) {
                    <div class="p-l-sm ">
                      <h5 class="p-l-sm hover-icon" translate>deploymentService.label.license
                        <i (click)="obj.isLicenseExpanded = !obj.isLicenseExpanded"
                           [ngClass]="{'fa-caret-up': obj.isLicenseExpanded}"
                           class="fa fa-caret-down p-l-xs text-hover-primary"></i>
                        <i (click)="data.license = undefined"
                           class="fa fa-trash fa-icon pull-right text-hover-color p-r-sm text-16 cursor"></i>
                      </h5>
                      <div [ngClass]="{'fade-in show': obj.isLicenseExpanded}" class="m-l-md hide">
                        <div class="row m-t-sm">
                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                            <label translate>deploymentService.license.label.licenseKeyFile
                              <sup class="text-danger text-sm">*</sup>
                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.license.tooltip.licenseKeyFile' | translate"
                                        class="p-l-sm fa fa-info-circle"></i>
                          </div>
                          <div [ngClass]="{'has-error' : ((licenseKeyFile.dirty || licenseKeyFile.touched) && licenseKeyFile.invalid)}"
                               class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-46">
                            <input #licenseKeyFile="ngModel" (blur)="convertJSON()" [(ngModel)]="data.license.licenseKeyFile" [readOnly]="isTrash"
                                   autocomplete="off"
                                   class="form-control" id="licenseKeyFile" name="licenseKeyFile" placeholder="{{'deploymentService.license.placeholder.licenseKeyFile' | translate}}"
                                   required
                                   type="text">
                            @if (licenseKeyFile.invalid && (licenseKeyFile.dirty || licenseKeyFile.touched)) {
                              <div class="text-danger help-block">
                                @if (licenseKeyFile.errors.required) {
                                  <div translate>
                                    common.message.requiredError
                                  </div>
                                }
                              </div>
                            }
                          </div>
                        </div>
                        <div class="row m-t-sm">
                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                            <label translate>deploymentService.license.label.licenseBinFile
                              <sup class="text-danger text-sm">*</sup>
                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.license.tooltip.licenseBinFile' | translate"
                                        class="p-l-sm fa fa-info-circle"></i>
                          </div>
                          <div [ngClass]="{'has-error' : ((licenseBinFile.dirty || licenseBinFile.touched) && licenseBinFile.invalid)}"
                               class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-46">
                            <input #licenseBinFile="ngModel" (blur)="convertJSON()" [(ngModel)]="data.license.licenseBinFile" [readOnly]="isTrash"
                                   autocomplete="off"
                                   class="form-control" id="licenseBinFile" name="licenseBinFile" placeholder="{{'deploymentService.license.placeholder.licenseBinFile' | translate}}"
                                   required
                                   type="text">
                            @if (licenseBinFile.invalid && (licenseBinFile.dirty || licenseBinFile.touched)) {
                              <div class="text-danger help-block">
                                @if (licenseBinFile.errors.required) {
                                  <div translate>
                                    common.message.requiredError
                                  </div>
                                }
                              </div>
                            }
                          </div>
                        </div>
                      </div>
                      <hr>
                    </div>
                  }
                  @if (data.certificates) {
                    <div class="p-l-sm hover-trash-icon">
                      <h5 class="p-l-sm hover-icon" translate>deploymentService.label.certificates
                        <i (click)="obj.isCertificateExpanded = !obj.isCertificateExpanded"
                           [ngClass]="{'fa-caret-up': obj.isCertificateExpanded}"
                           class="fa fa-caret-down p-l-xs text-hover-primary"></i>
                        <a (click)="toggleNode('certificates');" [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'common.tooltip.expandAll' | translate"
                           class="m-l-sm fa-icon">
                          <i class="fa fa-angle-double-down"></i>
                        </a>
                        <a (click)="toggleNode('certificates', false);" [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'common.tooltip.collapseAll' | translate"
                           class="m-l-xs fa-icon">
                          <i class="fa fa-angle-double-up"></i>
                        </a>
                        <i (click)="data.certificates = undefined;convertJSON()"
                           class="fa fa-trash fa-icon pull-right text-hover-color p-r-sm text-16 cursor"></i>
                      </h5>

                      <div [ngClass]="{'fade-in show': obj.isCertificateExpanded}" class="m-l-md hide">

                        <h6 class="m-t-12" translate>deploymentService.label.controller
                          <i (click)="data.certificates.isControllerExpanded = !data.certificates.isControllerExpanded"
                             [ngClass]="{'fa-caret-up': data.certificates.isControllerExpanded}"
                             class="fa fa-caret-down p-l-xs text-hover-primary"></i>
                        </h6>
                        <div [ngClass]="{'fade-in show': data.certificates.isControllerExpanded}" class="p-a b-a hide">
                          <div class="row ">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.certificate.label.primaryControllerCert
                              </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.certificate.tooltip.primaryControllerCert' | translate"
                                          class="p-l-sm fa fa-info-circle"></i>
                            </div>
                            <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-36">
                              <input #primaryControllerCert="ngModel" (blur)="convertJSON()" [(ngModel)]="data.certificates.controller.primaryControllerCert" [readOnly]="isTrash"
                                     autocomplete="off" class="form-control"
                                     id="primaryControllerCert" name="primaryControllerCert"
                                     placeholder="{{'deploymentService.certificate.placeholder.primaryControllerCert' | translate}}"
                                     type="text">
                            </div>
                          </div>

                          <div class="row m-t-sm">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.certificate.label.secondaryControllerCert
                              </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.certificate.tooltip.secondaryControllerCert' | translate"
                                          class="p-l-sm fa fa-info-circle"></i>
                            </div>
                            <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-36">
                              <input #secondaryControllerCert="ngModel" (blur)="convertJSON()" [(ngModel)]="data.certificates.controller.secondaryControllerCert" [readOnly]="isTrash"
                                     autocomplete="off"
                                     class="form-control" id="secondaryControllerCert" name="secondaryControllerCert"
                                     placeholder="{{'deploymentService.certificate.placeholder.secondaryControllerCert' | translate}}"
                                     required
                                     type="text">
                            </div>
                          </div>
                        </div>
                        <h6 class="m-t-12" translate>deploymentService.label.joc
                          <i (click)="data.certificates.isJocExpanded = !data.certificates.isJocExpanded"
                             [ngClass]="{'fa-caret-up': data.certificates.isJocExpanded}"
                             class="fa fa-caret-down p-l-xs text-hover-primary"></i>
                        </h6>
                        <div [ngClass]="{'fade-in show': data.certificates.isJocExpanded}" class="p-a b-a hide">
                          <div class="row">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.certificate.label.primaryJocCert
                              </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.certificate.tooltip.primaryJocCert' | translate"
                                          class="p-l-sm fa fa-info-circle"></i>
                            </div>
                            <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-36">
                              <input #primaryJocCert="ngModel" (blur)="convertJSON()" [(ngModel)]="data.certificates.joc.primaryJocCert" [readOnly]="isTrash"
                                     autocomplete="off" class="form-control"
                                     id="primaryJocCert" name="primaryJocCert"
                                     placeholder="{{'deploymentService.certificate.placeholder.primaryJocCert' | translate}}"
                                     type="text">
                            </div>
                          </div>
                          <div class="row m-t-sm">
                            <div class="col-md-4 col-lg-3 form-control-label">
                              <label translate>deploymentService.certificate.label.secondaryJocCert
                              </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.certificate.tooltip.secondaryJocCert' | translate"
                                          class="p-l-sm fa fa-info-circle"></i>
                            </div>
                            <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-36">
                              <input #secondaryJocCert="ngModel" (blur)="convertJSON()" [(ngModel)]="data.certificates.joc.secondaryJocCert" [readOnly]="isTrash"
                                     autocomplete="off" class="form-control"
                                     id="secondaryJocCert" name="secondaryJocCert"
                                     placeholder="{{'deploymentService.certificate.placeholder.secondaryJocCert' | translate}}"
                                     type="text">
                            </div>
                          </div>
                        </div>
                      </div>
                      <hr>
                    </div>
                  }

                  @if (data.agents?.controllerRefs?.length > 0) {
                    <div class="p-l-sm ">
                      <h5 class="p-l-sm hover-icon" translate>deploymentService.label.agents
                        <i (click)="obj.isAgentExpanded = !obj.isAgentExpanded"
                           [ngClass]="{'fa-caret-up': obj.isAgentExpanded}"
                           class="fa fa-caret-down p-l-xs text-hover-primary"></i>
                        <a (click)="toggleNode('agents');" [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'common.tooltip.expandAll' | translate"
                           class="m-l-sm fa-icon">
                          <i class="fa fa-angle-double-down"></i>
                        </a>
                        <a (click)="toggleNode('agents', false);" [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'common.tooltip.collapseAll' | translate"
                           class="m-l-xs fa-icon">
                          <i class="fa fa-angle-double-up"></i>
                        </a>
                        <i (click)="removeAgent()"
                           class="fa fa-trash fa-icon pull-right text-hover-color p-r-sm text-16 cursor"></i>
                      </h5>
                      <div [ngClass]="{'fade-in show': obj.isAgentExpanded}" class="m-l-md hide">
                        @for (agent of data.agents.controllerRefs; track agent.controllerId) {
                          <div [ngClass]="{'b-t m-t': $index != 0}">
                            <h6 class="m-t-12 hover-icon">
                              @if (agent.controllerId) {
                                <label [nzChecked]="object.setOfCheckedId.has(agent.controllerId + '__AGENT')"
                                       class="m-r-sm" nz-checkbox (nzCheckedChange)="onItemChecked(agent.controllerId, $event, '__AGENT')"></label>
                              }
                              {{agent.controllerId || 'Controller_ID_' + ($index + 1)}}
                              <i (click)="agent.isAgentExpanded = !agent.isAgentExpanded"
                                 [ngClass]="{'fa-caret-up': agent.isAgentExpanded}"
                                 class="fa fa-caret-down p-l-xs text-hover-primary"></i>
                              <i (click)="removeAgent($index)"
                                 class="fa fa-trash fa-icon pull-right text-hover-color p-r-sm font14 cursor"
                                 nz-tooltip="{{'deploymentService.agent.button.removeAgent' | translate}}"></i>
                            </h6>
                            <div [ngClass]="{'fade-in show': agent.isAgentExpanded}" class="p-a b-a hide">
                              <div class="row">
                                <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                  <label translate>deploymentService.agent.label.controllerId
                                    <sup class="text-danger text-sm">*</sup>
                                  </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.controllerId' | translate"
                                              class="p-l-sm fa fa-info-circle"></i>
                                </div>
                                <div [ngClass]="{'has-error' : ((controllerId.dirty || controllerId.touched) && controllerId.invalid)}"
                                     class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-36 p-r-xs">
                                  <input #controllerId="ngModel" (blur)="convertJSON()"
                                         [(ngModel)]="agent.controllerId"
                                         [nzAutocomplete]="auto" [readOnly]="isTrash" class="form-control"
                                         id="acontrollerId{{$index}}" name="acontrollerId{{$index}}" placeholder="{{'deploymentService.agent.placeholder.controllerId' | translate}}"
                                         required type="text"/>
                                  <nz-autocomplete #auto [compareWith]="compareFun">
                                    @for (option of data.controllers; track option.controllerId) {
                                      <nz-auto-option [nzLabel]="option.controllerId" [nzValue]="option">
                                        {{ option.controllerId }}
                                      </nz-auto-option>
                                    }
                                  </nz-autocomplete>
                                  @if (controllerId.invalid && (controllerId.dirty || controllerId.touched)) {
                                    <div class="text-danger help-block">
                                      @if (controllerId.errors.required) {
                                        <div translate>
                                          common.message.requiredError
                                        </div>
                                      }
                                    </div>
                                  }
                                </div>
                              </div>
                              @for (item of agent.members; track item.agentId) {
                                <div [ngClass]="{'b-t m-t': $index != 0}">
                                  <h6 class="m-t-12 hover-icon">
                                    @if (item.agentId) {
                                      <label [nzChecked]="object.setOfCheckedId.has(item.agentId + '__AGENT')"
                                             class="m-r-sm" (nzCheckedChange)="onItemChecked(item.agentId, $event, '__AGENT')"
                                             nz-checkbox></label>
                                    }
                                    <span>{{item.agentId || 'Agent_ID_' + ($index + 1)}}</span>
                                    <i (click)="item.isAgentPropertiesExpanded = !item.isAgentPropertiesExpanded"
                                       [ngClass]="{'fa-caret-up': item.isAgentPropertiesExpanded}"
                                       class="fa fa-caret-down p-l-xs text-hover-primary"></i>
                                    <i (click)="removeSecondaryObj(agent.members, $index)"
                                       class="fa fa-trash fa-icon pull-right text-hover-color p-r-sm font14 cursor"
                                       nz-tooltip="{{'deploymentService.agent.button.removeSecondaryAgent' | translate}}"></i>
                                    <i (click)="paste('agents', 'instance', $parent.$index, $index)"
                                       [ngClass]="{'disable-link' : !copiedObject || (copiedObject && copiedObject.objectType !== 'instance' )}"
                                       class="fa fa-paste fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                       nz-tooltip="{{'deploymentService.button.paste' | translate}}"></i>
                                    <i (click)="copy('agents', 'instance', $parent.$index, $index)"
                                       class="fa fa-copy fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                       nz-tooltip="{{'deploymentService.button.copy' | translate}}"></i>
                                  </h6>
                                  <div [ngClass]="{'fade-in show': item.isAgentPropertiesExpanded}" class="p-a b-a hide">
                                    <div class="row">
                                      <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                        <label translate>deploymentService.agent.label.agentId
                                          <sup class="text-danger text-sm">*</sup>
                                        </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.agentId' | translate"
                                                    class="p-l-sm fa fa-info-circle"></i>
                                      </div>
                                      <div [ngClass]="{'has-error' : ((agentId.dirty || agentId.touched) && agentId.invalid)}"
                                           class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-28">
                                        <input #agentId="ngModel" (blur)="convertJSON()" [(ngModel)]="item.agentId" [readOnly]="isTrash"
                                               autocomplete="off" class="form-control"
                                               id="agentId{{$parent.$index}}{{$index}}" name="agentId{{$parent.$index}}{{$index}}" placeholder="{{'deploymentService.agent.placeholder.agentId' | translate}}"
                                               required
                                               type="text">
                                        @if (agentId.invalid && (agentId.dirty || agentId.touched)) {
                                          <div class="text-danger help-block">
                                            @if (agentId.errors.required) {
                                              <div translate>
                                                common.message.requiredError
                                              </div>
                                            }
                                          </div>
                                        }
                                      </div>
                                    </div>
                                    <h6 class="m-t-sm hover-icon" translate>deploymentService.label.target
                                      <i (click)="paste('agents', 'target', $parent.$index, $index)"
                                         [ngClass]="{'disable-link' : !copiedObject || (copiedObject && copiedObject.objectType !== 'target' )}"
                                         class="fa fa-paste fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                         nz-tooltip="{{'deploymentService.button.paste' | translate}}"></i>
                                      <i (click)="copy('agents', 'target', $parent.$index, $index)"
                                         class="fa fa-copy fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                         nz-tooltip="{{'deploymentService.button.copy' | translate}}"></i>
                                    </h6>
                                    <div class="p-a b-a">
                                      <h6 translate>deploymentService.label.connection </h6>
                                      <div class="p-a b-a">
                                        <div class="row">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.agent.label.host
                                              <sup class="text-danger text-sm">*</sup>
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.host' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div [ngClass]="{'has-error' : ((host.dirty || host.touched) && host.invalid)}"
                                               class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                            <input #host="ngModel" (blur)="convertJSON()" [(ngModel)]="item.target.connection.host" [readOnly]="isTrash"
                                                   autocomplete="off" class="form-control"
                                                   id="ahost{{$parent.$index}}{{$index}}" name="ahost{{$parent.$index}}{{$index}}" placeholder="{{'deploymentService.agent.placeholder.host' | translate}}"
                                                   required
                                                   type="text">
                                            @if (host.invalid && (host.dirty || host.touched)) {
                                              <div class="text-danger help-block">
                                                @if (host.errors.required) {
                                                  <div translate>
                                                    common.message.requiredError
                                                  </div>
                                                }
                                              </div>
                                            }
                                          </div>
                                        </div>
                                        @if (item.isMoreKeyFileDetail) {
                                          <div class="row m-t-sm">
                                            <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                              <label translate>deploymentService.agent.label.port
                                              </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.port' | translate"
                                                          class="p-l-sm fa fa-info-circle"></i>
                                            </div>
                                            <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                              <nz-input-number (nzBlur)="convertJSON()"
                                                               [(ngModel)]="item.target.connection.port"
                                                               [nzMin]="1" [nzReadOnly]="isTrash" [nzStep]="1"
                                                               name="aport{{$parent.$index}}{{$index}}"
                                                               nzPlaceHolder="{{'deploymentService.agent.placeholder.port' | translate}}"></nz-input-number>
                                            </div>
                                          </div>
                                        }
                                      </div>
                                      <h6 class="m-t-12" translate>deploymentService.label.authentication </h6>
                                      <div class="p-a b-a">
                                        <div class="row">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.agent.label.method
                                              <sup class="text-danger text-sm">*</sup>
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.method' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                            <app-select-input (modelChange)="convertJSON()" [attributeName]="'method'" [isSelectDisabled]="isTrash"
                                                              [id]="'amethod' + $parent.$index + $index" [isRequired]="true"
                                                              [listArray]="methods" [name]="'amethod' + $parent.$index + $index"
                                                              [placeholder]="'deploymentService.agent.placeholder.method'"
                                                              [object]="item.target.authentication"></app-select-input>
                                          </div>
                                        </div>
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.agent.label.user
                                              <sup class="text-danger text-sm">*</sup>
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.user' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div [ngClass]="{'has-error' : ((user.dirty || user.touched) && user.invalid)}"
                                               class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                            <input #user="ngModel" (blur)="convertJSON()" [(ngModel)]="item.target.authentication.user" [readOnly]="isTrash"
                                                   autocomplete="off" class="form-control"
                                                   id="auser{{$parent.$index}}{{$index}}" name="auser{{$parent.$index}}{{$index}}" placeholder="{{'deploymentService.agent.placeholder.user' | translate}}"
                                                   required
                                                   type="text">
                                            @if (user.invalid && (user.dirty || user.touched)) {
                                              <div class="text-danger help-block">
                                                @if (user.errors.required) {
                                                  <div translate>
                                                    common.message.requiredError
                                                  </div>
                                                }
                                              </div>
                                            }
                                          </div>
                                        </div>
                                        @if (item.isMoreKeyFileDetail) {
                                          <div class="row m-t-sm">
                                            <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                              <label translate>deploymentService.agent.label.keyFile
                                              </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.keyFile' | translate"
                                                          class="p-l-sm fa fa-info-circle"></i>
                                            </div>
                                            <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                              <input (blur)="convertJSON()" [(ngModel)]="item.target.authentication.keyFile" [readOnly]="isTrash" autocomplete="off"
                                                     class="form-control"
                                                     name="akeyFile{{$parent.$index}}{{$index}}"
                                                     placeholder="{{'deploymentService.agent.placeholder.keyFile' | translate}}"
                                                     type="text">
                                            </div>
                                          </div>
                                        }
                                      </div>
                                      <div class="row m-t-sm">
                                        <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                          <label translate>deploymentService.agent.label.packageLocation
                                            <sup class="text-danger text-sm">*</sup>
                                          </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.packageLocation' | translate"
                                                      class="p-l-sm fa fa-info-circle"></i>
                                        </div>
                                        <div [ngClass]="{'has-error' : ((packageLocation.dirty || packageLocation.touched) && packageLocation.invalid)}"
                                             class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                          <input #packageLocation="ngModel" (blur)="convertJSON()" [(ngModel)]="item.target.packageLocation"
                                                 [readOnly]="isTrash" autocomplete="off"
                                                 class="form-control" id="apackageLocation{{$parent.$index}}{{$index}}" name="apackageLocation{{$parent.$index}}{{$index}}"
                                                 placeholder="{{'deploymentService.agent.placeholder.packageLocation' | translate}}"
                                                 required
                                                 type="text">
                                          @if (packageLocation.invalid && (packageLocation.dirty || packageLocation.touched)) {
                                            <div class="text-danger help-block">
                                              @if (packageLocation.errors.required) {
                                                <div translate>
                                                  common.message.requiredError
                                                </div>
                                              }
                                            </div>
                                          }
                                        </div>
                                      </div>
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.agent.label.execPre
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.execPre' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.target.execPre" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="aexecPre{{$parent.$index}}{{$index}}"
                                                   placeholder="{{'deploymentService.agent.placeholder.execPre' | translate}}"
                                                   type="text">
                                          </div>
                                        </div>
                                      }
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.agent.label.execPost
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.execPost' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.target.execPost" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="aexecPost{{$parent.$index}}{{$index}}"
                                                   placeholder="{{'deploymentService.agent.placeholder.execPost' | translate}}"
                                                   type="text">
                                          </div>
                                        </div>
                                      }
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3">
                                            <label translate>deploymentService.agent.label.makeService
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.makeService' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <label (ngModelChange)="convertJSON()" [(ngModel)]="item.target.makeService"
                                                   name="amakeService{{$parent.$index}}{{$index}}"
                                                   nz-checkbox></label>
                                          </div>
                                        </div>
                                      }
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3">
                                            <label translate>deploymentService.agent.label.forceSudo
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.forceSudo' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <label [(ngModel)]="item.target.forceSudo" name="aforceSudo{{$parent.$index}}{{$index}}"
                                                   nz-checkbox (ngModelChange)="convertJSON()"></label>
                                          </div>
                                        </div>
                                      }
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.agent.label.serviceName
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.serviceName' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.target.serviceName" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="aserviceName{{$parent.$index}}{{$index}}"
                                                   placeholder="{{'deploymentService.agent.placeholder.serviceName' | translate}}"
                                                   type="text">
                                          </div>
                                        </div>
                                      }
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.agent.label.serviceDir
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.serviceDir' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.target.serviceDir" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="aserviceDir{{$parent.$index}}{{$index}}"
                                                   placeholder="{{'deploymentService.agent.placeholder.serviceDir' | translate}}"
                                                   type="text">
                                          </div>
                                        </div>
                                      }
                                    </div>
                                    <h6 class="m-t-12 hover-icon" translate>
                                      deploymentService.label.media
                                      <i (click)="paste('agents', 'media', $parent.$index, $index)"
                                         [ngClass]="{'disable-link' : !copiedObject || (copiedObject && copiedObject.objectType !== 'media' )}"
                                         class="fa fa-paste fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                         nz-tooltip="{{'deploymentService.button.paste' | translate}}"></i>
                                      <i (click)="copy('agents', 'media', $parent.$index, $index)"
                                         class="fa fa-copy fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                         nz-tooltip="{{'deploymentService.button.copy' | translate}}"></i>
                                    </h6>
                                    <div class="p-a b-a">
                                      <div class="row">
                                        <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                          <label translate>deploymentService.agent.label.release
                                            <sup class="text-danger text-sm">*</sup>
                                          </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.release' | translate"
                                                      class="p-l-sm fa fa-info-circle"></i>
                                        </div>
                                        <div [ngClass]="{'has-error' : ((release.dirty || release.touched) && release.invalid)}"
                                             class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                          <input #release="ngModel" (blur)="convertJSON()" [(ngModel)]="item.media.release" [readOnly]="isTrash"
                                                 autocomplete="off"
                                                 class="form-control" id="arelease{{$parent.$index}}{{$index}}" name="arelease{{$parent.$index}}{{$index}}" placeholder="{{'deploymentService.agent.placeholder.release' | translate}}"
                                                 required
                                                 type="text">
                                          @if (release.invalid && (release.dirty || release.touched)) {
                                            <div class="text-danger help-block">
                                              @if (release.errors.required) {
                                                <div translate>
                                                  common.message.requiredError
                                                </div>
                                              }
                                            </div>
                                          }
                                        </div>
                                      </div>
                                      <div class="row m-t-sm">
                                        <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                          <label translate>deploymentService.agent.label.tarball
                                            <sup class="text-danger text-sm">*</sup>
                                          </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.tarball' | translate"
                                                      class="p-l-sm fa fa-info-circle"></i>
                                        </div>
                                        <div [ngClass]="{'has-error' : ((tarball.dirty || tarball.touched) && tarball.invalid)}"
                                             class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                          <input #tarball="ngModel" (blur)="convertJSON()" [(ngModel)]="item.media.tarball" [readOnly]="isTrash"
                                                 autocomplete="off"
                                                 class="form-control" id="atarball{{$parent.$index}}{{$index}}" name="atarball{{$parent.$index}}{{$index}}" placeholder="{{'deploymentService.agent.placeholder.tarball' | translate}}"
                                                 required
                                                 type="text">
                                          @if (tarball.invalid && (tarball.dirty || tarball.touched)) {
                                            <div class="text-danger help-block">
                                              @if (tarball.errors.required) {
                                                <div translate>
                                                  common.message.requiredError
                                                </div>
                                              }
                                            </div>
                                          }
                                        </div>
                                      </div>
                                    </div>
                                    <h6 class="m-t-12 hover-icon" translate>deploymentService.label.installation
                                      <i (click)="paste('agents', 'installation', $parent.$index, $index)"
                                         [ngClass]="{'disable-link' : !copiedObject || (copiedObject && copiedObject.objectType !== 'installation' )}"
                                         class="fa fa-paste fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                         nz-tooltip="{{'deploymentService.button.paste' | translate}}"></i>
                                      <i (click)="copy('agents', 'installation', $parent.$index, $index)"
                                         class="fa fa-copy fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                         nz-tooltip="{{'deploymentService.button.copy' | translate}}"></i>
                                    </h6>
                                    <div class="p-a b-a">
                                      <div class="row">
                                        <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                          <label translate>deploymentService.agent.label.home
                                            <sup class="text-danger text-sm">*</sup>
                                          </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.home' | translate"
                                                      class="p-l-sm fa fa-info-circle"></i>
                                        </div>
                                        <div [ngClass]="{'has-error' : ((home.dirty || home.touched) && home.invalid)}"
                                             class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                          <input #home="ngModel" (blur)="convertJSON()" [(ngModel)]="item.installation.home" [readOnly]="isTrash"
                                                 autocomplete="off" class="form-control"
                                                 id="ahome{{$parent.$index}}{{$index}}" name="ahome{{$parent.$index}}{{$index}}"
                                                 placeholder="{{'deploymentService.agent.placeholder.home' | translate}}"
                                                 required type="text">
                                          @if (home.invalid && (home.dirty || home.touched)) {
                                            <div class="text-danger help-block">
                                              @if (home.errors.required) {
                                                <div translate>
                                                  common.message.requiredError
                                                </div>
                                              }
                                            </div>
                                          }
                                        </div>
                                      </div>
                                      <div class="row m-t-sm">
                                        <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                          <label translate>deploymentService.agent.label.data
                                            <sup class="text-danger text-sm">*</sup>
                                          </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.data' | translate"
                                                      class="p-l-sm fa fa-info-circle"></i>
                                        </div>
                                        <div [ngClass]="{'has-error' : ((aData.dirty || aData.touched) && aData.invalid)}"
                                             class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                          <input #aData="ngModel" (blur)="convertJSON()" [(ngModel)]="item.installation.data" [readOnly]="isTrash"
                                                 autocomplete="off" class="form-control"
                                                 id="adata{{$parent.$index}}{{$index}}" name="adata{{$parent.$index}}{{$index}}"
                                                 placeholder="{{'deploymentService.agent.placeholder.data' | translate}}"
                                                 required type="text">
                                          @if (aData.invalid && (aData.dirty || aData.touched)) {
                                            <div class="text-danger help-block">
                                              @if (aData.errors.required) {
                                                <div translate>
                                                  common.message.requiredError
                                                </div>
                                              }
                                            </div>
                                          }
                                        </div>
                                      </div>
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.agent.label.homeOwner

                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.homeOwner' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.installation.homeOwner" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="ahomeOwner{{$parent.$index}}{{$index}}"
                                                   placeholder="{{'deploymentService.agent.placeholder.homeOwner' | translate}}"
                                                   type="text">
                                          </div>
                                        </div>
                                      }
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.agent.label.dataOwner

                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.dataOwner' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.installation.dataOwner" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="adataOwner{{$parent.$index}}{{$index}}"
                                                   placeholder="{{'deploymentService.agent.placeholder.dataOwner' | translate}}"
                                                   type="text">
                                          </div>
                                        </div>
                                      }
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.agent.label.runUser
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.runUser' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.installation.runUser" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="arunUser{{$parent.$index}}{{$index}}"
                                                   placeholder="{{'deploymentService.agent.placeholder.runUser' | translate}}"
                                                   type="text">
                                          </div>
                                        </div>
                                      }
                                      <div class="row m-t-sm">
                                        <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                          <label translate>deploymentService.agent.label.httpPort
                                            @if (!item.installation.httpsPort) {
                                              <sup class="text-danger text-sm">*</sup>
                                            }
                                          </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.httpPort' | translate"
                                                      class="p-l-sm fa fa-info-circle"></i>
                                        </div>
                                        <div [ngClass]="{'has-error' : ((httpPort.dirty || httpPort.touched) && httpPort.invalid)}"
                                             class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                          <input #httpPort="ngModel" (blur)="convertJSON()" [(ngModel)]="item.installation.httpPort" [readOnly]="isTrash"
                                                 [required]="!item.installation.httpsPort"
                                                 autocomplete="off" class="form-control"
                                                 id="ahttpPort{{$parent.$index}}{{$index}}"
                                                 name="ahttpPort{{$parent.$index}}{{$index}}"
                                                 placeholder="{{'deploymentService.agent.placeholder.httpPort' | translate}}"
                                                 type="text">
                                          @if (httpPort.invalid && (httpPort.dirty || httpPort.touched)) {
                                            <div class="text-danger help-block">
                                              @if (httpPort.errors.required) {
                                                <div translate>
                                                  common.message.requiredError
                                                </div>
                                              }
                                            </div>
                                          }
                                        </div>
                                      </div>
                                      <div class="row m-t-sm">
                                        <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                          <label translate>deploymentService.agent.label.httpsPort
                                            @if (!item.installation.httpPort) {
                                              <sup class="text-danger text-sm">*</sup>
                                            }
                                          </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.httpsPort' | translate"
                                                      class="p-l-sm fa fa-info-circle"></i>
                                        </div>
                                        <div [ngClass]="{'has-error' : ((httpsPort.dirty || httpsPort.touched) && httpsPort.invalid)}"
                                             class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                          <input #httpsPort="ngModel" (blur)="convertJSON()" [(ngModel)]="item.installation.httpsPort" [readOnly]="isTrash"
                                                 [required]="!item.installation.httpPort"
                                                 autocomplete="off" class="form-control"
                                                 id="ahttpsPort{{$parent.$index}}{{$index}}"
                                                 name="ahttpsPort{{$parent.$index}}{{$index}}"
                                                 placeholder="{{'deploymentService.agent.placeholder.httpsPort' | translate}}"
                                                 type="text">
                                          @if (httpsPort.invalid && (httpsPort.dirty || httpsPort.touched)) {
                                            <div class="text-danger help-block">
                                              @if (httpsPort.errors.required) {
                                                <div translate>
                                                  common.message.requiredError
                                                </div>
                                              }
                                            </div>
                                          }
                                        </div>
                                      </div>
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3">
                                            <label translate>deploymentService.agent.label.javaHome
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.javaHome' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.installation.javaHome" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="ajavaHome{{$parent.$index}}{{$index}}"
                                                   placeholder="{{'deploymentService.agent.placeholder.javaHome' | translate}}"
                                                   type="text">
                                          </div>
                                        </div>
                                      }
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3">
                                            <label translate>deploymentService.agent.label.javaOptions
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.javaOptions' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.installation.javaOptions" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="ajavaOptions{{$parent.$index}}{{$index}}"
                                                   placeholder="{{'deploymentService.agent.placeholder.javaOptions' | translate}}"
                                                   type="text">
                                          </div>
                                        </div>
                                      }
                                    </div>
                                    @if (item.isMoreKeyFileDetail) {
                                      <h6 class="m-t-12 hover-icon" translate>deploymentService.label.configuration
                                        <i (click)="paste('agents', 'configuration', $parent.$index, $index)"
                                           [ngClass]="{'disable-link' : !copiedObject || (copiedObject && copiedObject.objectType !== 'configuration' )}"
                                           class="fa fa-paste fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                           nz-tooltip="{{'deploymentService.button.paste' | translate}}"></i>
                                        <i (click)="copy('agents', 'configuration', $parent.$index, $index)"
                                           class="fa fa-copy fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                           nz-tooltip="{{'deploymentService.button.copy' | translate}}"></i>
                                      </h6>
                                      <div class="p-a b-a">
                                        <h6 translate>deploymentService.label.certificates </h6>
                                        <div class="p-a b-a">
                                          <div class="row">
                                            <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                              <label translate>deploymentService.agent.label.keyStore
                                                <sup class="text-danger text-sm">*</sup>
                                              </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.keyStore' | translate"
                                                          class="p-l-sm fa fa-info-circle"></i>
                                            </div>
                                            <div [ngClass]="{'has-error' : ((keyStore.dirty || keyStore.touched) && keyStore.invalid)}"
                                                 class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                              <input #keyStore="ngModel" (blur)="convertJSON()" [(ngModel)]="item.configuration.certificates.keyStore"
                                                     [readOnly]="isTrash" autocomplete="off" class="form-control"
                                                     id="akeyStore{{$parent.$index}}{{$index}}" name="akeyStore{{$parent.$index}}{{$index}}" placeholder="{{'deploymentService.agent.placeholder.keyStore' | translate}}"
                                                     required
                                                     type="text">
                                              @if (keyStore.invalid && (keyStore.dirty || keyStore.touched)) {
                                                <div class="text-danger help-block">
                                                  @if (keyStore.errors.required) {
                                                    <div translate>
                                                      common.message.requiredError
                                                    </div>
                                                  }
                                                </div>
                                              }
                                            </div>
                                          </div>
                                          <div class="row m-t-sm">
                                            <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                              <label translate>deploymentService.agent.label.keyStorePassword
                                                <sup class="text-danger text-sm">*</sup>
                                              </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.keyStorePassword' | translate"
                                                          class="p-l-sm fa fa-info-circle"></i>
                                            </div>
                                            <div [ngClass]="{'has-error' : ((keyStorePassword.dirty || keyStorePassword.touched) && keyStorePassword.invalid)}"
                                                 class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                              <input #keyStorePassword="ngModel" (blur)="convertJSON()" [(ngModel)]="item.configuration.certificates.keyStorePassword"
                                                     [readOnly]="isTrash"
                                                     autocomplete="off" class="form-control" id="akeyStorePassword{{$parent.$index}}{{$index}}"
                                                     name="akeyStorePassword{{$parent.$index}}{{$index}}"
                                                     placeholder="{{'deploymentService.agent.placeholder.keyStorePassword' | translate}}"
                                                     required
                                                     type="text">
                                              @if (keyStorePassword.invalid && (keyStorePassword.dirty || keyStorePassword.touched)) {
                                                <div class="text-danger help-block">
                                                  @if (keyStorePassword.errors.required) {
                                                    <div translate>
                                                      common.message.requiredError
                                                    </div>
                                                  }
                                                </div>
                                              }
                                            </div>
                                          </div>
                                          <div class="row m-t-sm">
                                            <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                              <label translate>deploymentService.agent.label.keyPassword
                                                <sup class="text-danger text-sm">*</sup>
                                              </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.keyPassword' | translate"
                                                          class="p-l-sm fa fa-info-circle"></i>
                                            </div>
                                            <div [ngClass]="{'has-error' : ((keyPassword.dirty || keyPassword.touched) && keyPassword.invalid)}"
                                                 class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                              <input #keyPassword="ngModel" (blur)="convertJSON()" [(ngModel)]="item.configuration.certificates.keyPassword"
                                                     [readOnly]="isTrash" autocomplete="off"
                                                     class="form-control" id="akeyPassword{{$parent.$index}}{{$index}}" name="akeyPassword{{$parent.$index}}{{$index}}"
                                                     placeholder="{{'deploymentService.agent.placeholder.keyPassword' | translate}}"
                                                     required
                                                     type="text">
                                              @if (keyPassword.invalid && (keyPassword.dirty || keyPassword.touched)) {
                                                <div class="text-danger help-block">
                                                  @if (keyPassword.errors.required) {
                                                    <div translate>
                                                      common.message.requiredError
                                                    </div>
                                                  }
                                                </div>
                                              }
                                            </div>
                                          </div>
                                          @if (item.isMoreKeyFileDetail) {
                                            <div class="row m-t-sm">
                                              <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                                <label translate>deploymentService.agent.label.keyAlias
                                                </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.keyAlias' | translate"
                                                            class="p-l-sm fa fa-info-circle"></i>
                                              </div>
                                              <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                                <input (blur)="convertJSON()" [(ngModel)]="item.configuration.certificates.keyAlias" [readOnly]="isTrash" autocomplete="off"
                                                       class="form-control"
                                                       name="akeyAlias{{$parent.$index}}{{$index}}"
                                                       placeholder="{{'deploymentService.agent.placeholder.keyAlias' | translate}}"
                                                       type="text">
                                              </div>
                                            </div>
                                          }
                                          <div class="row m-t-sm">
                                            <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                              <label translate>deploymentService.agent.label.trustStore
                                                <sup class="text-danger text-sm">*</sup>
                                              </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.trustStore' | translate"
                                                          class="p-l-sm fa fa-info-circle"></i>
                                            </div>
                                            <div [ngClass]="{'has-error' : ((trustStore.dirty || trustStore.touched) && trustStore.invalid)}"
                                                 class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                              <input #trustStore="ngModel" (blur)="convertJSON()" [(ngModel)]="item.configuration.certificates.trustStore"
                                                     [readOnly]="isTrash" autocomplete="off" class="form-control"
                                                     id="atrustStore{{$parent.$index}}{{$index}}" name="atrustStore{{$parent.$index}}{{$index}}" placeholder="{{'deploymentService.agent.placeholder.trustStore' | translate}}"
                                                     required
                                                     type="text">
                                              @if (trustStore.invalid && (trustStore.dirty || trustStore.touched)) {
                                                <div class="text-danger help-block">
                                                  @if (trustStore.errors.required) {
                                                    <div translate>
                                                      common.message.requiredError
                                                    </div>
                                                  }
                                                </div>
                                              }
                                            </div>
                                          </div>
                                          <div class="row m-t-sm">
                                            <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                              <label translate>deploymentService.agent.label.trustStorePassword
                                                <sup class="text-danger text-sm">*</sup>
                                              </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.trustStorePassword' | translate"
                                                          class="p-l-sm fa fa-info-circle"></i>
                                            </div>
                                            <div [ngClass]="{'has-error' : ((trustStorePassword.dirty || trustStorePassword.touched) && trustStorePassword.invalid)}"
                                                 class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                              <input #trustStorePassword="ngModel" (blur)="convertJSON()" [(ngModel)]="item.configuration.certificates.trustStorePassword"
                                                     [readOnly]="isTrash"
                                                     autocomplete="off" class="form-control" id="atrustStorePassword{{$parent.$index}}{{$index}}"
                                                     name="atrustStorePassword{{$parent.$index}}{{$index}}"
                                                     placeholder="{{'deploymentService.agent.placeholder.trustStorePassword' | translate}}"
                                                     required
                                                     type="text">
                                              @if (trustStorePassword.invalid && (trustStorePassword.dirty || trustStorePassword.touched)) {
                                                <div class="text-danger help-block">
                                                  @if (trustStorePassword.errors.required) {
                                                    <div translate>
                                                      common.message.requiredError
                                                    </div>
                                                  }
                                                </div>
                                              }
                                            </div>
                                          </div>
                                        </div>

                                        @for (temp of item.configuration.templates; track $index) {
                                          <div class="row m-t-12">
                                            <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                              @if ($index == 0) {
                                                <label translate>deploymentService.agent.label.templates

                                                </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.agent.tooltip.templates' | translate"
                                                            class="p-l-sm fa fa-info-circle"></i>
                                              }
                                            </div>
                                            <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                              <input (blur)="convertJSON()" [(ngModel)]="temp.name" [readOnly]="isTrash" autocomplete="off"
                                                     class="form-control"
                                                     name="atemplates{{$parent.$parent.$index}}{{$parent.$index}}{{$index}}"
                                                     placeholder="{{'deploymentService.agent.placeholder.templates' | translate}}" type="text">
                                              <i (click)="addTemplates(item.configuration.templates)"
                                                 class="fa fa-plus pos-abt t-10 text-hover-primary" style="right: -10px;"></i>
                                              @if ($index != 0) {
                                                <i (click)="removeTemplates(item.configuration.templates, $index)"
                                                   class="fa fa-times pos-abt t-10 text-hover-color cursor"
                                                   style="right: -28px;"></i>
                                              }
                                            </div>
                                          </div>
                                        }
                                      </div>
                                    }
                                    <div class="m-t-sm" style="margin-bottom: -8px;">
                                      @if (item.isMoreKeyFileDetail) {
                                        <a (click)="item.isMoreKeyFileDetail = false"
                                           class="text-primary text-hover-primary"
                                           translate>deploymentService.button.hideMoreOption</a>
                                      }
                                      @if (!item.isMoreKeyFileDetail) {
                                        <a (click)="item.isMoreKeyFileDetail = true"
                                           class="text-primary text-hover-primary" translate>deploymentService.button.showMoreOption</a>
                                      }
                                    </div>
                                  </div>
                                </div>
                              }
                              <div class="m-t-12">
                                <a (click)="addAnotherAgentInstance(agent)" class="text-primary text-hover-primary"
                                   translate>deploymentService.agent.button.addSecondaryAgent</a>
                              </div>
                            </div>
                          </div>
                        }
                        <div class="m-t">
                          <a (click)="addAnotherAgent()" class="text-primary text-hover-primary"
                             translate>deploymentService.agent.button.addAnotherAgent</a>
                        </div>
                      </div>
                      <hr>
                    </div>
                  }

                  @if (data.controllers?.length > 0) {
                    <div class="p-l-sm ">
                      <h5 class="p-l-sm hover-icon" translate>deploymentService.label.controller
                        <i (click)="obj.isControllerExpanded = !obj.isControllerExpanded"
                           [ngClass]="{'fa-caret-up': obj.isControllerExpanded}"
                           class="fa fa-caret-down p-l-xs text-hover-primary"></i>
                        <a (click)="toggleNode('controllers');" [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'common.tooltip.expandAll' | translate"
                           class="m-l-sm fa-icon">
                          <i class="fa fa-angle-double-down"></i>
                        </a>
                        <a (click)="toggleNode('controllers', false);" [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'common.tooltip.collapseAll' | translate"
                           class="m-l-xs fa-icon">
                          <i class="fa fa-angle-double-up"></i>
                        </a>
                        <i (click)="removeController()"
                           class="fa fa-trash fa-icon pull-right text-hover-color p-r-sm text-16 cursor"></i>
                      </h5>
                      <div [ngClass]="{'fade-in show': obj.isControllerExpanded}" class="m-l-md hide">
                        @for (controller of data.controllers; track controller.controllerId; let i = $index) {
                          <div [ngClass]="{'b-t m-t': i != 0}">
                            <h6 class="m-t-12 hover-icon">
                              @if (controller.controllerId) {
                                <label [nzChecked]="object.setOfCheckedId.has(controller.controllerId + '__CONTROLLER')"
                                       class="m-r-sm" (nzCheckedChange)="onItemChecked(controller.controllerId, $event, '__CONTROLLER')"
                                       nz-checkbox></label>
                              }
                              {{controller.controllerId || 'Controller_ID_' + (i + 1)}}
                              <i (click)="controller.isControllerExpanded = !controller.isControllerExpanded"
                                 [ngClass]="{'fa-caret-up': controller.isControllerExpanded}"
                                 class="fa fa-caret-down p-l-xs text-hover-primary"></i>
                              <i (click)="removeController(i)"
                                 class="fa fa-trash fa-icon pull-right text-hover-color p-r-sm font14 cursor"
                                 nz-tooltip="{{'deploymentService.controller.button.removeController' | translate}}"></i>
                            </h6>
                            <div [ngClass]="{'fade-in show': controller.isControllerExpanded}" class="p-a b-a hide">
                              <div class="row">
                                <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                  <label translate>deploymentService.controller.label.controllerId
                                    <sup class="text-danger text-sm">*</sup>
                                  </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.controllerId' | translate"
                                              class="p-l-sm fa fa-info-circle"></i>
                                </div>
                                <div [ngClass]="{'has-error' : ((controllerId.dirty || controllerId.touched) && controllerId.invalid)}"
                                     class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-36">
                                  <input #controllerId="ngModel" (blur)="convertJSON()" [(ngModel)]="controller.controllerId" [readOnly]="isTrash"
                                         autocomplete="off"
                                         class="form-control" id="ccontrollerId{{i}}" name="ccontrollerId{{i}}"
                                         placeholder="{{'deploymentService.controller.placeholder.controllerId' | translate}}"
                                         required type="text">
                                  @if (controllerId.invalid && (controllerId.dirty || controllerId.touched)) {
                                    <div class="text-danger help-block">
                                      @if (controllerId.errors.required) {
                                        <div translate>
                                          common.message.requiredError
                                        </div>
                                      }
                                    </div>
                                  }
                                </div>
                              </div>
                              <div class="row m-t-sm">
                                <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                  <label translate>deploymentService.controller.label.jocRef
                                    <sup class="text-danger text-sm">*</sup>
                                  </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.jocRef' | translate"
                                              class="p-l-sm fa fa-info-circle"></i>
                                </div>
                                <div [ngClass]="{'has-error' : ((jocRef.dirty || jocRef.touched) && jocRef.invalid)}"
                                     class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-36">
                                  <input #jocRef="ngModel" (blur)="convertJSON()"
                                         [(ngModel)]="controller.jocRef"
                                         [nzAutocomplete]="auto" [readOnly]="isTrash" class="form-control"
                                         id="cjocRef{{i}}" name="cjocRef{{i}}" placeholder="{{'deploymentService.controller.placeholder.jocRef' | translate}}"
                                         required type="text"/>
                                  <nz-autocomplete #auto [compareWith]="compareFun">
                                    @for (option of data.joc; track option.members.clusterId) {
                                      <nz-auto-option [nzLabel]="option.members.clusterId"
                                                      [nzValue]="option">
                                        {{ option.members.clusterId }}
                                      </nz-auto-option>
                                    }
                                  </nz-autocomplete>
                                  @if (jocRef.invalid && (jocRef.dirty || jocRef.touched)) {
                                    <div class="text-danger help-block">
                                      @if (jocRef.errors.required) {
                                        <div translate>
                                          common.message.requiredError
                                        </div>
                                      }
                                    </div>
                                  }
                                </div>
                              </div>
                              @for (item of controller.cluster; track $index; let j = $index) {
                                <div>
                                  <h6 class="m-t-12 hover-icon">
                                    @if (j == 0) {
                                      <span>PRIMARY</span>
                                    }
                                    @if (j != 0) {
                                      <span>SECONDARY</span>
                                    }
                                    <i (click)="item.isControllerPropertiesExpanded = !item.isControllerPropertiesExpanded"
                                       [ngClass]="{'fa-caret-up': item.isControllerPropertiesExpanded}"
                                       class="fa fa-caret-down p-l-xs text-hover-primary"></i>
                                    @if (j != 0) {
                                      <i (click)="removeSecondaryObj(controller.cluster, i)"
                                         class="fa fa-times fa-icon pull-right text-hover-color p-r-sm font14 cursor"
                                         nz-tooltip="{{'deploymentService.controller.button.removeSecondaryController' | translate}}"></i>
                                    }
                                    <i (click)="paste('controllers', 'instance', i, j)"
                                       [ngClass]="{'disable-link' : !copiedObject || (copiedObject && copiedObject.objectType !== 'instance' )}"
                                       class="fa fa-paste fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                       nz-tooltip="{{'deploymentService.button.paste' | translate}}"></i>
                                    <i (click)="copy('controllers', 'instance', i, j)"
                                       class="fa fa-copy fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                       nz-tooltip="{{'deploymentService.button.copy' | translate}}"></i>
                                  </h6>
                                  <div [ngClass]="{'fade-in show': item.isControllerPropertiesExpanded}" class="p-a b-a hide">
                                    <h6 class="hover-icon" translate>deploymentService.label.target
                                      <i (click)="paste('controllers', 'target', i, j)"
                                         [ngClass]="{'disable-link' : !copiedObject || (copiedObject && copiedObject.objectType !== 'target' )}"
                                         class="fa fa-paste fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                         nz-tooltip="{{'deploymentService.button.paste' | translate}}"></i>
                                      <i (click)="copy('controllers', 'target', i, j)"
                                         class="fa fa-copy fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                         nz-tooltip="{{'deploymentService.button.copy' | translate}}"></i>
                                    </h6>
                                    <div class="p-a b-a">
                                      <h6 translate>deploymentService.label.connection </h6>
                                      <div class="p-a b-a">
                                        <div class="row">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.controller.label.host
                                              <sup class="text-danger text-sm">*</sup>
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.host' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div [ngClass]="{'has-error' : ((host.dirty || host.touched) && host.invalid)}"
                                               class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                            <input #host="ngModel" (blur)="convertJSON()" [(ngModel)]="item.target.connection.host" [readOnly]="isTrash"
                                                   autocomplete="off"
                                                   class="form-control"
                                                   id="chost{{i}}{{j}}" name="chost{{i}}{{j}}" placeholder="{{'deploymentService.controller.placeholder.host' | translate}}"
                                                   required
                                                   type="text">
                                            @if (host.invalid && (host.dirty || host.touched)) {
                                              <div class="text-danger help-block">
                                                @if (host.errors.required) {
                                                  <div translate>
                                                    common.message.requiredError
                                                  </div>
                                                }
                                              </div>
                                            }
                                          </div>
                                        </div>

                                        @if (item.isMoreKeyFileDetail) {
                                          <div class="row m-t-sm">
                                            <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                              <label translate>deploymentService.controller.label.port

                                              </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.port' | translate"
                                                          class="p-l-sm fa fa-info-circle"></i>
                                            </div>
                                            <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                              <nz-input-number (nzBlur)="convertJSON()" [(ngModel)]="item.target.connection.port"
                                                               [nzMin]="1"
                                                               [nzReadOnly]="isTrash" [nzStep]="1" name="cport{{i}}{{j}}"
                                                               nzPlaceHolder="{{'deploymentService.controller.placeholder.port' | translate}}"></nz-input-number>
                                            </div>
                                          </div>
                                        }
                                      </div>
                                      <h6 class="m-t-12" translate>deploymentService.label.authentication </h6>
                                      <div class="p-a b-a">
                                        <div class="row">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.controller.label.method
                                              <sup class="text-danger text-sm">*</sup>
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.method' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                            <app-select-input (modelChange)="convertJSON()" [attributeName]="'method'" [isSelectDisabled]="isTrash"
                                                              [id]="'cmethod' + i + j" [isRequired]="true"
                                                              [listArray]="methods" [name]="'cmethod' + i + j"
                                                              [placeholder]="'deploymentService.agent.placeholder.method'"
                                                              [object]="item.target.authentication"></app-select-input>
                                          </div>
                                        </div>
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.controller.label.user
                                              <sup class="text-danger text-sm">*</sup>
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.user' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div [ngClass]="{'has-error' : ((user.dirty || user.touched) && user.invalid)}"
                                               class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                            <input #user="ngModel" (blur)="convertJSON()" [(ngModel)]="item.target.authentication.user" [readOnly]="isTrash"
                                                   autocomplete="off"
                                                   class="form-control"
                                                   id="cuser{{i}}{{j}}" name="cuser{{i}}{{j}}" placeholder="{{'deploymentService.controller.placeholder.user' | translate}}"
                                                   required
                                                   type="text">
                                            @if (user.invalid && (user.dirty || user.touched)) {
                                              <div class="text-danger help-block">
                                                @if (user.errors.required) {
                                                  <div translate>
                                                    common.message.requiredError
                                                  </div>
                                                }
                                              </div>
                                            }
                                          </div>
                                        </div>
                                        @if (item.isMoreKeyFileDetail) {
                                          <div class="row m-t-sm">
                                            <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                              <label translate>deploymentService.controller.label.keyFile

                                              </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.keyFile' | translate"
                                                          class="p-l-sm fa fa-info-circle"></i>
                                            </div>
                                            <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                              <input (blur)="convertJSON()" [(ngModel)]="item.target.authentication.keyFile" [readOnly]="isTrash" autocomplete="off"
                                                     class="form-control"
                                                     name="ckeyFile{{i}}{{j}}"
                                                     placeholder="{{'deploymentService.controller.placeholder.keyFile' | translate}}"
                                                     type="text">
                                            </div>
                                          </div>
                                        }
                                      </div>
                                      <div class="row m-t-sm">
                                        <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                          <label translate>deploymentService.controller.label.packageLocation
                                            <sup class="text-danger text-sm">*</sup>
                                          </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.packageLocation' | translate"
                                                      class="p-l-sm fa fa-info-circle"></i>
                                        </div>
                                        <div [ngClass]="{'has-error' : ((packageLocation.dirty || packageLocation.touched) && packageLocation.invalid)}"
                                             class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                          <input #packageLocation="ngModel" (blur)="convertJSON()" [(ngModel)]="item.target.packageLocation"
                                                 [readOnly]="isTrash"
                                                 autocomplete="off"
                                                 class="form-control" id="cpackageLocation{{i}}{{j}}" name="cpackageLocation{{i}}{{j}}"
                                                 placeholder="{{'deploymentService.controller.placeholder.packageLocation' | translate}}"
                                                 required
                                                 type="text">
                                          @if (packageLocation.invalid && (packageLocation.dirty || packageLocation.touched)) {
                                            <div class="text-danger help-block">
                                              @if (packageLocation.errors.required) {
                                                <div translate>
                                                  common.message.requiredError
                                                </div>
                                              }
                                            </div>
                                          }
                                        </div>
                                      </div>
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.controller.label.execPre
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.execPre' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.target.execPre" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="cexecPre{{i}}{{j}}"
                                                   placeholder="{{'deploymentService.controller.placeholder.execPre' | translate}}"
                                                   type="text">
                                          </div>
                                        </div>
                                      }
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.controller.label.execPost
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.execPost' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.target.execPost" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="cexecPost{{i}}{{j}}"
                                                   placeholder="{{'deploymentService.controller.placeholder.execPost' | translate}}"
                                                   type="text">
                                          </div>
                                        </div>
                                      }
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3">
                                            <label translate>deploymentService.controller.label.makeService
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.makeService' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <label (ngModelChange)="convertJSON()" [(ngModel)]="item.target.makeService"
                                                   name="cmakeService{{i}}{{j}}"
                                                   nz-checkbox></label>
                                          </div>
                                        </div>
                                      }
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3">
                                            <label translate>deploymentService.controller.label.forceSudo
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.forceSudo' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <label (ngModelChange)="convertJSON()" [(ngModel)]="item.target.forceSudo"
                                                   name="cforceSudo{{i}}{{j}}"
                                                   nz-checkbox></label>
                                          </div>
                                        </div>
                                      }
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.controller.label.serviceName
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.serviceName' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.target.serviceName" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="cserviceName{{i}}{{j}}"
                                                   placeholder="{{'deploymentService.controller.placeholder.serviceName' | translate}}"
                                                   type="text">

                                          </div>
                                        </div>
                                      }
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.controller.label.serviceDir
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.serviceDir' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.target.serviceDir" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="cserviceDir{{i}}{{j}}"
                                                   placeholder="{{'deploymentService.controller.placeholder.serviceDir' | translate}}"
                                                   type="text">

                                          </div>
                                        </div>
                                      }
                                    </div>
                                    <h6 class="m-t-12 hover-icon" translate>
                                      deploymentService.label.media
                                      <i (click)="paste('controllers', 'media', i, j)"
                                         [ngClass]="{'disable-link' : !copiedObject || (copiedObject && copiedObject.objectType !== 'media' )}"
                                         class="fa fa-paste fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                         nz-tooltip="{{'deploymentService.button.paste' | translate}}"></i>
                                      <i (click)="copy('controllers', 'media', i, j)"
                                         class="fa fa-copy fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                         nz-tooltip="{{'deploymentService.button.copy' | translate}}"></i>
                                    </h6>
                                    <div class="p-a b-a">
                                      <div class="row">
                                        <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                          <label translate>deploymentService.controller.label.release
                                            <sup class="text-danger text-sm">*</sup>
                                          </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.release' | translate"
                                                      class="p-l-sm fa fa-info-circle"></i>
                                        </div>
                                        <div [ngClass]="{'has-error' : ((release.dirty || release.touched) && release.invalid)}"
                                             class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                          <input #release="ngModel" (blur)="convertJSON()" [(ngModel)]="item.media.release" [readOnly]="isTrash"
                                                 autocomplete="off"
                                                 class="form-control" id="crelease{{i}}{{j}}" name="crelease{{i}}{{j}}" placeholder="{{'deploymentService.controller.placeholder.release' | translate}}"
                                                 required
                                                 type="text">
                                          @if (release.invalid && (release.dirty || release.touched)) {
                                            <div class="text-danger help-block">
                                              @if (release.errors.required) {
                                                <div translate>
                                                  common.message.requiredError
                                                </div>
                                              }
                                            </div>
                                          }
                                        </div>
                                      </div>
                                      <div class="row m-t-sm">
                                        <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                          <label translate>deploymentService.controller.label.tarball
                                            <sup class="text-danger text-sm">*</sup>
                                          </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.tarball' | translate"
                                                      class="p-l-sm fa fa-info-circle"></i>
                                        </div>
                                        <div [ngClass]="{'has-error' : ((tarball.dirty || tarball.touched) && tarball.invalid)}"
                                             class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                          <input #tarball="ngModel" (blur)="convertJSON()" [(ngModel)]="item.media.tarball" [readOnly]="isTrash"
                                                 autocomplete="off"
                                                 class="form-control" id="ctarball{{i}}{{j}}" name="ctarball{{i}}{{j}}" placeholder="{{'deploymentService.controller.placeholder.tarball' | translate}}"
                                                 required
                                                 type="text">
                                          @if (tarball.invalid && (tarball.dirty || tarball.touched)) {
                                            <div class="text-danger help-block">
                                              @if (tarball.errors.required) {
                                                <div translate>
                                                  common.message.requiredError
                                                </div>
                                              }
                                            </div>
                                          }
                                        </div>
                                      </div>
                                    </div>
                                    <h6 class="m-t-12 hover-icon" translate>deploymentService.label.installation
                                      <i (click)="paste('controllers', 'installation', i,j)"
                                         [ngClass]="{'disable-link' : !copiedObject || (copiedObject && copiedObject.objectType !== 'installation' )}"
                                         class="fa fa-paste fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                         nz-tooltip="{{'deploymentService.button.paste' | translate}}"></i>
                                      <i (click)="copy('controllers', 'installation', i,j)"
                                         class="fa fa-copy fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                         nz-tooltip="{{'deploymentService.button.copy' | translate}}"></i>
                                    </h6>
                                    <div class="p-a b-a">
                                      <div class="row">
                                        <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                          <label translate>deploymentService.controller.label.home
                                            <sup class="text-danger text-sm">*</sup>
                                          </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.home' | translate"
                                                      class="p-l-sm fa fa-info-circle"></i>
                                        </div>
                                        <div [ngClass]="{'has-error' : ((home.dirty || home.touched) && home.invalid)}"
                                             class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                          <input #home="ngModel" (blur)="convertJSON()" [(ngModel)]="item.installation.home" [readOnly]="isTrash"
                                                 autocomplete="off"
                                                 class="form-control"
                                                 id="chome{{i}}{{j}}" name="chome{{i}}{{j}}"
                                                 placeholder="{{'deploymentService.controller.placeholder.home' | translate}}"
                                                 required type="text">
                                          @if (home.invalid && (home.dirty || home.touched)) {
                                            <div class="text-danger help-block">
                                              @if (home.errors.required) {
                                                <div translate>
                                                  common.message.requiredError
                                                </div>
                                              }
                                            </div>
                                          }
                                        </div>
                                      </div>
                                      <div class="row m-t-sm">
                                        <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                          <label translate>deploymentService.controller.label.data
                                            <sup class="text-danger text-sm">*</sup>
                                          </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.data' | translate"
                                                      class="p-l-sm fa fa-info-circle"></i>
                                        </div>
                                        <div [ngClass]="{'has-error' : ((cData.dirty || cData.touched) && cData.invalid)}"
                                             class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                          <input #cData="ngModel" (blur)="convertJSON()" [(ngModel)]="item.installation.data" [readOnly]="isTrash"
                                                 autocomplete="off"
                                                 class="form-control"
                                                 id="cdata{{i}}{{j}}" name="cdata{{i}}{{j}}"
                                                 placeholder="{{'deploymentService.controller.placeholder.data' | translate}}"
                                                 required type="text">
                                          @if (cData.invalid && (cData.dirty || cData.touched)) {
                                            <div class="text-danger help-block">
                                              @if (cData.errors.required) {
                                                <div translate>
                                                  common.message.requiredError
                                                </div>
                                              }
                                            </div>
                                          }
                                        </div>
                                      </div>
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.controller.label.homeOwner

                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.homeOwner' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.installation.homeOwner" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="chomeOwner{{i}}{{j}}"
                                                   placeholder="{{'deploymentService.controller.placeholder.homeOwner' | translate}}"
                                                   type="text">
                                          </div>
                                        </div>
                                      }

                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.controller.label.dataOwner

                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.dataOwner' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.installation.dataOwner" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="cdataOwner{{i}}{{j}}"
                                                   placeholder="{{'deploymentService.controller.placeholder.dataOwner' | translate}}"
                                                   type="text">
                                          </div>
                                        </div>
                                      }

                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.controller.label.runUser

                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.runUser' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.installation.runUser" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="crunUser{{i}}{{j}}"
                                                   placeholder="{{'deploymentService.controller.placeholder.runUser' | translate}}"
                                                   type="text">
                                          </div>
                                        </div>
                                      }
                                      <div class="row m-t-sm">
                                        <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                          <label translate>deploymentService.controller.label.httpPort
                                            @if (!item.installation.httpsPort) {
                                              <sup class="text-danger text-sm">*</sup>
                                            }
                                          </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.httpPort' | translate"
                                                      class="p-l-sm fa fa-info-circle"></i>
                                        </div>
                                        <div [ngClass]="{'has-error' : ((httpPort.dirty || httpPort.touched) && httpPort.invalid)}"
                                             class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                          <input #httpPort="ngModel" (blur)="convertJSON()" [(ngModel)]="item.installation.httpPort" [readOnly]="isTrash"
                                                 [required]="!item.installation.httpsPort"
                                                 autocomplete="off" class="form-control"
                                                 id="chttpPort{{i}}{{j}}"
                                                 name="chttpPort{{i}}{{j}}"
                                                 placeholder="{{'deploymentService.controller.placeholder.httpPort' | translate}}"
                                                 type="text">
                                          @if (httpPort.invalid && (httpPort.dirty || httpPort.touched)) {
                                            <div class="text-danger help-block">
                                              @if (httpPort.errors.required) {
                                                <div translate>
                                                  common.message.requiredError
                                                </div>
                                              }
                                            </div>
                                          }
                                        </div>
                                      </div>
                                      <div class="row m-t-sm">
                                        <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                          <label translate>deploymentService.controller.label.httpsPort
                                            @if (!item.installation.httpPort) {
                                              <sup class="text-danger text-sm">*</sup>
                                            }
                                          </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.httpsPort' | translate"
                                                      class="p-l-sm fa fa-info-circle"></i>
                                        </div>
                                        <div [ngClass]="{'has-error' : ((httpsPort.dirty || httpsPort.touched) && httpsPort.invalid)}"
                                             class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                          <input #httpsPort="ngModel" (blur)="convertJSON()" [(ngModel)]="item.installation.httpsPort" [readOnly]="isTrash"
                                                 [required]="!item.installation.httpPort"
                                                 autocomplete="off" class="form-control"
                                                 id="chttpsPort{{i}}{{j}}"
                                                 name="chttpsPort{{i}}{{j}}"
                                                 placeholder="{{'deploymentService.controller.placeholder.httpsPort' | translate}}"
                                                 type="text">
                                          @if (httpsPort.invalid && (httpsPort.dirty || httpsPort.touched)) {
                                            <div class="text-danger help-block">
                                              @if (httpsPort.errors.required) {
                                                <div translate>
                                                  common.message.requiredError
                                                </div>
                                              }
                                            </div>
                                          }
                                        </div>
                                      </div>
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3">
                                            <label translate>deploymentService.controller.label.javaHome
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.javaHome' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.installation.javaHome" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="cjavaHome{{i}}{{j}}"
                                                   placeholder="{{'deploymentService.controller.placeholder.javaHome' | translate}}"
                                                   type="text">
                                          </div>
                                        </div>
                                      }
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3">
                                            <label translate>deploymentService.controller.label.javaOptions
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.javaOptions' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.installation.javaOptions" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="cjavaOptions{{i}}{{j}}"
                                                   placeholder="{{'deploymentService.controller.placeholder.javaOptions' | translate}}"
                                                   type="text">
                                          </div>
                                        </div>
                                      }
                                    </div>
                                    @if (item.isMoreKeyFileDetail) {
                                      <h6 class="m-t-12 hover-icon" translate>deploymentService.label.configuration
                                        <i (click)="paste('controllers', 'configuration', i, j)"
                                           [ngClass]="{'disable-link' : !copiedObject || (copiedObject && copiedObject.objectType !== 'configuration' )}"
                                           class="fa fa-paste fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                           nz-tooltip="{{'deploymentService.button.paste' | translate}}"></i>
                                        <i (click)="copy('controllers', 'configuration', i, j)"
                                           class="fa fa-copy fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                           nz-tooltip="{{'deploymentService.button.copy' | translate}}"></i>
                                      </h6>
                                      <div class="p-a b-a">
                                        <h6 translate>deploymentService.label.certificates </h6>
                                        <div class="p-a b-a">
                                          <div class="row">
                                            <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                              <label translate>deploymentService.controller.label.keyStore
                                                <sup class="text-danger text-sm">*</sup>
                                              </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.keyStore' | translate"
                                                          class="p-l-sm fa fa-info-circle"></i>
                                            </div>
                                            <div [ngClass]="{'has-error' : ((keyStore.dirty || keyStore.touched) && keyStore.invalid)}"
                                                 class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                              <input #keyStore="ngModel" (blur)="convertJSON()" [(ngModel)]="item.configuration.certificates.keyStore"
                                                     [readOnly]="isTrash" autocomplete="off"
                                                     class="form-control"
                                                     id="ckeyStore{{i}}{{j}}" name="ckeyStore{{i}}{{j}}" placeholder="{{'deploymentService.controller.placeholder.keyStore' | translate}}"
                                                     required
                                                     type="text">
                                              @if (keyStore.invalid && (keyStore.dirty || keyStore.touched)) {
                                                <div class="text-danger help-block">
                                                  @if (keyStore.errors.required) {
                                                    <div translate>
                                                      common.message.requiredError
                                                    </div>
                                                  }
                                                </div>
                                              }
                                            </div>
                                          </div>
                                          <div class="row m-t-sm">
                                            <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                              <label translate>deploymentService.controller.label.keyStorePassword
                                                <sup class="text-danger text-sm">*</sup>
                                              </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.keyStorePassword' | translate"
                                                          class="p-l-sm fa fa-info-circle"></i>
                                            </div>
                                            <div [ngClass]="{'has-error' : ((keyStorePassword.dirty || keyStorePassword.touched) && keyStorePassword.invalid)}"
                                                 class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                              <input #keyStorePassword="ngModel" (blur)="convertJSON()" [(ngModel)]="item.configuration.certificates.keyStorePassword"
                                                     [readOnly]="isTrash"
                                                     autocomplete="off" class="form-control" id="ckeyStorePassword{{i}}{{j}}"
                                                     name="ckeyStorePassword{{i}}{{j}}"
                                                     placeholder="{{'deploymentService.controller.placeholder.keyStorePassword' | translate}}"
                                                     required
                                                     type="text">
                                              @if (keyStorePassword.invalid && (keyStorePassword.dirty || keyStorePassword.touched)) {
                                                <div class="text-danger help-block">
                                                  @if (keyStorePassword.errors.required) {
                                                    <div translate>
                                                      common.message.requiredError
                                                    </div>
                                                  }
                                                </div>
                                              }
                                            </div>
                                          </div>
                                          <div class="row m-t-sm">
                                            <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                              <label translate>deploymentService.controller.label.keyPassword
                                                <sup class="text-danger text-sm">*</sup>
                                              </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.keyPassword' | translate"
                                                          class="p-l-sm fa fa-info-circle"></i>
                                            </div>
                                            <div [ngClass]="{'has-error' : ((keyPassword.dirty || keyPassword.touched) && keyPassword.invalid)}"
                                                 class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                              <input #keyPassword="ngModel" (blur)="convertJSON()" [(ngModel)]="item.configuration.certificates.keyPassword"
                                                     [readOnly]="isTrash"
                                                     autocomplete="off"
                                                     class="form-control" id="ckeyPassword{{i}}{{j}}" name="ckeyPassword{{i}}{{j}}"
                                                     placeholder="{{'deploymentService.controller.placeholder.keyPassword' | translate}}"
                                                     required
                                                     type="text">
                                              @if (keyPassword.invalid && (keyPassword.dirty || keyPassword.touched)) {
                                                <div class="text-danger help-block">
                                                  @if (keyPassword.errors.required) {
                                                    <div translate>
                                                      common.message.requiredError
                                                    </div>
                                                  }
                                                </div>
                                              }
                                            </div>
                                          </div>
                                          @if (item.isMoreKeyFileDetail) {
                                            <div class="row m-t-sm">
                                              <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                                <label translate>deploymentService.controller.label.keyAlias
                                                </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.keyAlias' | translate"
                                                            class="p-l-sm fa fa-info-circle"></i>
                                              </div>
                                              <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                                <input (blur)="convertJSON()" [(ngModel)]="item.configuration.certificates.keyAlias" [readOnly]="isTrash" autocomplete="off"
                                                       class="form-control"
                                                       name="ckeyAlias{{i}}{{j}}"
                                                       placeholder="{{'deploymentService.controller.placeholder.keyAlias' | translate}}"
                                                       type="text">
                                              </div>
                                            </div>
                                          }
                                          <div class="row m-t-sm">
                                            <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                              <label translate>deploymentService.controller.label.trustStore
                                                <sup class="text-danger text-sm">*</sup>
                                              </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.trustStore' | translate"
                                                          class="p-l-sm fa fa-info-circle"></i>
                                            </div>
                                            <div [ngClass]="{'has-error' : ((trustStore.dirty || trustStore.touched) && trustStore.invalid)}"
                                                 class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                              <input #trustStore="ngModel" (blur)="convertJSON()" [(ngModel)]="item.configuration.certificates.trustStore"
                                                     [readOnly]="isTrash"
                                                     autocomplete="off"
                                                     class="form-control" id="ctrustStore{{i}}{{j}}" name="ctrustStore{{i}}{{j}}"
                                                     placeholder="{{'deploymentService.controller.placeholder.trustStore' | translate}}"
                                                     required
                                                     type="text">
                                              @if (trustStore.invalid && (trustStore.dirty || trustStore.touched)) {
                                                <div class="text-danger help-block">
                                                  @if (trustStore.errors.required) {
                                                    <div translate>
                                                      common.message.requiredError
                                                    </div>
                                                  }
                                                </div>
                                              }
                                            </div>
                                          </div>
                                          <div class="row m-t-sm">
                                            <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                              <label translate>deploymentService.controller.label.trustStorePassword
                                                <sup class="text-danger text-sm">*</sup>
                                              </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.trustStorePassword' | translate"
                                                          class="p-l-sm fa fa-info-circle"></i>
                                            </div>
                                            <div [ngClass]="{'has-error' : ((trustStorePassword.dirty || trustStorePassword.touched) && trustStorePassword.invalid)}"
                                                 class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                              <input #trustStorePassword="ngModel" (blur)="convertJSON()" [(ngModel)]="item.configuration.certificates.trustStorePassword"
                                                     [readOnly]="isTrash"
                                                     autocomplete="off" class="form-control" id="ctrustStorePassword{{i}}{{j}}"
                                                     name="ctrustStorePassword{{i}}{{j}}"
                                                     placeholder="{{'deploymentService.controller.placeholder.trustStorePassword' | translate}}"
                                                     required
                                                     type="text">
                                              @if (trustStorePassword.invalid && (trustStorePassword.dirty || trustStorePassword.touched)) {
                                                <div class="text-danger help-block">
                                                  @if (trustStorePassword.errors.required) {
                                                    <div translate>
                                                      common.message.requiredError
                                                    </div>
                                                  }
                                                </div>
                                              }
                                            </div>
                                          </div>
                                          <div class="row m-t-sm">
                                            <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                              <label translate>deploymentService.controller.label.controllerCert
                                              </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.controllerCert' | translate"
                                                          class="p-l-sm fa fa-info-circle"></i>
                                            </div>
                                            <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                              <input (blur)="convertJSON()" [(ngModel)]="item.configuration.certificates.cert" [readOnly]="isTrash"
                                                     autocomplete="off"
                                                     class="form-control"
                                                     id="controllerCert{{i}}{{j}}"
                                                     name="controllerCert{{i}}{{j}}"
                                                     placeholder="{{'deploymentService.controller.placeholder.controllerCert' | translate}}" type="text">

                                            </div>
                                          </div>
                                        </div>
                                        @for (temp of item.configuration.templates; track $index; let k = $index) {
                                          <div class="row m-t-12">
                                            <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                              @if (k == 0) {
                                                <label translate>deploymentService.controller.label.templates
                                                </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.controller.tooltip.templates' | translate"
                                                            class="p-l-sm fa fa-info-circle"></i>
                                              }
                                            </div>
                                            <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                              <input (blur)="convertJSON()" [(ngModel)]="temp.name" [readOnly]="isTrash" autocomplete="off"
                                                     class="form-control"
                                                     name="ctemplates{{i}}{{j}}{{k}}"
                                                     placeholder="{{'deploymentService.controller.placeholder.templates' | translate}}"
                                                     type="text">
                                              <i (click)="addTemplates(item.configuration.templates)"
                                                 class="fa fa-plus pos-abt t-10 text-hover-primary" style="right: -10px;"></i>
                                              @if (k != 0) {
                                                <i (click)="removeTemplates(item.configuration.templates, k)"
                                                   class="fa fa-times pos-abt t-10 text-hover-color cursor"
                                                   style="right: -28px;"></i>
                                              }
                                            </div>
                                          </div>
                                        }
                                      </div>
                                    }
                                    <div class="m-t-sm" style="margin-bottom: -8px;">
                                      @if (item.isMoreKeyFileDetail) {
                                        <a (click)="item.isMoreKeyFileDetail = false"
                                           class="text-primary text-hover-primary"
                                           translate>deploymentService.button.hideMoreOption</a>
                                      }
                                      @if (!item.isMoreKeyFileDetail) {
                                        <a (click)="item.isMoreKeyFileDetail = true"
                                           class="text-primary text-hover-primary"
                                           translate>deploymentService.button.showMoreOption</a>
                                      }
                                    </div>
                                  </div>
                                </div>
                              }
                              @if (controller.cluster.length == 1) {
                                <div class="m-t-12">
                                  <a (click)="addSecondaryController(controller.cluster)"
                                     class="text-primary text-hover-primary"
                                     translate>deploymentService.controller.button.addSecondaryController</a>
                                </div>
                              }
                            </div>
                          </div>
                        }
                        <div class="m-t-12">
                          <a (click)="addController()" class="text-primary text-hover-primary"
                             translate>deploymentService.controller.button.addAnotherController</a>
                        </div>
                      </div>
                      <hr>
                    </div>
                  }

                  @if (data.joc?.length > 0) {
                    <div class="p-l-sm ">
                      <h5 class="p-l-sm hover-icon" translate>deploymentService.label.joc
                        <i (click)="obj.isJOCExpanded = !obj.isJOCExpanded"
                           [ngClass]="{'fa-caret-up': obj.isJOCExpanded}"
                           class="fa fa-caret-down p-l-xs text-hover-primary"></i>
                        <a (click)="toggleNode('joc');" [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'common.tooltip.expandAll' | translate"
                           class="m-l-sm fa-icon">
                          <i class="fa fa-angle-double-down"></i>
                        </a>
                        <a (click)="toggleNode('joc', false);" [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'common.tooltip.collapseAll' | translate"
                           class="m-l-xs fa-icon">
                          <i class="fa fa-angle-double-up"></i>
                        </a>
                        <i (click)="removeJOC()"
                           class="fa fa-trash fa-icon pull-right text-hover-color p-r-sm text-16 cursor"></i>
                      </h5>
                      <div [ngClass]="{'fade-in show': obj.isJOCExpanded}" class="m-l-md hide">
                        @for (jocC of data.joc; track jocC.members.clusterId; let i = $index) {
                          <div>
                            <h6 class="m-t-12 hover-icon">
                              @if (jocC.members.clusterId) {
                                <label [nzChecked]="object.setOfCheckedId.has(jocC.members.clusterId + '__JOC')"
                                       class="m-r-sm" (nzCheckedChange)="onItemChecked(jocC.members.clusterId, $event, '__JOC')"
                                       nz-checkbox></label>
                              }
                              {{jocC.members.clusterId || 'Cluster_ID_' + (i + 1)}}
                              <i (click)="jocC.isJOCExpanded = !jocC.isJOCExpanded"
                                 [ngClass]="{'fa-caret-up': jocC.isJOCExpanded}"
                                 class="fa fa-caret-down p-l-xs text-hover-primary"></i>
                              <i (click)="removeJOC(i)"
                                 class="fa fa-trash fa-icon pull-right text-hover-color p-r-sm font14 cursor"
                                 nz-tooltip="{{'deploymentService.joc.button.removeJoc' | translate}}"></i>
                            </h6>
                            <div [ngClass]="{'fade-in show': jocC.isJOCExpanded}" class="p-a b-a hide">
                              <div class="row">
                                <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                  <label translate>deploymentService.joc.label.jocClusterId
                                    <sup class="text-danger text-sm">*</sup>
                                  </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.jocClusterId' | translate"
                                              class="p-l-sm fa fa-info-circle"></i>
                                </div>
                                <div [ngClass]="{'has-error' : ((clusterId.dirty || clusterId.touched) && clusterId.invalid)}"
                                     class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-36">
                                  <input #clusterId="ngModel" (blur)="convertJSON()" [(ngModel)]="jocC.members.clusterId" [readOnly]="isTrash"
                                         autocomplete="off"
                                         class="form-control"
                                         id="clusterId{{i}}" name="clusterId{{i}}"
                                         placeholder="{{'deploymentService.joc.placeholder.jocClusterId' | translate}}"
                                         required type="text">
                                  @if (clusterId.invalid && (clusterId.dirty || clusterId.touched)) {
                                    <div class="text-danger help-block">
                                      @if (clusterId.errors.required) {
                                        <div translate>
                                          common.message.requiredError
                                        </div>
                                      }
                                    </div>
                                  }
                                </div>
                              </div>
                              @for (item of jocC.members.instances; track item.instanceId; let j = $index) {
                                <div [ngClass]="{'b-t m-t': j != 0}">
                                  <h6 class="m-t-12 hover-icon">
                                    @if (item.instanceId) {
                                      <label [nzChecked]="object.setOfCheckedId.has(item.instanceId + '__JOC')"
                                             class="m-r-sm" (nzCheckedChange)="onItemChecked(item.instanceId, $event, '__JOC')"
                                             nz-checkbox></label>
                                    }
                                    <span>{{item.instanceId || (j + 1)}}</span>
                                    <i (click)="item.isJOCPropertiesExpanded = !item.isJOCPropertiesExpanded"
                                       [ngClass]="{'fa-caret-up': item.isJOCPropertiesExpanded}"
                                       class="fa fa-caret-down p-l-xs text-hover-primary"></i>
                                    <i (click)="removeSecondaryObj(jocC.members.instances, j)"
                                       class="fa fa-times fa-icon pull-right text-hover-color p-r-sm font14 cursor"
                                       nz-tooltip="{{'deploymentService.joc.button.removeSecondaryJOC' | translate}}"></i>
                                    <i (click)="paste('joc', 'instance', i, j)"
                                       [ngClass]="{'disable-link' : !copiedObject}" class="fa fa-paste fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                       nz-tooltip="{{'deploymentService.button.paste' | translate}}"></i>
                                    <i (click)="copy('joc', 'instance', i, j)"
                                       class="fa fa-copy fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                       nz-tooltip="{{'deploymentService.button.copy' | translate}}"></i>
                                  </h6>
                                  <div [ngClass]="{'fade-in show': item.isJOCPropertiesExpanded}" class="p-a b-a hide">
                                    <div class="row">
                                      <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                        <label translate>deploymentService.joc.label.jocInstanceId
                                          <sup class="text-danger text-sm">*</sup>
                                        </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.jocInstanceId' | translate"
                                                    class="p-l-sm fa fa-info-circle"></i>
                                      </div>
                                      <div [ngClass]="{'has-error' : ((jocInstanceId.dirty || jocInstanceId.touched) && jocInstanceId.invalid)}"
                                           class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-28">
                                        <nz-input-number #jocInstanceId="ngModel" (nzBlur)="convertJSON()" [(ngModel)]="item.instanceId"
                                                         [nzMax]="99"
                                                         [nzMin]="1"
                                                         [nzReadOnly]="isTrash" [nzStep]="1" id="jocInstanceId{{i}}{{j}}" name="jocInstanceId{{i}}{{j}}"
                                                         nzPlaceHolder="{{'deploymentService.joc.placeholder.jocInstanceId' | translate}}"
                                                         required></nz-input-number>
                                        @if (jocInstanceId.invalid && (jocInstanceId.dirty || jocInstanceId.touched)) {
                                          <div class="text-danger help-block">
                                            @if (jocInstanceId.errors.required) {
                                              <div translate>
                                                common.message.requiredError
                                              </div>
                                            }
                                          </div>
                                        }
                                      </div>
                                    </div>
                                    <h6 class="m-t-12 hover-icon" translate>deploymentService.label.target
                                      <i (click)="paste('joc', 'target', i, j)"
                                         [ngClass]="{'disable-link' : !copiedObject || (copiedObject && copiedObject.objectType !== 'target' )}"
                                         class="fa fa-paste fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                         nz-tooltip="{{'deploymentService.button.paste' | translate}}"></i>
                                      <i (click)="copy('joc', 'target', i, j)"
                                         class="fa fa-copy fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                         nz-tooltip="{{'deploymentService.button.copy' | translate}}"></i>
                                    </h6>
                                    <div class="p-a b-a">
                                      <h6 translate>deploymentService.label.connection </h6>
                                      <div class="p-a b-a">
                                        <div class="row">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.joc.label.host
                                              <sup class="text-danger text-sm">*</sup>
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.host' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div [ngClass]="{'has-error' : ((host.dirty || host.touched) && host.invalid)}"
                                               class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                            <input #host="ngModel" (blur)="convertJSON()" [(ngModel)]="item.target.connection.host" [readOnly]="isTrash"
                                                   autocomplete="off"
                                                   class="form-control"
                                                   id="host{{i}}{{j}}" name="host{{i}}{{j}}" placeholder="{{'deploymentService.joc.placeholder.host' | translate}}"
                                                   required
                                                   type="text">
                                            @if (host.invalid && (host.dirty || host.touched)) {
                                              <div class="text-danger help-block">
                                                @if (host.errors.required) {
                                                  <div translate>
                                                    common.message.requiredError
                                                  </div>
                                                }
                                              </div>
                                            }
                                          </div>
                                        </div>

                                        @if (item.isMoreKeyFileDetail) {
                                          <div class="row m-t-sm">
                                            <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                              <label translate>deploymentService.joc.label.port
                                              </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.port' | translate"
                                                          class="p-l-sm fa fa-info-circle"></i>
                                            </div>
                                            <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                              <nz-input-number (nzBlur)="convertJSON()"
                                                               [(ngModel)]="item.target.connection.port"
                                                               [nzMin]="1" [nzReadOnly]="isTrash" [nzStep]="1"
                                                               name="port{{i}}{{j}}"
                                                               nzPlaceHolder="{{'deploymentService.joc.placeholder.port' | translate}}"></nz-input-number>
                                            </div>
                                          </div>
                                        }
                                      </div>
                                      <h6 class="m-t-12" translate>deploymentService.label.authentication </h6>
                                      <div class="p-a b-a">
                                        <div class="row">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.joc.label.method
                                              <sup class="text-danger text-sm">*</sup>
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.method' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                            <app-select-input (modelChange)="convertJSON()" [attributeName]="'method'" [isSelectDisabled]="isTrash"
                                                              [id]="'method' + i + j" [isRequired]="true"
                                                              [listArray]="methods" [name]="'method' + i + j"
                                                              [placeholder]="'deploymentService.joc.placeholder.method'"
                                                              [object]="item.target.authentication"></app-select-input>
                                          </div>
                                        </div>
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.joc.label.user
                                              <sup class="text-danger text-sm">*</sup>
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.user' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div [ngClass]="{'has-error' : ((user.dirty || user.touched) && user.invalid)}"
                                               class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                            <input #user="ngModel" (blur)="convertJSON()" [(ngModel)]="item.target.authentication.user" [readOnly]="isTrash"
                                                   autocomplete="off"
                                                   class="form-control"
                                                   id="user{{i}}{{j}}" name="user{{i}}{{j}}" placeholder="{{'deploymentService.joc.placeholder.user' | translate}}"
                                                   required
                                                   type="text">
                                            @if (user.invalid && (user.dirty || user.touched)) {
                                              <div class="text-danger help-block">
                                                @if (user.errors.required) {
                                                  <div translate>
                                                    common.message.requiredError
                                                  </div>
                                                }
                                              </div>
                                            }
                                          </div>
                                        </div>
                                        @if (item.isMoreKeyFileDetail) {
                                          <div class="row m-t-sm">
                                            <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                              <label translate>deploymentService.joc.label.keyFile

                                              </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.keyFile' | translate"
                                                          class="p-l-sm fa fa-info-circle"></i>
                                            </div>
                                            <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                              <input (blur)="convertJSON()" [(ngModel)]="item.target.authentication.keyFile" [readOnly]="isTrash" autocomplete="off"
                                                     class="form-control"
                                                     name="keyFile{{i}}{{j}}"
                                                     placeholder="{{'deploymentService.joc.placeholder.keyFile' | translate}}" type="text">
                                            </div>
                                          </div>
                                        }
                                      </div>
                                      <div class="row m-t-sm">
                                        <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                          <label translate>deploymentService.joc.label.packageLocation
                                            <sup class="text-danger text-sm">*</sup>
                                          </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.packageLocation' | translate"
                                                      class="p-l-sm fa fa-info-circle"></i>
                                        </div>
                                        <div [ngClass]="{'has-error' : ((packageLocation.dirty || packageLocation.touched) && packageLocation.invalid)}"
                                             class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                          <input #packageLocation="ngModel" (blur)="convertJSON()" [(ngModel)]="item.target.packageLocation"
                                                 [readOnly]="isTrash"
                                                 autocomplete="off"
                                                 class="form-control" id="packageLocation{{i}}{{j}}" name="packageLocation{{i}}{{j}}"
                                                 placeholder="{{'deploymentService.joc.placeholder.packageLocation' | translate}}"
                                                 required
                                                 type="text">
                                          @if (packageLocation.invalid && (packageLocation.dirty || packageLocation.touched)) {
                                            <div class="text-danger help-block">
                                              @if (packageLocation.errors.required) {
                                                <div translate>
                                                  common.message.requiredError
                                                </div>
                                              }
                                            </div>
                                          }
                                        </div>
                                      </div>
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.joc.label.execPre
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.execPre' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.target.execPre" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="execPre{{i}}{{j}}"
                                                   placeholder="{{'deploymentService.joc.placeholder.execPre' | translate}}" type="text">
                                          </div>
                                        </div>
                                      }
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.joc.label.execPost
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.execPost' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.target.execPost" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="execPost{{i}}{{j}}"
                                                   placeholder="{{'deploymentService.joc.placeholder.execPost' | translate}}" type="text">
                                          </div>
                                        </div>
                                      }
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3">
                                            <label translate>deploymentService.joc.label.makeService
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.makeService' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <label (ngModelChange)="convertJSON()" [(ngModel)]="item.target.makeService"
                                                   name="makeService{{i}}{{j}}"
                                                   nz-checkbox></label>
                                          </div>
                                        </div>
                                      }
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3">
                                            <label translate>deploymentService.joc.label.forceSudo
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.forceSudo' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <label (ngModelChange)="convertJSON()" [(ngModel)]="item.target.forceSudo" name="forceSudo{{i}}{{j}}"
                                                   nz-checkbox></label>
                                          </div>
                                        </div>
                                      }
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.joc.label.serviceName
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.serviceName' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.target.serviceName" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="serviceName{{i}}{{j}}"
                                                   placeholder="{{'deploymentService.joc.placeholder.serviceName' | translate}}" type="text">

                                          </div>
                                        </div>
                                      }
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.joc.label.serviceDir
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.serviceDir' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.target.serviceDir" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="serviceDir{{i}}{{j}}"
                                                   placeholder="{{'deploymentService.joc.placeholder.serviceDir' | translate}}" type="text">

                                          </div>
                                        </div>
                                      }
                                    </div>
                                    <h6 class="m-t-12 hover-icon" translate>
                                      deploymentService.label.media
                                      <i (click)="paste('joc', 'media', i, j)"
                                         [ngClass]="{'disable-link' : !copiedObject || (copiedObject && copiedObject.objectType !== 'media' )}"
                                         class="fa fa-paste fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                         nz-tooltip="{{'deploymentService.button.paste' | translate}}"></i>
                                      <i (click)="copy('joc', 'media', i, j)"
                                         class="fa fa-copy fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                         nz-tooltip="{{'deploymentService.button.copy' | translate}}"></i>
                                    </h6>
                                    <div class="p-a b-a">
                                      <div class="row">
                                        <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                          <label translate>deploymentService.joc.label.release
                                            <sup class="text-danger text-sm">*</sup>
                                          </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.release' | translate"
                                                      class="p-l-sm fa fa-info-circle"></i>
                                        </div>
                                        <div [ngClass]="{'has-error' : ((release.dirty || release.touched) && release.invalid)}"
                                             class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                          <input #release="ngModel" (blur)="convertJSON()" [(ngModel)]="item.media.release" [readOnly]="isTrash"
                                                 autocomplete="off"
                                                 class="form-control" id="release{{i}}{{j}}" name="release{{i}}{{j}}" placeholder="{{'deploymentService.joc.placeholder.release' | translate}}"
                                                 required
                                                 type="text">
                                          @if (release.invalid && (release.dirty || release.touched)) {
                                            <div class="text-danger help-block">
                                              @if (release.errors.required) {
                                                <div translate>
                                                  common.message.requiredError
                                                </div>
                                              }
                                            </div>
                                          }
                                        </div>
                                      </div>
                                      <div class="row m-t-sm">
                                        <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                          <label translate>deploymentService.joc.label.tarball
                                            <sup class="text-danger text-sm">*</sup>
                                          </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.tarball' | translate"
                                                      class="p-l-sm fa fa-info-circle"></i>
                                        </div>
                                        <div [ngClass]="{'has-error' : ((tarball.dirty || tarball.touched) && tarball.invalid)}"
                                             class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                          <input #tarball="ngModel" (blur)="convertJSON()" [(ngModel)]="item.media.tarball" [readOnly]="isTrash"
                                                 autocomplete="off"
                                                 class="form-control" id="tarball{{i}}{{j}}" name="tarball{{i}}{{j}}" placeholder="{{'deploymentService.joc.placeholder.tarball' | translate}}"
                                                 required
                                                 type="text">
                                          @if (tarball.invalid && (tarball.dirty || tarball.touched)) {
                                            <div class="text-danger help-block">
                                              @if (tarball.errors.required) {
                                                <div translate>
                                                  common.message.requiredError
                                                </div>
                                              }
                                            </div>
                                          }
                                        </div>
                                      </div>
                                    </div>
                                    <h6 class="m-t-12 hover-icon" translate>deploymentService.label.installation
                                      <i (click)="paste('joc', 'installation', i, j)"
                                         [ngClass]="{'disable-link' : !copiedObject || (copiedObject && copiedObject.objectType !== 'installation' )}"
                                         class="fa fa-paste fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                         nz-tooltip="{{'deploymentService.button.paste' | translate}}"></i>
                                      <i (click)="copy('joc', 'installation', i, j)"
                                         class="fa fa-copy fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                         nz-tooltip="{{'deploymentService.button.copy' | translate}}"></i>
                                    </h6>
                                    <div class="p-a b-a">
                                      <div class="row">
                                        <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                          <label translate>deploymentService.joc.label.setupDir
                                          </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.setupDir' | translate"
                                                      class="p-l-sm fa fa-info-circle"></i>
                                        </div>
                                        <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                          <input #setupDir="ngModel" (blur)="convertJSON()" [(ngModel)]="item.installation.setupDir" [readOnly]="isTrash"
                                                 autocomplete="off"
                                                 class="form-control" id="setupDir{{i}}{{j}}" name="setupDir{{i}}{{j}}"
                                                 placeholder="{{'deploymentService.joc.placeholder.setupDir' | translate}}"
                                                 type="text">
                                        </div>
                                      </div>
                                      <div class="row m-t-sm">
                                        <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                          <label translate>deploymentService.joc.label.home
                                            <sup class="text-danger text-sm">*</sup>
                                          </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.home' | translate"
                                                      class="p-l-sm fa fa-info-circle"></i>
                                        </div>
                                        <div [ngClass]="{'has-error' : ((home.dirty || home.touched) && home.invalid)}"
                                             class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                          <input #home="ngModel" (blur)="convertJSON()" [(ngModel)]="item.installation.home" [readOnly]="isTrash"
                                                 autocomplete="off"
                                                 class="form-control"
                                                 id="home{{i}}{{j}}" name="home{{i}}{{j}}"
                                                 placeholder="{{'deploymentService.joc.placeholder.home' | translate}}"
                                                 required type="text">
                                          @if (home.invalid && (home.dirty || home.touched)) {
                                            <div class="text-danger help-block">
                                              @if (home.errors.required) {
                                                <div translate>
                                                  common.message.requiredError
                                                </div>
                                              }
                                            </div>
                                          }
                                        </div>
                                      </div>
                                      <div class="row m-t-sm">
                                        <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                          <label translate>deploymentService.joc.label.data
                                            <sup class="text-danger text-sm">*</sup>
                                          </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.data' | translate"
                                                      class="p-l-sm fa fa-info-circle"></i>
                                        </div>
                                        <div [ngClass]="{'has-error' : ((jocData.dirty || jocData.touched) && jocData.invalid)}"
                                             class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                          <input #jocData="ngModel" (blur)="convertJSON()" [(ngModel)]="item.installation.data" [readOnly]="isTrash"
                                                 autocomplete="off"
                                                 class="form-control"
                                                 id="data{{i}}{{j}}" name="data{{i}}{{j}}"
                                                 placeholder="{{'deploymentService.joc.placeholder.data' | translate}}"
                                                 required type="text">
                                          @if (jocData.invalid && (jocData.dirty || jocData.touched)) {
                                            <div class="text-danger help-block">
                                              @if (jocData.errors.required) {
                                                <div translate>
                                                  common.message.requiredError
                                                </div>
                                              }
                                            </div>
                                          }
                                        </div>
                                      </div>
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.joc.label.homeOwner

                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.homeOwner' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.installation.homeOwner" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="homeOwner{{i}}{{j}}"
                                                   placeholder="{{'deploymentService.joc.placeholder.homeOwner' | translate}}"
                                                   type="text">
                                          </div>
                                        </div>
                                      }

                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.joc.label.dataOwner

                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.dataOwner' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.installation.dataOwner" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="dataOwner{{i}}{{j}}"
                                                   placeholder="{{'deploymentService.joc.placeholder.dataOwner' | translate}}"
                                                   type="text">
                                          </div>
                                        </div>
                                      }

                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.joc.label.runUser

                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.runUser' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.installation.runUser" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="runUser{{i}}{{j}}"
                                                   placeholder="{{'deploymentService.joc.placeholder.runUser' | translate}}"
                                                   type="text">
                                          </div>
                                        </div>
                                      }
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.joc.label.title

                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.title' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.installation.title" [maxlength]="30" [readOnly]="isTrash"
                                                   autocomplete="off"
                                                   class="form-control" name="title{{i}}{{j}}"
                                                   placeholder="{{'deploymentService.joc.placeholder.title' | translate}}"
                                                   type="text">
                                          </div>
                                        </div>
                                      }
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.joc.label.securityLevel

                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.securityLevel' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <app-select-input (modelChange)="convertJSON()" [attributeName]="'securityLevel'"
                                                              [isSelectDisabled]="isTrash"
                                                              [listArray]="securityLevel" [name]="'securityLevel' + i + j"
                                                              [object]="item.installation"></app-select-input>
                                          </div>
                                        </div>
                                      }
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.joc.label.dbmsConfig

                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.dbmsConfig' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.installation.dbmsConfig" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="dbmsConfig{{i}}{{j}}"
                                                   placeholder="{{'deploymentService.joc.placeholder.dbmsConfig' | translate}}"
                                                   type="text">
                                          </div>
                                        </div>
                                      }
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.joc.label.dbmsDriver
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.dbmsDriver' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.installation.dbmsDriver" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="dbmsDriver{{i}}{{j}}"
                                                   placeholder="{{'deploymentService.joc.placeholder.dbmsDriver' | translate}}"
                                                   type="text">
                                          </div>
                                        </div>
                                      }
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.joc.label.dbmsInit

                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.dbmsInit' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <app-select-input (modelChange)="convertJSON()" [attributeName]="'dbmsInit'" [isSelectDisabled]="isTrash"
                                                              [id]="'dbmsInit' + i + j" [isRequired]="true"
                                                              [listArray]="methods" [name]="'dbmsInit' + i + j"
                                                              [object]="item.installation"></app-select-input>
                                          </div>
                                        </div>
                                      }

                                      <div class="row m-t-sm">
                                        <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                          <label translate>deploymentService.joc.label.httpPort
                                            @if (!item.installation.httpsPort) {
                                              <sup class="text-danger text-sm">*</sup>
                                            }
                                          </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.httpPort' | translate"
                                                      class="p-l-sm fa fa-info-circle"></i>
                                        </div>
                                        <div [ngClass]="{'has-error' : ((httpPort.dirty || httpPort.touched) && httpPort.invalid)}"
                                             class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                          <input #httpPort="ngModel" (blur)="convertJSON()" [(ngModel)]="item.installation.httpPort" [readOnly]="isTrash"
                                                 [required]="!item.installation.httpsPort"
                                                 autocomplete="off" class="form-control"
                                                 id="httpPort{{i}}{{j}}"
                                                 name="httpPort{{i}}{{j}}"
                                                 placeholder="{{'deploymentService.joc.placeholder.httpPort' | translate}}"
                                                 type="text">
                                          @if (httpPort.invalid && (httpPort.dirty || httpPort.touched)) {
                                            <div class="text-danger help-block">
                                              @if (httpPort.errors.required) {
                                                <div translate>
                                                  common.message.requiredError
                                                </div>
                                              }
                                            </div>
                                          }
                                        </div>
                                      </div>

                                      <div class="row m-t-sm">
                                        <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                          <label translate>deploymentService.joc.label.httpsPort
                                            @if (!item.installation.httpPort) {
                                              <sup class="text-danger text-sm">*</sup>
                                            }
                                          </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.httpsPort' | translate"
                                                      class="p-l-sm fa fa-info-circle"></i>
                                        </div>
                                        <div [ngClass]="{'has-error' : ((httpsPort.dirty || httpsPort.touched) && httpsPort.invalid)}"
                                             class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                          <input #httpsPort="ngModel" (blur)="convertJSON()" [(ngModel)]="item.installation.httpsPort" [readOnly]="isTrash"
                                                 [required]="!item.installation.httpPort"
                                                 autocomplete="off" class="form-control"
                                                 id="httpsPort{{i}}{{j}}"
                                                 name="httpsPort{{i}}{{j}}"
                                                 placeholder="{{'deploymentService.joc.placeholder.httpsPort' | translate}}"
                                                 type="text">
                                          @if (httpsPort.invalid && (httpsPort.dirty || httpsPort.touched)) {
                                            <div class="text-danger help-block">
                                              @if (httpsPort.errors.required) {
                                                <div translate>
                                                  common.message.requiredError
                                                </div>
                                              }
                                            </div>
                                          }
                                        </div>
                                      </div>
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3">
                                            <label translate>deploymentService.joc.label.javaHome
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.javaHome' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.installation.javaHome" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="javaHome{{i}}{{j}}"
                                                   placeholder="{{'deploymentService.joc.placeholder.javaHome' | translate}}"
                                                   type="text">
                                          </div>
                                        </div>
                                      }
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3">
                                            <label translate>deploymentService.joc.label.javaOptions
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.javaOptions' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.installation.javaOptions" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="javaOptions{{i}}{{j}}"
                                                   placeholder="{{'deploymentService.joc.placeholder.javaOptions' | translate}}"
                                                   type="text">
                                          </div>
                                        </div>
                                      }
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3">
                                            <label translate>deploymentService.joc.label.isUser
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.isUser' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <label (ngModelChange)="convertJSON()" [(ngModel)]="item.installation.isUser"
                                                   name="isUser{{i}}{{j}}"
                                                   nz-checkbox></label>
                                          </div>
                                        </div>
                                      }
                                      @if (item.isMoreKeyFileDetail) {
                                        <div class="row m-t-sm">
                                          <div class="col-md-4 col-lg-3 col-xl-3">
                                            <label translate>deploymentService.joc.label.isPreserveEnv
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.isPreserveEnv' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <label (ngModelChange)="convertJSON()" [(ngModel)]="item.installation.isPreserveEnv"
                                                   name="isPreserveEnv{{i}}{{j}}"
                                                   nz-checkbox></label>
                                          </div>
                                        </div>
                                      }
                                    </div>
                                    @if (item.isMoreKeyFileDetail) {
                                      <h6 class="m-t-12 hover-icon" translate>deploymentService.label.configuration
                                        <i (click)="paste('joc', 'configuration', i, j)"
                                           [ngClass]="{'disable-link' : !copiedObject || (copiedObject && copiedObject.objectType !== 'configuration' )}"
                                           class="fa fa-paste fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                           nz-tooltip="{{'deploymentService.button.paste' | translate}}"></i>
                                        <i (click)="copy('joc', 'configuration', i, j)"
                                           class="fa fa-copy fa-icon pull-right primary-text-hover-color p-r-sm font14 cursor"
                                           nz-tooltip="{{'deploymentService.button.copy' | translate}}"></i>
                                      </h6>
                                      <div class="p-a b-a">
                                        <div class="row">
                                          <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                            <label translate>deploymentService.joc.label.responseDir
                                            </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.responseDir' | translate"
                                                        class="p-l-sm fa fa-info-circle"></i>
                                          </div>
                                          <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                            <input (blur)="convertJSON()" [(ngModel)]="item.configuration.responseDir" [readOnly]="isTrash" autocomplete="off"
                                                   class="form-control"
                                                   name="responseDir{{i}}{{j}}"
                                                   placeholder="{{'deploymentService.joc.placeholder.responseDir' | translate}}"
                                                   type="text">
                                          </div>
                                        </div>
                                        <h6 class="m-t-12" translate>deploymentService.label.certificates </h6>
                                        <div class="p-a b-a">
                                          <div class="row">
                                            <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                              <label translate>deploymentService.joc.label.keyStore
                                                <sup class="text-danger text-sm">*</sup>
                                              </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.keyStore' | translate"
                                                          class="p-l-sm fa fa-info-circle"></i>
                                            </div>
                                            <div [ngClass]="{'has-error' : ((keyStore.dirty || keyStore.touched) && keyStore.invalid)}"
                                                 class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                              <input #keyStore="ngModel" (blur)="convertJSON()" [(ngModel)]="item.configuration.certificates.keyStore" [readOnly]="isTrash"
                                                     autocomplete="off"
                                                     class="form-control"
                                                     id="keyStore{{i}}{{j}}" name="keyStore{{i}}{{j}}" placeholder="{{'deploymentService.joc.placeholder.keyStore' | translate}}"
                                                     required
                                                     type="text">
                                              @if (keyStore.invalid && (keyStore.dirty || keyStore.touched)) {
                                                <div class="text-danger help-block">
                                                  @if (keyStore.errors.required) {
                                                    <div translate>
                                                      common.message.requiredError
                                                    </div>
                                                  }
                                                </div>
                                              }
                                            </div>
                                          </div>
                                          <div class="row m-t-sm">
                                            <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                              <label translate>deploymentService.joc.label.keyStorePassword
                                                <sup class="text-danger text-sm">*</sup>
                                              </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.keyStorePassword' | translate"
                                                          class="p-l-sm fa fa-info-circle"></i>
                                            </div>
                                            <div [ngClass]="{'has-error' : ((keyStorePassword.dirty || keyStorePassword.touched) && keyStorePassword.invalid)}"
                                                 class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                              <input #keyStorePassword="ngModel" (blur)="convertJSON()" [(ngModel)]="item.configuration.certificates.keyStorePassword"
                                                     [readOnly]="isTrash"
                                                     autocomplete="off" class="form-control" id="keyStorePassword{{i}}{{j}}"
                                                     name="keyStorePassword{{i}}{{j}}"
                                                     placeholder="{{'deploymentService.joc.placeholder.keyStorePassword' | translate}}"
                                                     required
                                                     type="text">
                                              @if (keyStorePassword.invalid && (keyStorePassword.dirty || keyStorePassword.touched)) {
                                                <div class="text-danger help-block">
                                                  @if (keyStorePassword.errors.required) {
                                                    <div translate>
                                                      common.message.requiredError
                                                    </div>
                                                  }
                                                </div>
                                              }
                                            </div>
                                          </div>
                                          <div class="row m-t-sm">
                                            <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                              <label translate>deploymentService.joc.label.keyPassword
                                                <sup class="text-danger text-sm">*</sup>
                                              </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.keyPassword' | translate"
                                                          class="p-l-sm fa fa-info-circle"></i>
                                            </div>
                                            <div [ngClass]="{'has-error' : ((keyPassword.dirty || keyPassword.touched) && keyPassword.invalid)}"
                                                 class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                              <input #keyPassword="ngModel" (blur)="convertJSON()" [(ngModel)]="item.configuration.certificates.keyPassword"
                                                     [readOnly]="isTrash"
                                                     autocomplete="off"
                                                     class="form-control" id="keyPassword{{i}}{{j}}" name="keyPassword{{i}}{{j}}"
                                                     placeholder="{{'deploymentService.joc.placeholder.keyPassword' | translate}}"
                                                     required
                                                     type="text">
                                              @if (keyPassword.invalid && (keyPassword.dirty || keyPassword.touched)) {
                                                <div class="text-danger help-block">
                                                  @if (keyPassword.errors.required) {
                                                    <div translate>
                                                      common.message.requiredError
                                                    </div>
                                                  }
                                                </div>
                                              }
                                            </div>
                                          </div>
                                          @if (item.isMoreKeyFileDetail) {
                                            <div class="row m-t-sm">
                                              <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                                <label translate>deploymentService.joc.label.keyAlias
                                                </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.keyAlias' | translate"
                                                            class="p-l-sm fa fa-info-circle"></i>
                                              </div>
                                              <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                                <input (blur)="convertJSON()" [(ngModel)]="item.configuration.certificates.keyAlias" [readOnly]="isTrash" autocomplete="off"
                                                       class="form-control"
                                                       name="keyAlias{{i}}{{j}}"
                                                       placeholder="{{'deploymentService.joc.placeholder.keyAlias' | translate}}"
                                                       type="text">
                                              </div>
                                            </div>
                                          }
                                          <div class="row m-t-sm">
                                            <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                              <label translate>deploymentService.joc.label.trustStore
                                                <sup class="text-danger text-sm">*</sup>
                                              </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.trustStore' | translate"
                                                          class="p-l-sm fa fa-info-circle"></i>
                                            </div>
                                            <div [ngClass]="{'has-error' : ((trustStore.dirty || trustStore.touched) && trustStore.invalid)}"
                                                 class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                              <input #trustStore="ngModel" (blur)="convertJSON()" [(ngModel)]="item.configuration.certificates.trustStore"
                                                     [readOnly]="isTrash"
                                                     autocomplete="off"
                                                     class="form-control" id="trustStore{{i}}{{j}}" name="trustStore{{i}}{{j}}"
                                                     placeholder="{{'deploymentService.joc.placeholder.trustStore' | translate}}"
                                                     required
                                                     type="text">
                                              @if (trustStore.invalid && (trustStore.dirty || trustStore.touched)) {
                                                <div class="text-danger help-block">
                                                  @if (trustStore.errors.required) {
                                                    <div translate>
                                                      common.message.requiredError
                                                    </div>
                                                  }
                                                </div>
                                              }
                                            </div>
                                          </div>
                                          <div class="row m-t-sm">
                                            <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                              <label translate>deploymentService.joc.label.trustStorePassword
                                                <sup class="text-danger text-sm">*</sup>
                                              </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.trustStorePassword' | translate"
                                                          class="p-l-sm fa fa-info-circle"></i>
                                            </div>
                                            <div [ngClass]="{'has-error' : ((trustStorePassword.dirty || trustStorePassword.touched) && trustStorePassword.invalid)}"
                                                 class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                              <input #trustStorePassword="ngModel" (blur)="convertJSON()" [(ngModel)]="item.configuration.certificates.trustStorePassword"
                                                     [readOnly]="isTrash"
                                                     autocomplete="off" class="form-control" id="trustStorePassword{{i}}{{j}}"
                                                     name="trustStorePassword{{i}}{{j}}"
                                                     placeholder="{{'deploymentService.joc.placeholder.trustStorePassword' | translate}}"
                                                     required
                                                     type="text">
                                              @if (trustStorePassword.invalid && (trustStorePassword.dirty || trustStorePassword.touched)) {
                                                <div class="text-danger help-block">
                                                  @if (trustStorePassword.errors.required) {
                                                    <div translate>
                                                      common.message.requiredError
                                                    </div>
                                                  }
                                                </div>
                                              }
                                            </div>
                                          </div>
                                          <div class="row m-t-sm">
                                            <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                              <label translate>deploymentService.joc.label.jocCert</label> <i
                                              [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.jocCert' | translate"
                                              class="p-l-sm fa fa-info-circle"></i>
                                            </div>
                                            <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                              <input (blur)="convertJSON()" [(ngModel)]="item.configuration.certificates.cert" [readOnly]="isTrash" autocomplete="off"
                                                     class="form-control"
                                                     id="jocCert{{i}}{{j}}"
                                                     name="jocCert{{i}}{{j}}"
                                                     placeholder="{{'deploymentService.joc.placeholder.jocCert' | translate}}" type="text">
                                            </div>
                                          </div>
                                        </div>
                                        <h6 class="m-t-12" translate>deploymentService.label.startFiles </h6>
                                        <div class="p-a b-a">
                                          <div class="row">
                                            <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                              <label translate>deploymentService.joc.label.httpIni
                                              </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.httpIni' | translate"
                                                          class="p-l-sm fa fa-info-circle"></i>
                                            </div>
                                            <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                              <input (blur)="convertJSON()" [(ngModel)]="item.configuration.startFiles.httpIni" [readOnly]="isTrash" autocomplete="off"
                                                     class="form-control"
                                                     name="httpIni{{i}}{{j}}"
                                                     placeholder="{{'deploymentService.joc.placeholder.httpIni' | translate}}"
                                                     type="text">
                                            </div>
                                          </div>
                                          <div class="row m-t-sm">
                                            <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                              <label translate>deploymentService.joc.label.httpsIni

                                              </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.httpIni' | translate"
                                                          class="p-l-sm fa fa-info-circle"></i>
                                            </div>
                                            <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                              <input (blur)="convertJSON()" [(ngModel)]="item.configuration.startFiles.httpsIni" [readOnly]="isTrash" autocomplete="off"
                                                     class="form-control"
                                                     name="httpsIni{{i}}{{j}}"
                                                     placeholder="{{'deploymentService.joc.placeholder.httpsIni' | translate}}"
                                                     type="text">
                                            </div>
                                          </div>
                                          <div class="row m-t-sm">
                                            <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                              <label translate>deploymentService.joc.label.sslIni

                                              </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.sslIni' | translate"
                                                          class="p-l-sm fa fa-info-circle"></i>
                                            </div>
                                            <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 p-r-0">
                                              <input (blur)="convertJSON()" [(ngModel)]="item.configuration.startFiles.sslIni" [readOnly]="isTrash" autocomplete="off"
                                                     class="form-control"
                                                     name="sslIni{{i}}{{j}}"
                                                     placeholder="{{'deploymentService.joc.placeholder.sslIni' | translate}}"
                                                     type="text">
                                            </div>
                                          </div>
                                        </div>

                                        @for (temp of item.configuration.templates; track temp.name; let k = $index) {
                                          <div class="row m-t-12">
                                            <div class="col-md-4 col-lg-3 col-xl-3 form-control-label">
                                              @if (k == 0) {
                                                <label translate>deploymentService.joc.label.templates
                                                </label> <i [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'deploymentService.joc.tooltip.templates' | translate"
                                                            class="p-l-sm fa fa-info-circle"></i>
                                              }
                                            </div>
                                            <div class="col-md-6 col-lg-8 col-xl-8 col-xxl-6 pl-20">
                                              <input (blur)="convertJSON()" [(ngModel)]="temp.name" [readOnly]="isTrash" autocomplete="off"
                                                     class="form-control"
                                                     name="templates{{i}}{{j}}{{k}}"
                                                     placeholder="{{'deploymentService.joc.placeholder.templates' | translate}}"
                                                     type="text">
                                              <i (click)="addTemplates(item.configuration.templates)"
                                                 class="fa fa-plus pos-abt t-10 text-hover-primary" style="right: -10px;"></i>
                                              @if (k != 0) {
                                                <i (click)="removeTemplates(item.configuration.templates, k)"
                                                   class="fa fa-times pos-abt t-10 text-hover-color cursor"
                                                   style="right: -28px;"></i>
                                              }
                                            </div>
                                          </div>
                                        }
                                      </div>
                                    }
                                    <div class="m-t-sm" style="margin-bottom: -8px;">
                                      @if (item.isMoreKeyFileDetail) {
                                        <a (click)="item.isMoreKeyFileDetail = false"
                                           class="text-primary text-hover-primary"
                                           translate>deploymentService.button.hideMoreOption</a>
                                      }
                                      @if (!item.isMoreKeyFileDetail) {
                                        <a (click)="item.isMoreKeyFileDetail = true"
                                           class="text-primary text-hover-primary"
                                           translate>deploymentService.button.showMoreOption</a>
                                      }
                                    </div>
                                  </div>
                                </div>
                              }
                              <div class="m-t-12">
                                <a (click)="addAnotherJOCInstance(jocC.members)" class="text-primary text-hover-primary"
                                   translate>deploymentService.joc.button.addAnotherJOC</a>
                              </div>
                            </div>
                          </div>
                        }
                        <div class="m-t-12">
                          <a (click)="addAnotherJOCCluster()" class="text-primary text-hover-primary"
                             translate>deploymentService.joc.button.addAnotherJOCCluster</a>
                        </div>
                      </div>
                      <hr>
                    </div>
                  }
                </form>
              </div>

            }
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<nz-dropdown-menu #menu="nzDropdownMenu">
  @if (!isTrash && node?.origin && permission?.joc) {
    <ul nz-menu>
      @if (node.origin.children) {
        <li [nzTitle]="'inventory.button.new' | translate" nz-submenu>
          <ul>
            <li (click)="createFolder();" nz-menu-item>
              <a translate>inventory.button.newFolder</a>
            </li>
            <li (click)="addObject()" nz-menu-item>
              <a translate>deploymentService.button.newDescriptor</a>
            </li>
          </ul>
        </li>
      }
      @if (node.origin.children) {
        <li nz-menu-divider></li>
      }
      <li (click)="cutObject()" [nzDisabled]="node.origin.children && node.origin.path === '/'" nz-menu-item>
        <a translate>inventory.button.cut</a>
      </li>
      <li (click)="copyObject()" nz-menu-item>
        <a translate>inventory.button.copy</a>
      </li>
      @if (node.origin.children) {
        <li (click)="pasteObject()"
            [nzDisabled]="!copyObj || (node.origin.object && copyObj.type !== node.origin.object)"
            nz-menu-item>
          <a translate>inventory.button.paste</a>
        </li>
      }
      <li (click)="renameObject();" [nzDisabled]="node.origin.children && node.origin.path === '/'" nz-menu-item>
        <a translate>inventory.button.rename</a>
      </li>
      @if (permission.joc.inventory.manage) {
        <li nz-menu-divider></li>
      }
      @if (permission.joc.inventory.manage) {
        <li (click)="removeObject();" [nzDisabled]="node.origin.children && node.origin.path === '/'" nz-menu-item>
          <a translate>inventory.button.remove</a>
        </li>
      }
      @if (!node.origin.children) {
        <li nz-menu-divider></li>
      }
      @if (!node.origin.children) {
        <li (click)="editJson(false)" nz-menu-item>
          <a translate>inventory.button.showJSON</a>
        </li>
      }
      @if (!node.origin.children && permission.joc.inventory.manage) {
        <li (click)="editJson(true)" nz-menu-item>
          <a translate>inventory.button.editJSON</a>
        </li>
      }
      @if (!node.origin.children) {
        <li nz-menu-divider></li>
      }
      @if (!node.origin.children) {
        <li (click)="exportJSON()" nz-menu-item>
          <a translate>inventory.button.downloadJSON</a>
        </li>
      }
      @if (!node.origin.children && permission.joc.inventory.manage) {
        <li (click)="importJSON()" nz-menu-item>
          <a translate>inventory.button.uploadJSON</a>
        </li>
      }
    </ul>
  }
  @if (isTrash && node?.origin && permission.joc) {
    <ul nz-menu>
      @if (permission.joc.inventory.manage) {
        <li (click)="deletePermanently(node);" class="bg-hover-color" nz-menu-item>
          <a translate>inventory.button.delete</a>
        </li>
      }
      <li (click)="restoreObject(node);" nz-menu-item>
        <a translate>inventory.button.restore</a>
      </li>
    </ul>
  }
</nz-dropdown-menu>
@if (isLoading || loading) {
  <div class="spinner">
    <div class="cssload-inner cssload-one"></div>
    <div class="cssload-inner cssload-two"></div>
    <div class="cssload-inner cssload-three"></div>
  </div>
}
