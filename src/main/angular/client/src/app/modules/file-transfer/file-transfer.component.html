<div class="white box-shadow sub-header">
  <div class="row">
    <div class="col-md-12">
      <div class="padding">
        <div class="text-right ">
          <div class="pull-left">
            <app-breadcrumbs></app-breadcrumbs>
          </div>
          <div class="inline" [ngClass]="{'hide':object.mapOfCheckedId.size>0}">
            <div class="inline valign">
              <label nz-checkbox [(ngModel)]="yadeView.current" name="current" (ngModelChange)="changeController()">
                {{'common.label.currentController' | translate}}
              </label>
            </div>
            <div class="btn-group m-l-12 hidden-btn-group">
              <button [disabled]="savedFilter.selected" class="btn btn-grey btn-sm button-group-ellipsis"
                      (click)="loadYadeFiles('STATE','ALL')"
                      [ngClass]="{'btn-primary': yadeFilters.filter.states=='ALL'}" translate>common.button.allStatus
              </button>
              <button [disabled]="savedFilter.selected" class="btn btn-grey btn-sm button-group-ellipsis"
                      (click)="loadYadeFiles('STATE','SUCCESSFUL')"
                      [ngClass]="{'btn-primary': yadeFilters.filter.states=='SUCCESSFUL'}" translate>
                common.button.successful
              </button>
              <button [disabled]="savedFilter.selected" class="btn btn-grey btn-sm button-group-ellipsis"
                      (click)="loadYadeFiles('STATE','FAILED')"
                      [ngClass]="{'btn-primary': yadeFilters.filter.states=='FAILED'}" translate>common.button.failed
              </button>
              <button [disabled]="savedFilter.selected" class="btn btn-grey btn-sm button-group-ellipsis"
                      (click)="loadYadeFiles('STATE','INCOMPLETE')"
                      [ngClass]="{'btn-primary': yadeFilters.filter.states=='INCOMPLETE'}" translate>
                common.button.incomplete
              </button>
            </div>
            <div class="btn-group dropdown hidden-dropdown">
              <button class="btn btn-grey btn-sm m-l-12" nz-dropdown nzTrigger="click" [nzDropdownMenu]="state"
                      [nzPlacement]="'bottomRight'" type="button"
                      translate>common.label.state
                <i nz-icon nzType="caret-down" nzTheme="outline" class="caretDownIcon"></i>
              </button>
              <nz-dropdown-menu #state="nzDropdownMenu">
                <ul nz-menu>
                  <li nz-menu-item
                      [ngClass]="{'ant-select-dropdown-menu-item-active': yadeFilters.filter.states=='ALL', 'disable-link':savedFilter.selected}">
                    <a (click)="loadYadeFiles('STATE','ALL')"
                       translate>common.button.allStatus
                    </a>
                  </li>
                  <li nz-menu-item
                      [ngClass]="{'ant-select-dropdown-menu-item-active':yadeFilters.filter.states=='SUCCESSFUL', 'disable-link':savedFilter.selected}">
                    <a (click)="loadYadeFiles('STATE','SUCCESSFUL')"
                       translate>common.button.successful
                    </a>
                  </li>
                  <li nz-menu-item
                      [ngClass]="{'ant-select-dropdown-menu-item-active': yadeFilters.filter.states=='FAILED', 'disable-link':savedFilter.selected}">
                    <a (click)="loadYadeFiles('STATE','FAILED')"
                       translate>common.button.failed
                    </a>
                  </li>
                  <li nz-menu-item
                      [ngClass]="{'ant-select-dropdown-menu-item-active': yadeFilters.filter.states=='INCOMPLETE', 'disable-link':savedFilter.selected}">
                    <a (click)="loadYadeFiles('STATE','INCOMPLETE')"
                       translate>common.button.incomplete
                    </a>
                  </li>
                </ul>
              </nz-dropdown-menu>
            </div>
            <div class="btn-group m-l-12 hidden-btn-group">
              <button [disabled]="savedFilter.selected" class="btn btn-grey btn-sm button-group-ellipsis"
                      (click)="loadYadeFiles('DATE','all')"
                      [ngClass]="{'btn-primary': yadeFilters.filter.date=='all'}" translate>filters.button.all
              </button>
              <button [disabled]="savedFilter.selected" class="btn btn-grey btn-sm button-group-ellipsis"
                      (click)="loadYadeFiles('DATE','today')"
                      [ngClass]="{'btn-primary': yadeFilters.filter.date=='today'}" translate>filters.button.today
              </button>
              <button [disabled]="savedFilter.selected" class="btn btn-grey btn-sm button-group-ellipsis"
                      (click)="loadYadeFiles('DATE','-1h')"
                      [ngClass]="{'btn-primary': yadeFilters.filter.date=='-1h'}" translate>filters.button.last1
              </button>
              <button [disabled]="savedFilter.selected" class="btn btn-grey btn-sm button-group-ellipsis"
                      (click)="loadYadeFiles('DATE','-12h')"
                      [ngClass]="{'btn-primary': yadeFilters.filter.date=='-12h'}" translate>filters.button.last12
              </button>
              <button [disabled]="savedFilter.selected" class="btn btn-grey btn-sm button-group-ellipsis"
                      (click)="loadYadeFiles('DATE','-24h')"
                      [ngClass]="{'btn-primary': yadeFilters.filter.date=='-24h'}" translate>filters.button.last24
              </button>
              <button [disabled]="savedFilter.selected" class="btn btn-grey btn-sm button-group-ellipsis"
                      (click)="loadYadeFiles('DATE','-7d')"
                      [ngClass]="{'btn-primary': yadeFilters.filter.date=='-7d'}" translate>filters.button.lastWeak
              </button>
            </div>
            <div class="btn-group dropdown hidden-dropdown">
              <button class="btn btn-grey btn-sm m-l-12" nz-dropdown nzTrigger="click"
                      [nzDropdownMenu]="anyDate" [nzPlacement]="'bottomRight'" type="button" translate>
                common.label.anyDate
                <i nz-icon nzType="caret-down" nzTheme="outline" class="caretDownIcon"></i>
              </button>
              <nz-dropdown-menu #anyDate="nzDropdownMenu">
                <ul nz-menu>
                  <li nz-menu-item
                      [ngClass]="{'ant-select-dropdown-menu-item-active': yadeFilters.filter.date=='all', 'disable-link':savedFilter.selected}">
                    <a (click)="loadYadeFiles('DATE','all')" translate>filters.button.all</a>
                  </li>
                  <li nz-menu-item
                      [ngClass]="{'ant-select-dropdown-menu-item-active': yadeFilters.filter.date=='today', 'disable-link':savedFilter.selected}">
                    <a (click)="loadYadeFiles('DATE','today')" translate>filters.button.today</a>
                  </li>
                  <li nz-menu-item
                      [ngClass]="{'ant-select-dropdown-menu-item-active': yadeFilters.filter.date=='-1h', 'disable-link':savedFilter.selected}">
                    <a (click)="loadYadeFiles('DATE','-1h')" translate>filters.button.last1</a>
                  </li>
                  <li nz-menu-item
                      [ngClass]="{'ant-select-dropdown-menu-item-active': yadeFilters.filter.date=='-12h', 'disable-link':savedFilter.selected}">
                    <a (click)="loadYadeFiles('DATE','-12h')" translate>filters.button.last12</a>
                  </li>
                  <li nz-menu-item
                      [ngClass]="{'ant-select-dropdown-menu-item-active': yadeFilters.filter.date=='-24h', 'disable-link':savedFilter.selected}">
                    <a (click)="loadYadeFiles('DATE','-24h')" translate>filters.button.last24</a>
                  </li>
                  <li nz-menu-item
                      [ngClass]="{'ant-select-dropdown-menu-item-active': yadeFilters.filter.date=='-7d', 'disable-link':savedFilter.selected}">
                    <a (click)="loadYadeFiles('DATE','-7d')" translate>filters.button.lastWeak</a>
                  </li>
                </ul>
              </nz-dropdown-menu>
            </div>
            <div class="btn-group dropdown">
              <button class="btn btn-grey btn-sm m-l-12" [nz-tooltip]="selectedFiltered.account" nz-dropdown
                      nzTrigger="click" [nzDropdownMenu]="customization" nzPlacement="bottomRight" type="button">
                {{'customization.label.customizations' | translate}}
                <span class="text-primary" [innerHtml]="selectedFiltered.name"></span>
                <i nz-icon nzType="caret-down" nzTheme="outline" class="caretDownIcon"></i>
              </button>
              <nz-dropdown-menu #customization="nzDropdownMenu">
                <ul nz-menu>
                  <li nz-menu-item>
                    <a (click)="createCustomization()" translate>customization.label.createCustomization</a>
                  </li>
                  <li nz-menu-item *ngIf="filterList.length>0">
                    <a (click)="editFilters()" translate>customization.label.editExistingCustomizations</a>
                  </li>
                  <li nz-menu-divider *ngIf="filterList.length>0"></li>
                  <li nz-menu-item *ngFor="let filter of filterList | orderBy: 'name'">
                    <a [ngClass]="{orange: (savedFilter.selected == filter.id)}" (click)="changeFilter(filter)"
                       *ngFor="let filter of filterList | orderBy: 'name'">
                      <span [nz-tooltip]="filter.account">{{filter.name}}</span>
                      <i (click)="changeFilter(null);$event.stopPropagation();"
                         *ngIf="savedFilter.selected == filter.id" class="fa fa-times-circle-o remove"
                         [nz-tooltip]="'customization.tooltip.deactivateCustomization' | translate"></i>
                    </a>
                  </li>
                </ul>
              </nz-dropdown-menu>
            </div>
          </div>
          <div class="hide" [ngClass]="{'show-block':object.mapOfCheckedId.size>0}">
            <button class="btn btn-grey btn-sm m-l-12"
                    (click)="restartAllTransfer()"><i class="fa fa-repeat"></i>&nbsp;
              <span class="hidden-sm-down" translate>fileTransfer.button.restart</span></button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="scroll-y">
  <div class="padding p-b-0">
    <div class="row m-b-12 m-t-xs">
      <div class="col-md-12">
        <button class="btn btn-sm btn-grey" nz-tooltip="{{'common.button.expandDetails' | translate}}"
                (click)="expandDetails()" *ngIf="data.length>0">
          <i class="fa fa-expand text"></i>
        </button>
        <button class="btn btn-sm btn-grey m-l-12" nz-tooltip="{{'common.button.collapseDetails' | translate}}"
                (click)="collapseDetails()" *ngIf="data.length>0">
          <i class="fa fa-compress text"></i>
        </button>
        <button class="btn btn-sm inline pull-right m-l btn-grey" (click)="advancedSearch()" *ngIf="!showSearchPanel">
          <span translate>common.button.advancedSearch</span>
          <i class="fa fa-caret-down p-l-xs"></i>
        </button>
        <button class="btn btn-sm inline pull-right m-l btn-grey" (click)="cancel()" *ngIf="showSearchPanel">
          <span translate>common.button.advancedSearch</span>
          <i class="fa fa-caret-down p-l-xs"></i>
        </button>
        <div class="search-box-field pull-right">
          <label>
            <input type="search" placeholder="{{'common.placeholder.search' | translate}}"
                   (keyup)="searchInResult()"
                   [(ngModel)]="yadeFilters.searchText">
          </label>
          <i [hidden]="!yadeFilters.searchText" class="fa fa-times search-close"
             (click)="yadeFilters.searchText = '';searchInResult()"></i>
        </div>
      </div>
    </div>
    <div class="row m-b hide" [ngClass]="{'show':showSearchPanel}">
      <div class="col-md-12">
        <div class="box p-a m-b-xs">
          <app-form-template [filter]="searchFilter" [preferences]="preferences" [schedulerIds]="schedulerIds"
                             [permission]="permission" [allFilter]="filterList"
                             [isSearch]="true" (onCancel)="cancel()" (onSearch)="search()"></app-form-template>
        </div>
      </div>
    </div>
    <div class="m-t-sm box p-a">
      <div class="table-responsive" id="yade">
        <nz-table
          #ajaxTable
          [nzSize]="'small'"
          [nzPageSize]="yadeFilters.entryPerPage || preferences.entryPerPage"
          [nzPageIndex]="yadeFilters.currentPage"
          [nzBordered]="true"
          [nzShowPagination]="data.length > 0"
          [nzData]="data"
          [nzLoading]="!isLoaded"
          [nzShowSizeChanger]="true"
          (nzPageIndexChange)="pageIndexChange($event)"
          (nzPageSizeChange)="pageSizeChange($event)"
          (nzCurrentPageDataChange)="currentPageDataChange($event)"
          [nzPageSizeOptions]="[10, 25, 50, 100 , preferences.maxEntryPerPage]"
        >
          <thead>
          <tr>
            <th class="chk" *ngIf="permission && permission.joc && permission.joc.fileTransfer.manage"
                [nzShowCheckbox]="true"
                [(nzChecked)]="object.checked"
                [nzIndeterminate]="object.indeterminate"
                (nzCheckedChange)="checkAll($event)">
            </th>
            <th class="menu">
              <span translate>common.label.action</span>
            </th>
            <th (click)="sort('state._text')"><a>
              <span class="p-r-xs" translate>fileTransfer.label.status</span>
              <i *ngIf="yadeFilters.filter.sortBy == 'state._text' && !yadeFilters.reverse"
                 class="fa fa-caret-up "></i>
              <i *ngIf="yadeFilters.filter.sortBy == 'state._text' && yadeFilters.reverse"
                 class="fa fa-caret-down "></i></a>
            </th>
            <th (click)="sort('profile')"><a>
              <span class="p-r-xs" translate>fileTransfer.label.profileName</span>
              <i *ngIf="yadeFilters.filter.sortBy == 'profile' && !yadeFilters.reverse"
                 class="fa fa-caret-up "></i>
              <i *ngIf="yadeFilters.filter.sortBy == 'profile' && yadeFilters.reverse"
                 class="fa fa-caret-down "></i></a>
            </th>
            <th (click)="sort('created')"><a>
              <span class="p-r-xs" translate>fileTransfer.label.mandator</span>
              <i *ngIf="yadeFilters.filter.sortBy == 'created' && !yadeFilters.reverse"
                 class="fa fa-caret-up "></i>
              <i *ngIf="yadeFilters.filter.sortBy == 'created' && yadeFilters.reverse"
                 class="fa fa-caret-down "></i></a>
            </th>
            <th *ngIf="!yadeView.current" (click)="sort('controllerId')"><a><span
              translate>common.label.controllerId</span>
              <i *ngIf="yadeFilters.filter.sortBy == 'controllerId' && !yadeFilters.reverse"
                 class="fa fa-caret-up "></i>
              <i *ngIf="yadeFilters.filter.sortBy == 'controllerId' && yadeFilters.reverse"
                 class="fa fa-caret-down "></i></a>
            </th>
            <th (click)="sort('operation')"><a>
              <span class="p-r-xs" translate>fileTransfer.label.operation</span>
              <i *ngIf="yadeFilters.filter.sortBy == 'operation' && !yadeFilters.reverse"
                 class="fa fa-caret-up "></i>
              <i *ngIf="yadeFilters.filter.sortBy == 'operation' && yadeFilters.reverse"
                 class="fa fa-caret-down "></i></a>
            </th>
            <th (click)="sort('source.host')"><a>
              <span class="p-r-xs" translate>fileTransfer.label.sourceHost</span>
              <i *ngIf="yadeFilters.filter.sortBy == 'source.host' && !yadeFilters.reverse"
                 class="fa fa-caret-up "></i>
              <i *ngIf="yadeFilters.filter.sortBy == 'source.host' && yadeFilters.reverse"
                 class="fa fa-caret-down "></i></a>
            </th>
            <th (click)="sort('target.host')"><a>
              <span class="p-r-xs" translate>fileTransfer.label.targetHost</span>
              <i *ngIf="yadeFilters.filter.sortBy == 'target.host' && !yadeFilters.reverse"
                 class="fa fa-caret-up "></i>
              <i *ngIf="yadeFilters.filter.sortBy == 'target.host' && yadeFilters.reverse"
                 class="fa fa-caret-down "></i></a>
            </th>
            <th (click)="sort('numOfFiles')"><a>
              <span class="p-r-xs" translate>fileTransfer.label.totalNumberOfFiles</span>
              <i *ngIf="yadeFilters.filter.sortBy == 'numOfFiles' && !yadeFilters.reverse"
                 class="fa fa-caret-up "></i>
              <i *ngIf="yadeFilters.filter.sortBy == 'numOfFiles' && yadeFilters.reverse"
                 class="fa fa-caret-down "></i></a>

            </th>
            <th width="20%" (click)="sort('error.message')"><a>
              <span class="p-r-xs" translate>fileTransfer.label.lastErrorMessage</span>
              <i *ngIf="yadeFilters.filter.sortBy == 'error.message' && !yadeFilters.reverse"
                 class="fa fa-caret-up "></i>
              <i *ngIf="yadeFilters.filter.sortBy == 'error.message' && yadeFilters.reverse"
                 class="fa fa-caret-down "></i></a>
            </th>
            <th (click)="sort('start')"><a>
              <span class="p-r-xs" translate>fileTransfer.label.startTime</span>
              <i *ngIf="yadeFilters.filter.sortBy == 'start' && !yadeFilters.reverse"
                 class="fa fa-caret-up "></i>
              <i *ngIf="yadeFilters.filter.sortBy == 'start' && yadeFilters.reverse"
                 class="fa fa-caret-down "></i></a>
            </th>
            <th (click)="sort('end')"><a>
              <span class="p-r-xs" translate>fileTransfer.label.endTime</span>
              <i *ngIf="yadeFilters.filter.sortBy == 'end' && !yadeFilters.reverse"
                 class="fa fa-caret-up "></i>
              <i *ngIf="yadeFilters.filter.sortBy == 'end' && yadeFilters.reverse"
                 class="fa fa-caret-down "></i></a>
            </th>
            <th (click)="sort('duration')"><a>
              <span class="p-r-xs" translate>common.label.duration</span>
              <i *ngIf="yadeFilters.filter.sortBy == 'duration' && !yadeFilters.reverse"
                 class="fa fa-caret-up "></i>
              <i *ngIf="yadeFilters.filter.sortBy == 'duration' && yadeFilters.reverse"
                 class="fa fa-caret-down "></i></a>
            </th>
          </tr>
          </thead>
          <tbody>
          <ng-template ngFor let-transfer
                       [ngForOf]="ajaxTable.data | orderBy: yadeFilters.filter.sortBy:yadeFilters.reverse">
            <tr>
               <td *ngIf="permission && permission.joc.fileTransfer.manage" [nzShowCheckbox]="true"
                  [nzDisabled]="transfer.state._text=='SUCCESSFUL'"
                   [nzChecked]="object.mapOfCheckedId.has(transfer.id)"
                  [nzIndeterminate]="transfer.indeterminate"
                  (nzCheckedChange)="onItemChecked(transfer, $event)">
              </td>
              <td>
                <div class="btn-group dropdown">
                  <button class="btn-drop more-option-h" nz-dropdown nzTrigger="click" [nzDropdownMenu]="menu"
                          type="button">
                    <i class="fa fa-ellipsis-h"></i>
                  </button>
                  <nz-dropdown-menu #menu="nzDropdownMenu">
                    <ul nz-menu>
                      <li nz-menu-item
                          *ngIf="permission.joc.fileTransfer.manage && transfer.state._text!='SUCCESSFUL'">
                        <a (click)="restartTransfer(transfer)" translate>fileTransfer.button.restart</a>
                      </li>
                      <li nz-menu-item>
                        <a (click)="coreService.copyLink('fileTransfer',transfer.id)" translate>common.button.copyLinkToObject</a>
                      </li>
                    </ul>
                  </nz-dropdown-menu>
                </div>
              </td>
              <td noWrap>
                <span>
                  <i class="cursor fa fa-caret-down fa-lg p-l-xs p-r-xs"
                     *ngIf="!transfer.show" (click)="showTransferFuc(transfer);"></i>
                  <i class="cursor fa fa-caret-up fa-lg p-l-xs p-r-xs"
                     *ngIf="transfer.show" (click)="transfer.show = false;"></i>&nbsp;
                  <span class="label cursor"
                        (click)="coreService.showLogWindow(null, transfer, null, transfer.controllerId, null);$event.stopPropagation()"
                        [ngClass]="coreService.getColor(transfer.state.severity,'bg')"
                        [innerHtml]="transfer.state._text | translate"></span>
                </span>
              </td>
              <td [innerHtml]="transfer.profile"></td>
              <td [innerHtml]="transfer.mandator"></td>
              <td *ngIf="!yadeView.current">
                <span *ngIf="!transfer.controllerId" [innerHtml]="schedulerIds.selected"></span>
                <span *ngIf="transfer.controllerId" [innerHtml]="transfer.controllerId"></span>
              </td>
              <td [innerHtml]="transfer._operation"></td>
              <td [innerHtml]="transfer.source.host"></td>
              <td [innerHtml]="transfer.target.host"></td>
              <td [innerHtml]="transfer.numOfFiles"></td>
              <td class="text-danger">
                <span *ngIf="transfer.error" [innerHtml]="transfer.error.message"></span>
              </td>
              <td [innerHtml]="transfer.start | stringToDate"></td>
              <td [innerHtml]="transfer.end | stringToDate"></td>
              <td [innerHtml]="transfer.start | duration:transfer.end"></td>
            </tr>
            <tr *ngIf="transfer.show">
              <td></td>
              <td colspan="13" style="padding: 0 !important;">
                <nz-table class="m-a-0 inner-table" [nzData]="['']" [nzSize]="'small'" [nzShowPagination]="false">
                  <thead>
                  <tr>
                    <th><span translate>fileTransfer.label.sourceHostUser</span></th>
                    <th><span translate>fileTransfer.label.sourceHostPort</span></th>
                    <th><span translate>fileTransfer.label.sourceHostProtocol</span></th>
                    <th><span translate>fileTransfer.label.targetHostUser</span></th>
                    <th><span translate>fileTransfer.label.targetHostPort</span></th>
                    <th><span translate>fileTransfer.label.targetHostProtocol</span></th>
                    <th><span translate>fileTransfer.label.jumpHost</span></th>
                    <th><span translate>fileTransfer.label.jumpUser</span></th>
                    <th><span translate>fileTransfer.label.jumpPort</span></th>
                    <th><span translate>fileTransfer.label.jumpProtocol</span></th>
                    <th><span translate>fileTransfer.label.workflow</span></th>
                    <th><span translate>fileTransfer.label.order</span></th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr>
                    <td>
                      <span *ngIf="transfer.source" [innerHtml]="transfer.source.account"></span>
                    </td>
                    <td>
                      <span *ngIf="transfer.source" [innerHtml]="transfer.source.port"></span>
                    </td>
                    <td>
                      <span *ngIf="transfer.source" [innerHtml]="transfer.source.protocol"></span>
                    </td>
                    <td>
                      <span *ngIf="transfer.target" [innerHtml]="transfer.target.account"></span>
                    </td>
                    <td>
                      <span *ngIf="transfer.target" [innerHtml]="transfer.target.port"></span>
                    </td>
                    <td>
                      <span *ngIf="transfer.target" [innerHtml]="transfer.target.protocol"></span>
                    </td>
                    <td>
                      <span *ngIf="transfer.jump" [innerHtml]="transfer.jump.host"></span>
                    </td>
                    <td>
                      <span *ngIf="transfer.jump" [innerHtml]="transfer.jump.account"></span>
                    </td>
                    <td>
                      <span *ngIf="transfer.jump" [innerHtml]="transfer.jump.port"></span>
                    </td>
                    <td>
                      <span *ngIf="transfer.jump" [innerHtml]="transfer.jump.protocol"></span>
                    </td>
                    <td><span [innerHtml]="transfer.workflowPath"></span></td>
                    <td><span [innerHtml]="transfer.orderId"></span></td>
                  </tr>
                  </tbody>
                </nz-table>
              </td>
            </tr>
            <tr *ngIf="transfer.show">
              <td></td>
              <td colspan="13" style="padding: 0 !important;">
                <nz-table class="m-a-0 inner-table" #innerChildTable nzSize="small" [nzLoading]="transfer.loading"
                          [nzData]="transfer.files" [nzFrontPagination]="false" [nzShowPagination]="false">
                  <thead>
                  <tr>
                    <th class="chk" *ngIf="permission.joc.fileTransfer.manage">
                      #
                    </th>
                    <th><span translate>fileTransfer.label.sourceFileName</span></th>
                    <th><span translate>fileTransfer.label.sourceFilePath</span></th>
                    <th><span translate>fileTransfer.label.targetFileName</span></th>
                    <th><span translate>fileTransfer.label.targetFilePath</span></th>
                    <th width="100px"><span translate>fileTransfer.label.status</span></th>
                    <th width="20%"><span translate>fileTransfer.label.errorMessage</span></th>
                    <th width="80px"><span translate>fileTransfer.label.size</span></th>
                    <th><span translate>fileTransfer.label.integrityHash</span></th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr *ngFor="let file of innerChildTable.data">
                    <td *ngIf="permission.joc.fileTransfer.manage" [nzShowCheckbox]="true"
                        [nzDisabled]="transfer.state._text=='SUCCESSFUL'"
                        [(nzChecked)]="file.checked"
                        (nzCheckedChange)="checkALLFilesFnc(transfer, $event)">
                    </td>
                    <td>{{file.sourceName}}</td>
                    <td>{{file.sourcePath}}</td>
                    <td>{{file.targetName}}</td>
                    <td>{{file.targetPath}}</td>
                    <td><span *ngIf="file.state" class="label" [ngClass]="coreService.getColor(file.state.severity,'bg')"
                              [innerHtml]="file.state._text | translate"></span></td>
                    <td class="text-danger"><span *ngIf="file.error">{{file.error.message}}</span></td>
                    <td>{{file.size | byteToSize}}</td>
                    <td>{{file.integrityHash}}</td>
                  </tr>
                  </tbody>
                </nz-table>
              </td>
            </tr>
          </ng-template>
          </tbody>
        </nz-table>
      </div>
      <div class="w-half label-top" *ngIf="ajaxTable.data.length >0"><span
        translate>common.label.total</span> {{data.length}}
        <span *ngIf="ajaxTable.data.length >1" translate>fileTransfer.label.fileTransfersFound</span>
        <span *ngIf="ajaxTable.data.length ==1" translate>fileTransfer.label.fileTransferFound</span>
      </div>
    </div>
  </div>
</div>
