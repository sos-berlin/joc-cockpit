<div class="white box-shadow sub-header">
  <div class="row">
    <div class="col-md-12">
      <div class="padding">
        <div class="text-right ">
          <div class="pull-left">
            <app-breadcrumbs></app-breadcrumbs>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="scroll-y max-ht">
  <div class="padding p-b-0">
    <div class="row m-t-sm">
      <div class="col-sm-12">
        <div class="box p-a">
          <form #myForm="ngForm">
            <div class="p-b-sm" *ngFor="let setting of settingArr | orderBy: 'ordering': false;let i = index">
              <h5>
                {{setting.name}}
              </h5>
              <div class="row m-t" *ngFor="let val of setting.value | orderBy: 'ordering': false">
                <ng-container *ngIf="val.value">
                  <div class="col-sm-4 col-lg-3 form-control-label"><span class="p-l">{{val.name}}</span></div>
                  <ng-container [ngSwitch]="val.value.type">
                    <ng-container *ngSwitchCase="'TIMEZONE'">
                      <div class="col-sm-8 col-lg-6">
                        <nz-select nzShowSearch name="{{val.name}}{{i}}" class="w-xxxl"
                                   [(ngModel)]="val.value.value" (ngModelChange)="changeConfiguration()">
                          <nz-option *ngFor="let option of zones" [nzLabel]="option" [nzValue]="option"></nz-option>
                        </nz-select>
                      </div>
                    </ng-container>
                    <ng-container *ngSwitchCase="'DURATION'">
                      <div class="col-sm-8 col-lg-6"
                           [ngClass]="{'has-error' : ((timeout.dirty || timeout.touched) && timeout.invalid)}">
                        <input autocomplete="off" #timeout="ngModel" validateDurtionReqex type="text"
                               class="form-control w-xxxl" name="{{val.name}}{{i}}" (blur)="changeConfiguration()"
                               placeholder="{{'workflow.placeholder.duration' | translate}}"
                               [(ngModel)]="val.value.value">
                      </div>
                    </ng-container>
                    <ng-container *ngSwitchCase="'WEEKDAYS'">
                      <div class="col-sm-8 col-lg-6">
                        <nz-select nzMode="multiple" name="{{val.name}}{{i}}" class="w-xxxl"
                                   [(ngModel)]="val.value.value" (ngModelChange)="changeConfiguration()">
                          <nz-option *ngFor="let option of daysOptions" [nzLabel]="'runtime.label.'+ option.label | translate" [nzValue]="option.value"></nz-option>
                        </nz-select>
                      </div>
                    </ng-container>
                    <ng-container *ngSwitchCase="'TIME'">
                      <div class="col-sm-8 col-lg-6"
                           [ngClass]="{ 'has-error' : (((startTime.dirty || startTime.touched) && startTime.invalid))}">
                        <input autocomplete="off" type="text" timevalidator class="form-control w-xxxl"
                               #startTime="ngModel" name="{{val.name}}{{i}}" [maxLength]="8"
                               (blur)="changeConfiguration()"
                               [(ngModel)]="val.value.value" placeholder="HH:MM:SS">
                      </div>
                    </ng-container>
                    <ng-container *ngSwitchCase="'POSITIVENUMBER'">
                      <div class="col-sm-8 col-lg-6">
                        <nz-input-number class="w-xxxl" nzPlaceHolder="{{'common.placeholder.enterNumber' | translate}}" [nzMin]="1" [nzStep]="1" name="value{{i}}"
                                         [(ngModel)]="val.value.value" (nzBlur)="changeConfiguration()"></nz-input-number>
                      </div>
                    </ng-container>
                    <ng-container *ngSwitchCase="'NONNEGATIVENUMBER'">
                      <div class="col-sm-8 col-lg-6">
                        <nz-input-number class="w-xxxl" nzPlaceHolder="{{'common.placeholder.enterNumber' | translate}}" [nzMin]="0" [nzStep]="1" name="value{{i}}"
                                         [(ngModel)]="val.value.value" (nzBlur)="changeConfiguration()"></nz-input-number>
                      </div>
                    </ng-container>
                    <ng-container *ngSwitchCase="'POSITIVEINTEGER'">
                      <div class="col-sm-8 col-lg-6" [ngClass]="{ 'has-error' : (((positiveNum.dirty || positiveNum.touched) && positiveNum.invalid))}">
                        <input autocomplete="off" type="text" class="form-control w-xxxl"
                               name="{{val.name}}{{i}}" pattern="[1-9]+" #positiveNum="ngModel"
                               (blur)="changeConfiguration()"
                               [(ngModel)]="val.value.value">
                      </div>
                    </ng-container>
                    <ng-container *ngSwitchCase="'NONNEGATIVEINTEGER'">
                      <div class="col-sm-8 col-lg-6" [ngClass]="{ 'has-error' : (((nonNegNum.dirty || nonNegNum.touched) && nonNegNum.invalid))}">
                        <input autocomplete="off" type="text" class="form-control w-xxxl"
                               name="{{val.name}}{{i}}" pattern="[0-9]+" #nonNegNum="ngModel"
                               (blur)="changeConfiguration()"
                               [(ngModel)]="val.value.value">
                      </div>
                    </ng-container>
                    <ng-container *ngSwitchDefault>
                      <div class="col-sm-8 col-lg-6">
                        <input autocomplete="off" type="text" class="form-control w-xxxl"
                               name="{{val.name}}{{i}}"
                               (blur)="changeConfiguration()"
                               [(ngModel)]="val.value.value">
                      </div>
                    </ng-container>
                  </ng-container>
                </ng-container>
              </div>
              <hr>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

