<div class="modal-header">
  <h4 class="modal-title" *ngIf="jobName">
    <span translate>workflow.label.showConfiguration</span>
    <i class="text-muted p-l-xs text">{{jobName}}</i>
  </h4>
  <h4 class="modal-title" *ngIf="predicate">
    <span translate>workflow.label.showConfiguration</span>
  </h4>
  <button type="button" class="close" aria-label="Close"
          (click)="activeModal.destroy()">
    <span aria-hidden="true" class="fa fa-times-circle"></span>
  </button>
</div>
<form spellcheck="false">
  <div class="modal-body p-a" style="min-height: 112px">
    <div class="row">
      <div class="col-md-12" *ngIf="isScript">
        <label class="_600 m-b-xs" translate>workflow.label.script</label>
        <div class="b-a" style="pointer-events: none">
          <ngx-codemirror name="cm" [(ngModel)]="data" [options]="cmOption"></ngx-codemirror>
        </div>
      </div>
      <div class="col-md-12" *ngIf="!isScript">
        <div class="form-group row">
          <label class="col-sm-3 form-control-label" translate>workflow.label.className</label>
          <div class=" col-sm-8">
            <input nz-input name="data" [(ngModel)]="data" readonly>
          </div>
        </div>
      </div>
      <div class="col-sm-3 m-t" *ngIf="periodList.length > 0" translate>workflow.label.timeZone</div>
      <div class="col-sm-8 m-t" *ngIf="periodList.length > 0">
        {{timezone}}
      </div>
      <div class="col-md-12 m-t-sm" *ngIf="periodList.length > 0">
        <label class="_600 m-b-xs" translate>workflow.label.admissionTime</label>
        <div class="table-responsive">
          <table class="table table-hover table-bordered">
            <thead>
            <tr>
              <th><span translate>workflow.admissionTime.label.frequency</span></th>
              <th><span translate>workflow.admissionTime.label.period</span></th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let item of periodList;">
              <td><span>On {{item.frequency}}</span></td>
              <td>
                <div *ngFor="let p of item.periods;">
                  <span>{{p.text}}</span>
                </div>
              </td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="col-md-12" *ngIf="periodList.length > 0">
        <button type="button" class="btn btn-default btn-sm" *ngIf="tempPeriodList.length === 0"
                (click)="showConvertTime()" translate>workflow.button.convertAdmissionTime
        </button>
        <button type="button" class="btn btn-default btn-sm" *ngIf="tempPeriodList.length > 0"
                (click)="showOriginalTime()" translate>workflow.button.originalAdmissionTime
        </button>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-grey btn-sm"
            (click)="activeModal.destroy()" translate>
      common.button.close
    </button>
    <button type="button" class="btn btn-default btn-sm"
            (click)="copyToClipboard()" translate>log.button.copyToClipboard
    </button>
  </div>
</form>
