<div id="ordersOverview1">
  <div class="box-header b-b remove">
    <h3 translate>dashboard.label.orders<span><i (click)="helpPage()" [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="'common.tooltip.help' | translate" class="help-info-dashboard cur-point fa fa-info-circle text-20"></i></span></h3>
  </div>
  <div class="row m-b-sm box-tool t-10">
    <div class="col-md-12 container-fluid">
      @if (!notAuthenticate) {
        <div class="pull-right">
          <div class="btn-group">
            <div class="btn-group dropdown ">
              <button [nzDropdownMenu]="order" class="btn btn-grey btn-sm m-l-sm" nz-dropdown nzPlacement="bottomRight"
                      nzTrigger="click">
                <span> {{ 'filters.button.' + filters.label | translate}} </span>
                <i class="caretDownIcon" nz-icon nzTheme="outline" nzType="caret-down"></i>
              </button>
              <nz-dropdown-menu #order="nzDropdownMenu">
                <ul nz-menu>
                  @for (btn of dateFilterBtn; track btn.date) {
                    <li (click)="changeDate(btn.date);filters.label = btn.text;" [ngClass]="{'ant-select-dropdown-menu-item-active': filters.date=== btn.date}"
                        nz-menu-item>
                      <a translate>filters.button.{{btn.text}}</a>
                    </li>
                  }
                </ul>
              </nz-dropdown-menu>
            </div>
          </div>
        </div>
      }
    </div>
  </div>
  <div [ngStyle]="{'max-height':(ybody * 55 +((ybody -1) *20 -50)) +'px'}" class="box-body text-overflow">
    <div class="table-responsive">
      @if (!notAuthenticate && isLoaded) {
        <table class="w-full">
          <tr class="text-center">
            <td [width]="(xbody > 7 && ybody == 2) ? '10%' : '20%'">
              <div translate>common.label.pending</div>
            </td>
            <td [width]="(xbody > 7 && ybody == 2) ? '10%' : '20%'">
              <div translate>common.label.scheduled</div>
            </td>
            <td [width]="(xbody > 7 && ybody == 2) ? '10%' : '20%'">
              <div translate>common.label.incomplete</div>
            </td>
            <td [width]="(xbody > 7 && ybody == 2) ? '10%' : '20%'">
              <div translate>common.label.running</div>
            </td>
            <td [width]="(xbody > 7 && ybody == 2) ? '10%' : '20%'">
              <div translate>common.label.suspended</div>
            </td>
            @if (xbody > 7 && ybody == 2) {
              <td class="w-10-per">
                <div translate>common.label.completed</div>
              </td>
            }
            @if (xbody > 7 && ybody == 2) {
              <td class="w-10-per">
                <div translate>common.label.prompting</div>
              </td>
            }
            @if (xbody > 7 && ybody == 2) {
              <td class="w-10-per">
                <div translate>common.label.waiting</div>
              </td>
            }
            @if (xbody > 7 && ybody == 2) {
              <td class="w-10-per">
                <div translate>common.label.blocked</div>
              </td>
            }
            @if (xbody > 7 && ybody == 2) {
              <td class="w-10-per">
                <div translate>common.label.failed</div>
              </td>
            }
          </tr>
          <tr class="text-center">
            <td [width]="(xbody > 7 && ybody == 2) ? '10%' : '20%'">
              <a (click)="navigate('PENDING')" [innerHtml]="orders.pending || 0" [ngClass]="{'light-yellow' : orders.pending > 0}"
                 class="text-lg _600 "></a>
            </td>
            <td [width]="(xbody > 7 && ybody == 2) ? '10%' : '20%'">
              <a (click)="navigate('SCHEDULED')" [innerHtml]="orders.scheduled || 0" [ngClass]="{'gold' : orders.scheduled > 0}"
                 class="text-lg _600"></a>
            </td>
            <td [width]="(xbody > 7 && ybody == 2) ? '10%' : '20%'">
              <a (click)="navigate('INPROGRESS')" [innerHtml]="orders.inProgress || 0" [ngClass]="{'light-blue' : orders.inProgress > 0}"
                 class="text-lg _600"></a>
            </td>
            <td [width]="(xbody > 7 && ybody == 2) ? '10%' : '20%'">
              <a (click)="navigate('RUNNING')" [innerHtml]="orders.running || 0" [ngClass]="{'green' : orders.running > 0}"
                 class="text-lg _600"></a>
            </td>
            <td [width]="(xbody > 7 && ybody == 2) ? '10%' : '20%'">
              <a (click)="navigate('SUSPENDED')" [innerHtml]="orders.suspended || 0" [ngClass]="{'orange' : orders.suspended > 0}"
                 class="text-lg _600"></a>
            </td>
            @if (xbody > 7 && ybody == 2) {
              <td class="w-10-per">
                <a (click)="navigate('COMPLETED')" [innerHtml]="orders.terminated || 0" [ngClass]="{'dark-blue' : orders.terminated > 0}"
                   class="text-lg _600"></a>
              </td>
            }
            @if (xbody > 7 && ybody == 2) {
              <td class="w-10-per">
                <a (click)="navigate('PROMPTING')" [innerHtml]="orders.prompting || 0" [ngClass]="{'light-green' : orders.prompting > 0}"
                   class="text-lg _600 "></a>
              </td>
            }
            @if (xbody > 7 && ybody == 2) {
              <td class="w-10-per">
                <a (click)="navigate('WAITING')" [innerHtml]="orders.waiting || 0" [ngClass]="{'yellow-green' : orders.waiting > 0}"
                   class="text-lg _600"></a>
              </td>
            }
            @if (xbody > 7 && ybody == 2) {
              <td class="w-10-per">
                <a (click)="navigate('BLOCKED')" [innerHtml]="orders.blocked || 0" [ngClass]="{'mangenta' : orders.blocked > 0}"
                   class="text-lg _600"></a>
              </td>
            }
            @if (xbody > 7 && ybody == 2) {
              <td class="w-10-per">
                <a (click)="navigate('FAILED')" [innerHtml]="orders.failed || 0" [ngClass]="{'red' : orders.failed > 0}"
                   class="text-lg _600"></a>
              </td>
            }
          </tr>
          @if (xbody < 8 || ybody !== 2) {
            <tr class="text-center border-16-transparent">
              <td class="w-20-per">
                <div translate>common.label.completed</div>
              </td>
              <td class="w-20-per">
                <div translate>common.label.prompting</div>
              </td>
              <td class="w-20-per">
                <div translate>common.label.waiting</div>
              </td>
              <td class="w-20-per">
                <div translate>common.label.blocked</div>
              </td>
              <td class="w-20-per">
                <div translate>common.label.failed</div>
              </td>
            </tr>
          }
          @if (xbody < 8 || ybody !== 2) {
            <tr class="text-center">
              <td class="w-20-per">
                <a (click)="navigate('COMPLETED')" [innerHtml]="orders.terminated || 0" [ngClass]="{'dark-blue' : orders.terminated > 0}"
                   class="text-lg _600"></a>
              </td>
              <td class="w-20-per">
                <a (click)="navigate('PROMPTING')" [innerHtml]="orders.prompting || 0" [ngClass]="{'light-green' : orders.prompting > 0}"
                   class="text-lg _600 "></a>
              </td>
              <td class="w-20-per">
                <a (click)="navigate('WAITING')" [innerHtml]="orders.waiting || 0" [ngClass]="{'yellow-green' : orders.waiting > 0}"
                   class="text-lg _600"></a>
              </td>
              <td class="w-20-per">
                <a (click)="navigate('BLOCKED')" [innerHtml]="orders.blocked || 0" [ngClass]="{'mangenta' : orders.blocked > 0}"
                   class="text-lg _600"></a>
              </td>
              <td class="w-20-per">
                <a (click)="navigate('FAILED')" [innerHtml]="orders.failed || 0" [ngClass]="{'red' : orders.failed > 0}"
                   class="text-lg _600"></a>
              </td>
            </tr>
          }
        </table>
      }
    </div>
    @if (notAuthenticate) {
      <div [ngStyle]="{'height':(ybody * 55 + ((ybody -1) *20 -50) - 25) +'px'}" class="vert-middle">
        <div>
          <app-empty-data></app-empty-data>
        </div>
      </div>
    }
    @if (!notAuthenticate && !isLoaded) {
      <div class="text-center text-primary text m-t-md m-b">
        <div><i class="fa fa-refresh fa-lg fa-spin"></i></div>
      </div>
    }
  </div>
</div>
