<div id="jobSchedulerStatus2">
    <div class="box-header b-b remove">
        <h3 translate>dashboard.label.apiServerStatus</h3>
    </div>
    <div class="box-body overflow-y" [ngClass]="{'p-t-0' : list && list.length==0}" [ngStyle]="{'max-height':(ybody * 55 + ((ybody -1) *20 -50)) +'px'}">
        <div class="table-responsive status-table" *ngIf="list && list.length>0">
            <table class="w-full">
              <thead>
                <tr>
                  <th>{{'common.label.action' | translate}}</th>
                  <th>{{'dashboard.label.JS7ServerInstanceId' | translate}}</th>
                  <th>{{'dashboard.label.url' | translate}}</th>
                  <th>{{'dashboard.label.componentState' | translate}}</th>
                  <th>{{'dashboard.label.title' | translate}}</th>
                  <th>{{'dashboard.label.architecture' | translate}}</th>
                  <th>{{'dashboard.label.version' | translate}}</th>
                  <th>{{'dashboard.label.startedAt' | translate}}</th>
                </tr>
              </thead>
              <tbody>
              <tr *ngFor="let item of list">
                <td>
                  <div class="btn-group dropdown">
                    <button type="button" class="btn-drop more-option-h" nz-dropdown nzTrigger="click" [nzDropdownMenu]="action" >
                      <i class="fa fa-ellipsis-h"></i>
                    </button>
                    <nz-dropdown-menu #action="nzDropdownMenu">
                      <ul nz-menu >
                        <li nz-menu-item (click)="removeInstance(item)">
                          <a translate>dashboard.button.removeRepository</a>
                        </li>
                      </ul>
                    </nz-dropdown-menu>
                  </div>
                </td>
                <td><span>{{item.instanceId}}</span></td>
                <td><a class="text-hover-primary" target="_blank" href="{{item.url}}">{{item.url}}</a></td>
                <td><span *ngIf="item.componentState" [ngClass]="coreService.getColor(item.componentState.severity, 'bg')"
                          class="label">{{item.componentState._text | translate}}</span>
                </td>

                <td><span class="label label-default">{{item.title | translate}}</span></td>
                <td>
                  <i class="fa fa-{{item.os.name | lowercase}}"></i>&nbsp;
                  <span>{{item.os.architecture}}</span> -
                  <span>{{item.os.distribution}}</span>
                </td>
                <td>
                  <span>{{item.version}}</span>
                </td>
                <td>
                  <span *ngIf="item.startedAt" class="text-primary text-sm">{{item.startedAt | stringToDate}}</span>
                </td>
              </tr>
              </tbody>
            </table>
        </div>
        <div class="hide text-center m-t-lg p-b-lg text-primary text" [ngClass]="{'show': !isLoaded}">
            <div><i class="fa fa-refresh fa-lg fa-spin"></i></div>
        </div>
    </div>
    <div class="vert-middle" *ngIf="list && list.length==0 && isLoaded" [ngStyle]="{'height':(ybody * 55 + ((ybody -1) *20 -50) - 12) +'px'}">
      <div><app-empty-data></app-empty-data></div>
    </div>
</div>
