<div id="dailyPlanOverview1">
  <div class="box-header b-b remove">
    <h3 translate>dashboard.label.dailyPlan</h3>
  </div>
  <div class="row m-b-sm box-tool t-10">
    <div class="col-md-12 container-fluid">
      <div class="pull-right">
        <div class="btn-group">
          <div class="btn-group dropdown ">
            <button [nzDropdownMenu]="menu" class="btn btn-grey btn-sm m-l-sm" nz-dropdown nzPlacement="bottomRight"
                    nzTrigger="click">
              <span> {{filters.label | translate}} </span>
              <i class="caretDownIcon" nz-icon nzTheme="outline" nzType="caret-down"></i>
            </button>
            <nz-dropdown-menu #menu="nzDropdownMenu">
              <ul nz-menu>
                <li (click)="getDailyPlans('0d');filters.label='filters.button.today'" [ngClass]="{'ant-select-dropdown-menu-item-active': filters.date=='0d'}"
                    nz-menu-item>
                  <a translate>filters.button.today</a>
                </li>
                <li (click)="getDailyPlans('1d');filters.label='filters.button.nextDay'" [ngClass]="{'ant-select-dropdown-menu-item-active': filters.date=='1d'}"
                    nz-menu-item>
                  <a translate>filters.button.nextDay</a>
                </li>
                <li (click)="getDailyPlans('2d');filters.label='filters.button.next2Day'" [ngClass]="{'ant-select-dropdown-menu-item-active': filters.date=='2d'}"
                    nz-menu-item>
                  <a translate>filters.button.next2Day</a>
                </li>
                <li (click)="getDailyPlans('3d');filters.label='filters.button.next3Day'" [ngClass]="{'ant-select-dropdown-menu-item-active': filters.date=='3d'}"
                    nz-menu-item>
                  <a translate>filters.button.next3Day</a>
                </li>
                <li (click)="getDailyPlans('4d');filters.label='filters.button.next4Day'" [ngClass]="{'ant-select-dropdown-menu-item-active': filters.date=='4d'}"
                    nz-menu-item>
                  <a translate>filters.button.next4Day</a>
                </li>
                <li (click)="getDailyPlans('5d');filters.label='filters.button.next5Day'" [ngClass]="{'ant-select-dropdown-menu-item-active': filters.date=='5d'}"
                    nz-menu-item>
                  <a translate>filters.button.next5Day</a>
                </li>
                <li (click)="getDailyPlans('6d');filters.label='filters.button.next6Day'" [ngClass]="{'ant-select-dropdown-menu-item-active': filters.date=='6d'}"
                    nz-menu-item>
                  <a translate>filters.button.next6Day</a>
                </li>
                <li (click)="getDailyPlans('7d');filters.label='filters.button.next7Day'" [ngClass]="{'ant-select-dropdown-menu-item-active': filters.date=='7d'}"
                    nz-menu-item>
                  <a translate>filters.button.next7Day</a>
                </li>
              </ul>
            </nz-dropdown-menu>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div [ngClass]="{'p-t-sm': totalPlanData == 0 && isLoaded}" class="box-body p-a">
    <div [ngClass]="{'show': totalPlanData > 0}" class="hide m-t-sm">
      <div [ngClass]="{'show-block': planned > 0}" [ngStyle]="{'width': arrayWidth[0]+'%'}"
           class="plan-overview bg-planned hide">
        <label [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="tooltipTemplate1" class="w-full">
          <a (click)="navigate(1)" class="nav-link w-full">
            <div class="show-inline block-ellipsis-job" translate>dashboard.label.planned</div>
            - {{planned | number : '1.1-1'}} %
          </a>
        </label>
        <ng-template #tooltipTemplate1>
          <div translate>dashboard.label.planned</div>
          <div>{{(planned * totalPlanData / 100 | number:'1.0') + ' out of ' + totalPlanData}}</div>
        </ng-template>
      </div>
      <div [ngClass]="{'show-block': plannedLate > 0}" [ngStyle]="{width: arrayWidth[1]+'%'}"
           class="plan-overview bg-gold hide">
        <label [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="tooltipTemplate2" class="w-full">
          <a (click)="navigate(2)" class="nav-link w-full">
            <div class="show-inline block-ellipsis-job" translate>dashboard.label.plannedLate</div>
            - {{plannedLate | number : '1.1-1' }} %
          </a>
        </label>
        <ng-template #tooltipTemplate2>
          <div translate>dashboard.label.plannedLate</div>
          <div>{{(plannedLate * totalPlanData / 100 | number:'1.0') + ' out of ' + totalPlanData}}</div>
        </ng-template>
      </div>
      <div [ngClass]="{'show-block': submitted > 0}" [ngStyle]="{width: arrayWidth[2]+'%'}"
           class="plan-overview bg-orange hide">
        <label [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="tooltipTemplate3" class="w-full">
          <a (click)="navigate(4)" class="nav-link w-full">
            <div class="show-inline block-ellipsis-job" translate>dashboard.label.submitted</div>
            - {{submitted | number : '1.1-1' }} %
          </a>
        </label>
        <ng-template #tooltipTemplate3>
          <div translate>dashboard.label.submitted</div>
          <div>{{(submitted * totalPlanData / 100 | number:'1.0') + ' out of ' + totalPlanData}}</div>
        </ng-template>
      </div>
      <div [ngClass]="{'show-block': submittedLate > 0}" [ngStyle]="{width: arrayWidth[3]+'%'}"
           class="plan-overview bg-late hide">
        <label [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="tooltipTemplate4" class="w-full">
          <a (click)="navigate(5)" class="nav-link w-full">
            <div class="show-inline block-ellipsis-job" translate>dashboard.label.submittedLate</div>
            - {{submittedLate | number : '1.1-1' }} %
          </a>
        </label>
        <ng-template #tooltipTemplate4>
          <div translate>dashboard.label.submittedLate</div>
          <div>{{(submittedLate * totalPlanData / 100 | number:'1.0') + ' out of ' + totalPlanData}}</div>
        </ng-template>
      </div>
      <div [ngClass]="{'show-block': finished > 0}" [ngStyle]="{width: arrayWidth[4]+'%'}"
           class="plan-overview bg-dark-blue hide">
        <label [nzTooltipMouseEnterDelay]="0.5" [nz-tooltip]="tooltipTemplate5" class="w-full">
          <a (click)="navigate(6)" class="nav-link w-full">
            <div class="show-inline block-ellipsis-job" translate>dashboard.label.finished</div>
            - {{finished | number : '1.1-1'}} %
          </a>
        </label>
        <ng-template #tooltipTemplate5>
          <div translate>dashboard.label.finished</div>
          <div>{{(finished * totalPlanData / 100 | number:'1.0') + ' out of ' + totalPlanData}}</div>
        </ng-template>
      </div>
    </div>
    <div [ngClass]="{'show': !isLoaded}" class="hide text-center text-primary text m-t-md m-b">
      <div><i class="fa fa-refresh fa-lg fa-spin"></i></div>
    </div>
    <div [ngClass]="{'show': totalPlanData == 0 && isLoaded}" class="hide m-t-sm">
      <app-empty-data></app-empty-data>
    </div>
  </div>
</div>
