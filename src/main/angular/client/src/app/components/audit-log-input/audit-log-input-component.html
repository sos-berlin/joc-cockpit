<div class="form-group row">
  <label class="col-sm-{{sizeX}}" translate>common.label.selectComments</label>
  <div class="col-sm-8">
    <nz-radio-group name="radio" [(ngModel)]="comments.radio" (ngModelChange)="onChange($event)">
      <label nz-radio nzValue="predefined"><span translate>common.label.predefined</span></label>
      <label nz-radio nzValue="new"><span translate>common.label.individual</span></label>
    </nz-radio-group>
  </div>
</div>
<div class="form-group row" *ngIf="comments.radio=='predefined'"
     [ngClass]="{'has-error' : ((comment.dirty || comment.touched) && comment.invalid)}">
  <label class="col-sm-{{sizeX}} form-control-label" translate>common.label.selectComment</label>
  <div class="col-sm-{{sizeY}}">
    <nz-select [nzAllowClear]="!required" nzPlaceHolder="{{'common.label.selectPredefinedReason' | translate}}"
               [(ngModel)]="comments.comment" name="comment" #comment="ngModel"
               [required]="required && comments.radio=='predefined'">
      <nz-option *ngFor="let list of messageList" [nzLabel]="list" [nzValue]="list"></nz-option>
    </nz-select>
    <div *ngIf="comment.invalid && (comment.dirty || comment.touched)" class="text-danger m-t-xs">
      <div *ngIf="comment.errors.required" translate>
        common.message.requiredError
      </div>
      <div *ngIf="comment.invalid && !comment.errors.required" translate>
        common.message.invalid
      </div>
    </div>
  </div>
</div>
<div class="form-group row" *ngIf="comments.radio=='new'"
     [ngClass]="{'has-error' : ((textComment.dirty || textComment.touched) && textComment.invalid)}">
  <label class="col-sm-{{sizeX}} " translate>common.label.comment</label>
  <div class="col-sm-{{sizeY}}">
    <textarea rows="3" class="form-control" maxlength="2000" name="textComment" #textComment="ngModel"
              [required]="required && comments.radio=='new'"
              [(ngModel)]="comments.comment"
              placeholder="{{'common.placeholder.enterComment' | translate}}"
    ></textarea>
    <div *ngIf="textComment.invalid && (textComment.dirty || textComment.touched)"
         class="text-danger help-block">
      <div *ngIf="textComment.errors.required" translate>
        common.message.requiredError
      </div>
      <div *ngIf="textComment.invalid && !textComment.errors.required" translate>
        common.message.invalid
      </div>
    </div>
  </div>
</div>
<div class="form-group row"
     [ngClass]="{'has-error' : ((timeSpent.dirty || timeSpent.touched) && timeSpent.invalid)}">
  <label class="col-sm-{{sizeX}} form-control-label" translate>common.label.timeSpend</label>
  <div class="col-sm-{{sizeY}}">
    <input type="text" pattern="[1-9[0-9]*" class="form-control" name="timeSpent" #timeSpent="ngModel"
           placeholder="{{'common.placeholder.timeSpend' | translate}}" [(ngModel)]="comments.timeSpent">
    <div *ngIf="timeSpent.invalid && (timeSpent.dirty || timeSpent.touched)" class="text-danger m-t-xs">
      <div *ngIf="timeSpent.invalid && !timeSpent.errors.required" translate>
        common.message.invalid
      </div>
    </div>
  </div>
</div>
<div class="form-group row"
     [ngClass]="{'has-error' : ((ticketLink.dirty || ticketLink.touched) && ticketLink.invalid)}">
  <label class="col-sm-{{sizeX}} form-control-label" translate>common.label.ticketLink</label>
  <div class="col-sm-{{sizeY}}">
    <input type="text"
           pattern="(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9]\.[^\s]{2,})"
           class="form-control" name="ticketLink" #ticketLink="ngModel"
           placeholder="{{'common.placeholder.ticketLink' | translate}}"
           [(ngModel)]="comments.ticketLink">
    <div *ngIf="ticketLink.invalid && (ticketLink.dirty || ticketLink.touched)"
         class="text-danger m-t-xs">
      <div *ngIf="ticketLink.invalid && !ticketLink.errors.required" translate>
        common.message.invalid
      </div>
    </div>
  </div>
</div>
