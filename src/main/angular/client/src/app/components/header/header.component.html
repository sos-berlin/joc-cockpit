<div class="app-header white box-shadow bg-blue-color"
     [ngClass]="{'backup': (selectedController && selectedController.role === 'BACKUP')}" id="headerColor">
  <div class="navbar box-shadow-z0 p-l-0 p-r-20">
    <a data-toggle="collapse" data-target="#navbar1" class="navbar-item pull-right hide-menubar m-a-0 m-l">
      <i class="fa fa-navicon text-white"></i>
    </a>
    <!-- brand -->
    <a class="navbar-brand white">
      <img class="cursor logo-for-light" (click)="about()" src="./assets/images/JS7-logo-with-type-light-theme.png"
           alt="JS7">
      <img class="cursor logo-for-default" (click)="about()" src="./assets/images/JS7-logo-with-type-default-theme.png"
           alt="JS7">
      <img class="cursor logo-for-dark" (click)="about()" src="./assets/images/JS7-log-with-type-dark-theme.png"
           alt="JS7">
      <img class="cursor logo-for-grey" (click)="about()" src="./assets/images/JS7-log-with-type-dark-theme.png"
           alt="JS7">
    </a>
    <!-- / brand -->
    <!-- navbar right -->
    <ul class="nav navbar-nav pull-right ">
      <li class="nav-item dropdown">
        <a class="nav-link text-white pointer">
          <span class="cursor text-left p-l-xs" nz-dropdown nzTrigger="click" [nzDropdownMenu]="help"
                nzPlacement="bottomRight">
            <i class="fa fa-question-circle" style="font-size: 20px;position: relative; top: 3px;"></i>
          </span>
        </a>
        <nz-dropdown-menu #help="nzDropdownMenu">
          <ul nz-menu>
            <li nz-menu-item><a (click)="about()">{{'info.button.aboutJS7' | translate}}</a></li>
            <li nz-submenu nzTitle="{{'info.button.featuresAndDownload' | translate}} ">
              <ul>
                <li nz-menu-item>
                  <a target="_blank" href="https://www.sos-berlin.com/js7">{{'info.button.js7Home' | translate}}</a>
                </li>
                <li nz-menu-item>
                  <a target="_blank"
                     href="https://www.sos-berlin.com/js7-downloads">{{'info.button.js7Download' | translate}}</a>
                </li>
              </ul>
            </li>
            <li nz-submenu nzTitle="{{'info.button.announcements' | translate}}">
              <ul>
                <li nz-menu-item>
                  <a target="_blank"
                     href="https://twitter.com/job_scheduler">{{'info.button.followOnTwitter' | translate}}</a>
                </li>
                <li nz-menu-item>
                  <a target="_blank" href="https://www.sos-berlin.com/news">{{'info.button.js7News' | translate}}</a>
                </li>
                <li nz-menu-item>
                  <a target="_blank"
                     href="https://kb.sos-berlin.com/x/s4BB">{{'info.button.releaseNotes' | translate}}</a>
                </li>
                <li nz-menu-item>
                  <a target="_blank"
                     href="https://change.sos-berlin.com/">{{'info.button.changeManagementSystem' | translate}}</a>
                </li>
              </ul>
            </li>
            <li nz-submenu nzTitle="{{'info.button.documentation' | translate}}">
              <ul>
                <li nz-menu-item>
                  <a target="_blank"
                     href="https://www.sos-berlin.com/doc/en/scheduler.doc/index.xml">{{'info.button.referenceDocumentation' | translate}}</a>
                </li>
                <li nz-menu-item>
                  <a target="_blank"
                     href="https://kb.sos-berlin.com/x/fgKX">{{'info.button.tutorials' | translate}}</a>
                </li>
                <li nz-menu-item>
                  <a target="_blank"
                     href="https://kb.sos-berlin.com/x/lo74">{{'info.button.jocCockpitDocumentation' | translate}}</a>
                </li>
                <li nz-menu-item>
                  <a target="_blank"
                     href="https://www.youtube.com/channel/UCBL98BrVLzJxk8t8TXRFjhA">{{'info.button.videosOnYouTube' | translate}}</a>
                </li>
              </ul>
            </li>
            <li nz-submenu nzTitle="{{'info.button.discussion' | translate}}">
              <ul>
                <li nz-menu-item>
                  <a target="_blank" href="https://kb.sos-berlin.com/x/LYBB">{{'info.button.js7FAQ' | translate}}</a>
                </li>
                <li nz-menu-item>
                  <a target="_blank"
                     href="https://sourceforge.net/p/js7/discussion/">{{'info.button.js7Forum' | translate}}</a>
                </li>
              </ul>
            </li>
            <li nz-submenu nzTitle="{{'info.button.supportRequests' | translate}}">
              <ul>
                <li nz-menu-item>
                  <a target="_blank"
                     href="https://sourceforge.net/p/js7/_list/tickets">{{'info.button.openSourceUserTicketSystem' | translate}}</a>
                </li>
                <li nz-menu-item>
                  <a target="_blank"
                     href="https://support.sos-berlin.com/otrs/customer.pl?Lang=en">{{'info.button.customerTicketSystem' | translate}}</a>
                </li>
              </ul>
            </li>
            <li nz-menu-item><a href="mailto:sales@sos-berlin.com"
                                target="_top">{{'info.button.feedback' | translate}}</a></li>
          </ul>
        </nz-dropdown-menu>
      </li>

      <li class="nav-item dropdown">
        <a class="nav-link text-white pointer">
          <span class="avatar" id="avatarBg" [innerHtml]="username | slice:0:1"></span>
          <span class="cursor text-left p-l-sm" nz-dropdown nzTrigger="click" [nzDropdownMenu]="user"
                nzPlacement="bottomRight">
            <span class="_500 text-md">{{username | decodeSpace}}</span>
            <i class="fa fa-caret-down p-l-xs"></i>
          </span>
          <nz-dropdown-menu #user="nzDropdownMenu">
          <ul nz-menu>
            <li nz-menu-item routerLink="/user">
              <a>
                <i class="fa fa-user"></i>
                {{'header.button.profile' | translate}}
              </a>
            </li>
            <li nz-menu-item routerLink="/settings" [nzDisabled]="!schedulerIds.selected" *ngIf="permission && permission.joc && permission.joc.administration.settings.view">
              <a>
                <i class="fa fa-cog"></i>
                {{'header.button.settings' | translate}}
              </a>
            </li>
            <li nz-menu-item  routerLink="/logging">
              <a>
                <i class="fa fa-file"></i>
                {{'header.button.logging' | translate}}
              </a>
            </li>
            <li nz-menu-item routerLink="/users/account" *ngIf="permission && permission.joc && permission.joc.administration.accounts.view">
              <a><i class="fa fa-users"></i>
                {{'header.button.manageAccount' | translate}}
              </a>
            </li>
            <li nz-menu-item routerLink="/controllers" *ngIf="permission && permission.joc && permission.joc.administration.controllers.view">
              <a>
                <i class="fa fa-id-card-o"></i>
                {{'header.button.manageControllersAndAgents' | translate}}
              </a>
            </li>
            <li nz-menu-item (click)="logout()">
              <a>
                <i class="fa fa-sign-out"></i>
                {{'header.button.logOut' | translate}}
              </a>
            </li>
          </ul>
        </nz-dropdown-menu>
        </a>
      </li>
    </ul>
    <!-- navbar collapse -->
    <div class="collapse navbar-toggleable-custom" id="navbar1">
      <!-- link -->
      <ul class="nav navbar-nav navbar-nav-inline text-center pull-left nav-active-border b-orange">
        <li class="nav-item" *ngIf="(showViews && showViews.dashboard != undefined) ? showViews.dashboard : true">
          <a class="nav-link" routerLink="/dashboard" [routerLinkActive]="['active']">
            <span class="nav-text">
              <i class="icon-dashboard-icon text-white"></i>
              <span class="ico text-white text-u-c _600" translate>header.label.dashboard</span>
            </span>
          </a>
        </li>
        <li class="nav-item"
            *ngIf="((showViews && showViews.dailyPlan != undefined) ? showViews.dailyPlan : (permission.joc && permission.joc.dailyPlan.view && permission.controllerDefaults.orders.view))">
          <a class="nav-link" routerLink="/daily_plan" [routerLinkActive]="['active']">
            <span class="nav-text">
              <i class="icon-daily-plan-icon text-white"></i>
              <span class="ico text-white text-u-c _600" translate>header.label.dailyPlan</span>
            </span>
          </a>
        </li>
        <li class="nav-item"
            *ngIf="((showViews && showViews.workflows != undefined) ? showViews.workflows : (permission.controllerDefaults && permission.controllerDefaults.workflows.view))">
          <a class="nav-link" routerLink="/workflows" [routerLinkActive]="['active']">
            <span class="nav-text">
              <i class="icon-workflows-icon text-white"></i>
              <span class="ico text-white text-u-c _600" translate>header.label.workflows</span>
            </span>
          </a>
        </li>
        <li class="nav-item"
            *ngIf="((showViews && showViews.fileTransfer != undefined) ? showViews.fileTransfer : (permission.joc && permission.joc.fileTransfer.view))">
          <a class="nav-link" routerLink="/file_transfer" [routerLinkActive]="['active']">
            <span class="nav-text">
              <i class="icon-file-transfers-icon text-white"></i>
              <span class="ico text-white text-u-c _600" translate>header.label.fileTransfers</span>
            </span>
          </a>
        </li>
        <li class="nav-item" *ngIf="((showViews && showViews.resources != undefined) ? showViews.resources : (permission.controllerDefaults && (permission.controllerDefaults.agents.view || permission.controllerDefaults.locks.view ||
                    permission.joc.documentations.view  || permission.joc.calendars.view)))">
          <a class="nav-link" routerLink="/resources" [routerLinkActive]="['active']" (click)="navigateToResource()">
            <span class="nav-text">
              <i class="icon-resources-icon text-white"></i>
              <span class="ico text-white text-u-c _600" translate>header.label.resources</span>
            </span>
          </a>
        </li>
        <li class="nav-item"
            *ngIf="((showViews && showViews.history != undefined) ? showViews.history : (permission.controllerDefaults && (permission.controllerDefaults.orders.view || permission.joc.fileTransfer.view || permission.controllerDefaults.deployments.view || permission.joc.dailyPlan.view)))">
          <a class="nav-link" routerLink="/history" [routerLinkActive]="['active']">
            <span class="nav-text">
              <i class="icon-alarm-icon text-white"></i>
              <span class="ico text-white text-u-c _600" translate>header.label.history</span>
            </span>
          </a>
        </li>
        <li class="nav-item"
            *ngIf="((showViews && showViews.auditLog != undefined) ? showViews.auditLog : (permission.joc && permission.joc.auditLog.view))">
          <a class="nav-link" routerLink="/audit_log" [routerLinkActive]="['active']">
            <span class="nav-text">
              <i class="icon-audit-log-icon text-white"></i>
              <span class="ico text-white text-u-c _600" translate>header.label.auditLog</span>
            </span>
          </a>
        </li>
        <li class="nav-item"
            *ngIf="((showViews && showViews.configuration != undefined) ? showViews.configuration : (permission.joc && (permission.joc.inventory.view || permission.joc.fileTransfer.view || permission.joc.notification.view || permission.joc.others.view)))">
          <a class="nav-link" routerLink="/configuration" [routerLinkActive]="['active']"
             (click)="navigateToConfiguration()">
            <span class="nav-text">
              <i class="icon-configuration-icon text-white"></i>
              <span class="ico text-white text-u-c _600" translate>header.label.configuration</span>
            </span>
          </a>
        </li>
      </ul>
      <!-- end link -->
    </div>
    <!-- / navbar collapse -->
  </div>
</div>
