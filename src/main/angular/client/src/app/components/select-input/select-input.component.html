<div [ngClass]="{'has-error' : ((type.dirty || type.touched) && type.invalid)}">
  <nz-select
    [nzMode]="isMultiple ? 'multiple' : 'default'"
    #type="ngModel"
    [name]="name"
    [(ngModel)]="object[attributeName]"
    [nzDropdownClassName]="dropdownClassName"
    [id]="id"
    [ngClass]="ngClassName"
    [class]="classNames"
    (ngModelChange)="modelChange.emit($event)"
    [nzShowSearch]="isSearchable"
    [nzDisabled]="isSelectDisabled"
    [required]="isRequired"
    [nzAllowClear]="isAllowClear"
    [nzPlaceHolder]="placeholder | translate">
    @for (option of listArray; track optionValue ? option[optionValue] : option; let i = $index) {
      <nz-option [nzLabel]="!ignoreTranslate ? ((optionLabel ? option[optionLabel] : (extraLabelText && i == 0) ? (extraLabelText +  option) : option) | translate) : (optionLabel ? option[optionLabel] : (extraLabelText && i == 0) ? (extraLabelText +  option) : option)"
                 [nzValue]="optionValue ? option[optionValue] : option"
                 [nzDisabled]="option === '-----------------------------' || option.disable">
      </nz-option>
    }
  </nz-select>
  @if (type.invalid && (type.dirty || type.touched)) {
    <div class="text-danger help-block">
      @if (type.errors['required']) {
        <div translate>common.message.requiredError</div>
      }
    </div>
  }
</div>
